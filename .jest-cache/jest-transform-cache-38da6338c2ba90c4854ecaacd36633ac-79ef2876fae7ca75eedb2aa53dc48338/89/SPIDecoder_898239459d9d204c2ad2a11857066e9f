52ad218ff133c2fe9b8d7e61f790c2a9
"use strict";
/**
 * SPI协议解码器
 * 基于 @logicanalyzer/Software 的 spi/pd.py 精确移植
 * 实现完整的SPI协议解码功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.SPIDecoder = void 0;
const DecoderBase_1 = require("../DecoderBase");
const types_1 = require("../types");
/**
 * SPI模式定义
 * 基于CPOL和CPHA组合
 */
const _SPI_MODES = {
    '0,0': 0,
    '0,1': 1,
    '1,0': 2,
    '1,1': 3 // Mode 3: CPOL=1, CPHA=1
};
/**
 * SPI协议解码器实现
 * 对应原软件的 spi Decoder 类
 */
class SPIDecoder extends DecoderBase_1.DecoderBase {
    constructor() {
        super(...arguments);
        // 解码器元数据 - 完全匹配原Python解码器
        this.id = 'spi';
        this.name = 'SPI';
        this.longname = 'Serial Peripheral Interface';
        this.desc = 'Full-duplex, synchronous, serial bus.';
        this.license = 'gplv2+';
        this.inputs = ['logic'];
        this.outputs = ['spi'];
        this.tags = ['Embedded/industrial'];
        // 通道定义 - 匹配原解码器
        this.channels = [
            { id: 'clk', name: 'CLK', desc: 'Clock', required: true, index: 0 },
            { id: 'miso', name: 'MISO', desc: 'Master in, slave out', required: false, index: 1 },
            { id: 'mosi', name: 'MOSI', desc: 'Master out, slave in', required: false, index: 2 },
            { id: 'cs', name: 'CS#', desc: 'Chip-select', required: false, index: 3 }
        ];
        // 配置选项 - 匹配原解码器
        this.options = [
            {
                id: 'cs_polarity',
                desc: 'CS# polarity',
                default: 'active-low',
                values: ['active-low', 'active-high'],
                type: 'list'
            },
            {
                id: 'cpol',
                desc: 'Clock polarity',
                default: 0,
                values: ['0', '1'],
                type: 'list'
            },
            {
                id: 'cpha',
                desc: 'Clock phase',
                default: 0,
                values: ['0', '1'],
                type: 'list'
            },
            {
                id: 'bitorder',
                desc: 'Bit order',
                default: 'msb-first',
                values: ['msb-first', 'lsb-first'],
                type: 'list'
            },
            {
                id: 'wordsize',
                desc: 'Word size',
                default: 8,
                type: 'int'
            }
        ];
        // 注释类型定义 - 匹配原解码器的annotations
        this.annotations = [
            ['miso-data', 'MISO data'],
            ['mosi-data', 'MOSI data'],
            ['miso-bit', 'MISO bit'],
            ['mosi-bit', 'MOSI bit'],
            ['warning', 'Warning'],
            ['miso-transfer', 'MISO transfer'],
            ['mosi-transfer', 'MOSI transfer']
        ];
        // 注释行定义 - 匹配原解码器的annotation_rows
        this.annotationRows = [
            ['miso-bits', 'MISO bits', [2]],
            ['miso-data-vals', 'MISO data', [0]],
            ['miso-transfers', 'MISO transfers', [5]],
            ['mosi-bits', 'MOSI bits', [3]],
            ['mosi-data-vals', 'MOSI data', [1]],
            ['mosi-transfers', 'MOSI transfers', [6]],
            ['other', 'Other', [4]]
        ];
        // 解码器状态变量
        this.bitCount = 0;
        this.misoData = 0;
        this.mosiData = 0;
        this.misoBits = [];
        this.mosiBits = [];
        this.misoBytes = [];
        this.mosiBytes = [];
        this.ssBlock = -1;
        this.ssTransfer = -1;
        this.csWasDeasserted = false;
        this.lastCS = -1; // 跟踪上一次CS值
        // 通道可用性标志
        this.haveMiso = false;
        this.haveMosi = false;
        this.haveCS = false;
        // 选项值
        this.csPolarity = 'active-low';
        this.cpol = 0;
        this.cpha = 0;
        this.bitOrder = 'msb-first';
        this.wordSize = 8;
        this.byteWidth = 1; // (wordSize + 7) // 8
    }
    /**
     * 主解码方法
     * 对应原解码器的 decode() 方法
     */
    decode(sampleRate, channels, options) {
        // 初始化
        this.sampleRate = sampleRate;
        // 检查CLK是否可用（必需）
        if (channels.length === 0 || !channels[0].samples || channels[0].samples.length === 0) {
            return []; // 没有数据时返回空结果，不抛出错误
        }
        // 检查通道可用性（对应原版 lines 322-326）
        this.haveMiso = channels.length > 1 && channels[1].samples && channels[1].samples.length > 0;
        this.haveMosi = channels.length > 2 && channels[2].samples && channels[2].samples.length > 0;
        this.haveCS = channels.length > 3 && channels[3].samples && channels[3].samples.length > 0;
        // 验证至少有MISO或MOSI（对应原版 lines 324-325）
        if (!this.haveMiso && !this.haveMosi) {
            throw new Error('Either MISO or MOSI (or both) pins required.');
        }
        // 准备通道数据映射
        const channelMapping = [
            { captureIndex: 0, decoderIndex: 0 } // CLK - 必需
        ];
        if (this.haveMiso) {
            channelMapping.push({ captureIndex: 1, decoderIndex: 1 }); // MISO
        }
        if (this.haveMosi) {
            channelMapping.push({ captureIndex: 2, decoderIndex: 2 }); // MOSI
        }
        if (this.haveCS) {
            channelMapping.push({ captureIndex: 3, decoderIndex: 3 }); // CS
        }
        this.prepareChannelData(channels, channelMapping);
        // 处理选项
        this.processOptions(options);
        // 开始解码
        this.start();
        this.reset();
        // 如果没有CS信号，发送初始CS状态（对应原版 lines 327-328）
        if (!this.haveCS) {
            this.putCSChange(null, null);
        }
        // 构造等待条件（对应原版 lines 333-336）
        // 我们想要所有CLK变化，如果使用CS的话还要所有CS变化
        const waitConditions = [
            { 0: 'edge' } // 时钟的所有边沿
        ];
        let csConditionIndex = -1;
        if (this.haveCS) {
            csConditionIndex = waitConditions.length;
            waitConditions.push({ 3: 'edge' }); // CS的所有边沿
        }
        // "像素兼容性"获取第一个样本（对应原版 lines 338-343）
        if (this.hasMoreSamples()) {
            const pins = this.getCurrentPins();
            const clk = pins[0] || 0;
            const miso = pins[1] || 0;
            const mosi = pins[2] || 0;
            const cs = pins[3] || 0;
            this.findClockEdge(miso, mosi, clk, cs, true, null);
        }
        // 主解码循环（对应原版 lines 345-347）
        while (this.hasMoreSamples()) {
            try {
                const waitResult = this.wait(waitConditions);
                const matched = waitResult.matched;
                const clk = waitResult.pins[0] || 0;
                const miso = waitResult.pins[1] || 0;
                const mosi = waitResult.pins[2] || 0;
                const cs = waitResult.pins[3] || 0;
                this.findClockEdge(miso, mosi, clk, cs, false, matched);
            }
            catch (error) {
                if (error.message === 'End of samples reached') {
                    break;
                }
                throw error;
            }
        }
        return this.results;
    }
    /**
     * 处理配置选项
     */
    processOptions(options) {
        for (const option of options) {
            switch (option.optionIndex) {
                case 0: // cs_polarity
                    this.csPolarity = option.value;
                    break;
                case 1: // cpol
                    this.cpol = parseInt(option.value);
                    break;
                case 2: // cpha
                    this.cpha = parseInt(option.value);
                    break;
                case 3: // bitorder
                    this.bitOrder = option.value;
                    break;
                case 4: // wordsize
                    this.wordSize = option.value;
                    this.byteWidth = Math.floor((this.wordSize + 7) / 8);
                    break;
            }
        }
    }
    /**
     * 检查CS是否被断言
     * 对应原解码器的 cs_asserted()
     */
    csAsserted(cs) {
        const activeLow = this.csPolarity === 'active-low';
        return activeLow ? (cs === 0) : (cs === 1);
    }
    /**
     * 处理单个位
     * 对应原解码器的 handle_bit()
     */
    handleBit(miso, mosi, clk, cs) {
        // 如果是数据字的第一位，保存其样本编号
        if (this.bitCount === 0) {
            this.ssBlock = this.sampleIndex;
            this.csWasDeasserted = this.haveCS ? !this.csAsserted(cs) : false;
        }
        // 接收MISO位到移位寄存器
        if (this.haveMiso) {
            if (this.bitOrder === 'msb-first') {
                this.misoData |= miso << (this.wordSize - 1 - this.bitCount);
            }
            else {
                this.misoData |= miso << this.bitCount;
            }
        }
        // 接收MOSI位到移位寄存器
        if (this.haveMosi) {
            if (this.bitOrder === 'msb-first') {
                this.mosiData |= mosi << (this.wordSize - 1 - this.bitCount);
            }
            else {
                this.mosiData |= mosi << this.bitCount;
            }
        }
        // 估算此位的结束样本
        let es = this.sampleIndex;
        if (this.bitCount > 0) {
            if (this.haveMiso && this.misoBits.length > 0) {
                es += this.sampleIndex - this.misoBits[0].startSample;
            }
            else if (this.haveMosi && this.mosiBits.length > 0) {
                es += this.sampleIndex - this.mosiBits[0].startSample;
            }
        }
        // 保存位信息
        if (this.haveMiso) {
            this.misoBits.unshift({ value: miso, startSample: this.sampleIndex, endSample: es });
        }
        if (this.haveMosi) {
            this.mosiBits.unshift({ value: mosi, startSample: this.sampleIndex, endSample: es });
        }
        // 更新前一位的结束样本
        if (this.bitCount > 0) {
            if (this.haveMiso && this.misoBits.length > 1) {
                this.misoBits[1].endSample = this.sampleIndex;
            }
            if (this.haveMosi && this.mosiBits.length > 1) {
                this.mosiBits[1].endSample = this.sampleIndex;
            }
        }
        this.bitCount++;
        // 如果还没有收集到足够的位，继续接收
        if (this.bitCount !== this.wordSize) {
            return;
        }
        // 输出数据
        this.putData();
        // 计算比特率元数据
        if (this.sampleRate) {
            const elapsed = (this.sampleIndex - this.ssBlock + 1) / this.sampleRate;
            const _bitrate = Math.floor(this.wordSize / elapsed);
            // 可以在这里输出比特率信息或记录到日志
        }
        // 检查CS状态警告
        if (this.haveCS && this.csWasDeasserted) {
            this.put(this.ssBlock, this.sampleIndex, {
                type: types_1.DecoderOutputType.ANNOTATION,
                annotationType: 4,
                values: ['CS# was deasserted during this data word!']
            });
        }
        // 重置解码器状态
        this.resetDecoderState();
    }
    /**
     * 输出数据
     * 对应原解码器的 putdata() (lines 159-196)
     */
    putData() {
        // 传递MISO和MOSI位以及数据到堆栈上的下一个PD（对应原版 lines 160-164）
        const so = this.haveMiso ? this.misoData : null;
        const si = this.haveMosi ? this.mosiData : null;
        const soBits = this.haveMiso ? this.misoBits : null;
        const siBits = this.haveMosi ? this.mosiBits : null;
        // 计算时间范围（对应原版 lines 167-171）
        let ss, es;
        if (this.haveMiso && this.misoBits.length > 0) {
            ss = this.misoBits[this.misoBits.length - 1].startSample;
            es = this.misoBits[0].endSample;
        }
        else if (this.haveMosi && this.mosiBits.length > 0) {
            ss = this.mosiBits[this.mosiBits.length - 1].startSample;
            es = this.mosiBits[0].endSample;
        }
        else {
            return; // 没有数据
        }
        // 保存字节数据用于传输注释（对应原版 lines 178-181）
        if (this.haveMiso) {
            this.misoBytes.push({ startSample: ss, endSample: es, value: this.misoData });
        }
        if (this.haveMosi) {
            this.mosiBytes.push({ startSample: ss, endSample: es, value: this.mosiData });
        }
        // 位注释（对应原版 lines 183-189）
        if (this.haveMiso && this.misoBits.length > 0) {
            for (const bit of this.misoBits) {
                this.put(bit.startSample, bit.endSample, {
                    type: types_1.DecoderOutputType.ANNOTATION,
                    annotationType: 2,
                    values: [bit.value.toString()]
                });
            }
        }
        if (this.haveMosi && this.mosiBits.length > 0) {
            for (const bit of this.mosiBits) {
                this.put(bit.startSample, bit.endSample, {
                    type: types_1.DecoderOutputType.ANNOTATION,
                    annotationType: 3,
                    values: [bit.value.toString()]
                });
            }
        }
        // 数据字注释（对应原版 lines 191-195）
        if (this.haveMiso) {
            this.put(ss, es, {
                type: types_1.DecoderOutputType.ANNOTATION,
                annotationType: 0,
                values: [this.misoData.toString(16).toUpperCase().padStart(2, '0')],
                rawData: this.misoData
            });
        }
        if (this.haveMosi) {
            this.put(ss, es, {
                type: types_1.DecoderOutputType.ANNOTATION,
                annotationType: 1,
                values: [this.mosiData.toString(16).toUpperCase().padStart(2, '0')],
                rawData: this.mosiData
            });
        }
    }
    /**
     * 重置解码器状态
     * 对应原解码器的 reset_decoder_state()
     */
    resetDecoderState() {
        this.misoData = this.haveMiso ? 0 : 0;
        this.mosiData = this.haveMosi ? 0 : 0;
        this.misoBits = [];
        this.mosiBits = [];
        this.bitCount = 0;
    }
    /**
     * 查找时钟边沿
     * 对应原解码器的 find_clk_edge() (lines 270-314)
     */
    findClockEdge(miso, mosi, clk, cs, first, matched) {
        // 处理CS变化（对应原版 lines 271-292）
        if (this.haveCS && (first || (matched && matched.length > 1 && matched[1]))) {
            // 发送所有CS#引脚值变化（对应原版 lines 272-275）
            const oldCS = first ? null : (1 - cs); // 原版: oldcs = None if first else 1 - cs
            this.putCSChange(oldCS, cs);
            if (this.csAsserted(cs)) {
                // CS被断言，开始传输（对应原版 lines 277-280）
                this.ssTransfer = this.sampleIndex;
                this.misoBytes = [];
                this.mosiBytes = [];
            }
            else if (this.ssTransfer !== -1) {
                // CS被取消断言，结束传输（对应原版 lines 281-289）
                if (this.haveMiso && this.misoBytes.length > 0) {
                    const misoTransfer = this.misoBytes.map(x => x.value.toString(16).toUpperCase().padStart(2, '0')).join(' ');
                    this.put(this.ssTransfer, this.sampleIndex, {
                        type: types_1.DecoderOutputType.ANNOTATION,
                        annotationType: 5,
                        values: [misoTransfer]
                    });
                }
                if (this.haveMosi && this.mosiBytes.length > 0) {
                    const mosiTransfer = this.mosiBytes.map(x => x.value.toString(16).toUpperCase().padStart(2, '0')).join(' ');
                    this.put(this.ssTransfer, this.sampleIndex, {
                        type: types_1.DecoderOutputType.ANNOTATION,
                        annotationType: 6,
                        values: [mosiTransfer]
                    });
                }
                // 输出Python OUTPUT（对应原版 line 288-289）
                // 这里可以添加 TRANSFER Python 输出，暂时注释
            }
            // 当CS#变化时重置解码器状态（对应原版 lines 291-292）
            this.resetDecoderState();
        }
        // 只关心CS#断言时的样本（对应原版 lines 294-296）
        if (this.haveCS && !this.csAsserted(cs)) {
            return;
        }
        // 忽略时钟引脚未变化的样本（对应原版 lines 298-300）
        if (first || !(matched && matched[0])) {
            return;
        }
        // 在上升/下降时钟边沿采样数据（取决于模式）（对应原版 lines 302-314）
        const mode = this.getSPIMode();
        // 根据SPI模式和当前时钟状态决定是否采样
        // 由于我们等待的是边沿，所以我们知道时钟状态已经改变
        // 我们根据当前状态和模式来决定是否在此边沿采样
        let shouldSample = false;
        switch (mode) {
            case 0: // CPOL=0, CPHA=0: 在上升沿采样 (clk从0变为1)
                shouldSample = clk === 1;
                break;
            case 1: // CPOL=0, CPHA=1: 在下降沿采样 (clk从1变为0)
                shouldSample = clk === 0;
                break;
            case 2: // CPOL=1, CPHA=0: 在下降沿采样 (clk从1变为0)
                shouldSample = clk === 0;
                break;
            case 3: // CPOL=1, CPHA=1: 在上升沿采样 (clk从0变为1)
                shouldSample = clk === 1;
                break;
        }
        if (!shouldSample) {
            return;
        }
        // 找到正确的时钟边沿，现在获取SPI位（对应原版 lines 313-314）
        this.handleBit(miso, mosi, clk, cs);
    }
    /**
     * 获取SPI模式
     * 对应原版的 spi_mode 字典 (lines 66-71)
     */
    getSPIMode() {
        // Key: (CPOL, CPHA). Value: SPI mode.
        // Clock polarity (CPOL) = 0/1: Clock is low/high when inactive.
        // Clock phase (CPHA) = 0/1: Data is valid on the leading/trailing clock edge.
        const key = `${this.cpol},${this.cpha}`;
        return _SPI_MODES[key] || 0;
    }
    /**
     * 输出CS变化
     * 对应原版的 put CS-CHANGE (lines 274-275)
     */
    putCSChange(oldCS, newCS) {
        // 发送CS-CHANGE Python输出（对应原版 lines 274-275）
        // 在TypeScript版本中，我们通过注释来输出CS变化信息
        // 这里可以添加具体的CS变化注释输出
    }
    /**
     * 重置解码器状态
     */
    reset() {
        super.reset();
        this.bitCount = 0;
        this.misoData = 0;
        this.mosiData = 0;
        this.misoBits = [];
        this.mosiBits = [];
        this.misoBytes = [];
        this.mosiBytes = [];
        this.ssBlock = -1;
        this.ssTransfer = -1;
        this.csWasDeasserted = false;
        this.lastCS = -1;
    }
}
exports.SPIDecoder = SPIDecoder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvc3JjL2RlY29kZXJzL3Byb3RvY29scy9TUElEZWNvZGVyLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7QUFFSCxnREFBNkM7QUFDN0Msb0NBU2tCO0FBRWxCOzs7R0FHRztBQUNILE1BQU0sVUFBVSxHQUFHO0lBQ2pCLEtBQUssRUFBRSxDQUFDO0lBQ1IsS0FBSyxFQUFFLENBQUM7SUFDUixLQUFLLEVBQUUsQ0FBQztJQUNSLEtBQUssRUFBRSxDQUFDLENBQUUseUJBQXlCO0NBQzNCLENBQUM7QUFzQlg7OztHQUdHO0FBQ0gsTUFBYSxVQUFXLFNBQVEseUJBQVc7SUFBM0M7O1FBQ0UsMEJBQTBCO1FBQ2pCLE9BQUUsR0FBRyxLQUFLLENBQUM7UUFDWCxTQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ2IsYUFBUSxHQUFHLDZCQUE2QixDQUFDO1FBQ3pDLFNBQUksR0FBRyx1Q0FBdUMsQ0FBQztRQUMvQyxZQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ25CLFdBQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25CLFlBQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xCLFNBQUksR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFFeEMsZ0JBQWdCO1FBQ1AsYUFBUSxHQUFxQjtZQUNwQyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUNuRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ3JGLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUks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LEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7Q0FDRjtBQS9oQkQsZ0NBK2hCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9zaGFyZS9zYW1iYS92c2NvZGUtZXh0ZW5zaW9uL3BpY28tbG9naWNhbmFseXplci9zcmMvZGVjb2RlcnMvcHJvdG9jb2xzL1NQSURlY29kZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNQSeWNj+iuruino+eggeWZqFxyXG4gKiDln7rkuo4gQGxvZ2ljYW5hbHl6ZXIvU29mdHdhcmUg55qEIHNwaS9wZC5weSDnsr7noa7np7vmpI1cclxuICog5a6e546w5a6M5pW055qEU1BJ5Y2P6K6u6Kej56CB5Yqf6IO9XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRGVjb2RlckJhc2UgfSBmcm9tICcuLi9EZWNvZGVyQmFzZSc7XHJcbmltcG9ydCB7XHJcbiAgRGVjb2RlckNoYW5uZWwsXHJcbiAgRGVjb2Rlck9wdGlvbixcclxuICBEZWNvZGVyT3B0aW9uVmFsdWUsXHJcbiAgRGVjb2RlclJlc3VsdCxcclxuICBEZWNvZGVyT3V0cHV0VHlwZSxcclxuICBDaGFubmVsRGF0YSxcclxuICBXYWl0Q29uZGl0aW9ucyxcclxuICBXYWl0Q29uZGl0aW9uXHJcbn0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuLyoqXHJcbiAqIFNQSeaooeW8j+WumuS5iVxyXG4gKiDln7rkuo5DUE9M5ZKMQ1BIQee7hOWQiFxyXG4gKi9cclxuY29uc3QgX1NQSV9NT0RFUyA9IHtcclxuICAnMCwwJzogMCwgLy8gTW9kZSAwOiBDUE9MPTAsIENQSEE9MFxyXG4gICcwLDEnOiAxLCAvLyBNb2RlIDE6IENQT0w9MCwgQ1BIQT0xXHJcbiAgJzEsMCc6IDIsIC8vIE1vZGUgMjogQ1BPTD0xLCBDUEhBPTBcclxuICAnMSwxJzogMyAgLy8gTW9kZSAzOiBDUE9MPTEsIENQSEE9MVxyXG59IGFzIGNvbnN0O1xyXG5cclxuLyoqXHJcbiAqIOaVsOaNruS8oOi+k+S/oeaBr1xyXG4gKiDlr7nlupTljp/op6PnoIHlmajnmoQgRGF0YSBuYW1lZHR1cGxlXHJcbiAqL1xyXG5pbnRlcmZhY2UgU1BJRGF0YVRyYW5zZmVyIHtcclxuICBzdGFydFNhbXBsZTogbnVtYmVyO1xyXG4gIGVuZFNhbXBsZTogbnVtYmVyO1xyXG4gIHZhbHVlOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkvY3kv6Hmga/nu5PmnoRcclxuICog5a+55bqU5Y6f6Kej56CB5Zmo55qE5L2N5pWw57uEXHJcbiAqL1xyXG5pbnRlcmZhY2UgU1BJQml0SW5mbyB7XHJcbiAgdmFsdWU6IG51bWJlcjtcclxuICBzdGFydFNhbXBsZTogbnVtYmVyO1xyXG4gIGVuZFNhbXBsZTogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogU1BJ5Y2P6K6u6Kej56CB5Zmo5a6e546wXHJcbiAqIOWvueW6lOWOn+i9r+S7tueahCBzcGkgRGVjb2RlciDnsbtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTUElEZWNvZGVyIGV4dGVuZHMgRGVjb2RlckJhc2Uge1xyXG4gIC8vIOino+eggeWZqOWFg+aVsOaNriAtIOWujOWFqOWMuemFjeWOn1B5dGhvbuino+eggeWZqFxyXG4gIHJlYWRvbmx5IGlkID0gJ3NwaSc7XHJcbiAgcmVhZG9ubHkgbmFtZSA9ICdTUEknO1xyXG4gIHJlYWRvbmx5IGxvbmduYW1lID0gJ1NlcmlhbCBQZXJpcGhlcmFsIEludGVyZmFjZSc7XHJcbiAgcmVhZG9ubHkgZGVzYyA9ICdGdWxsLWR1cGxleCwgc3luY2hyb25vdXMsIHNlcmlhbCBidXMuJztcclxuICByZWFkb25seSBsaWNlbnNlID0gJ2dwbHYyKyc7XHJcbiAgcmVhZG9ubHkgaW5wdXRzID0gWydsb2dpYyddO1xyXG4gIHJlYWRvbmx5IG91dHB1dHMgPSBbJ3NwaSddO1xyXG4gIHJlYWRvbmx5IHRhZ3MgPSBbJ0VtYmVkZGVkL2luZHVzdHJpYWwnXTtcclxuXHJcbiAgLy8g6YCa6YGT5a6a5LmJIC0g5Yy56YWN5Y6f6Kej56CB5ZmoXHJcbiAgcmVhZG9ubHkgY2hhbm5lbHM6IERlY29kZXJDaGFubmVsW10gPSBbXHJcbiAgICB7IGlkOiAnY2xrJywgbmFtZTogJ0NMSycsIGRlc2M6ICdDbG9jaycsIHJlcXVpcmVkOiB0cnVlLCBpbmRleDogMCB9LFxyXG4gICAgeyBpZDogJ21pc28nLCBuYW1lOiAnTUlTTycsIGRlc2M6ICdNYXN0ZXIgaW4sIHNsYXZlIG91dCcsIHJlcXVpcmVkOiBmYWxzZSwgaW5kZXg6IDEgfSxcclxuICAgIHsgaWQ6ICdtb3NpJywgbmFtZTogJ01PU0knLCBkZXNjOiAnTWFzdGVyIG91dCwgc2xhdmUgaW4nLCByZXF1aXJlZDogZmFsc2UsIGluZGV4OiAyIH0sXHJcbiAgICB7IGlkOiAnY3MnLCBuYW1lOiAnQ1MjJywgZGVzYzogJ0NoaXAtc2VsZWN0JywgcmVxdWlyZWQ6IGZhbHNlLCBpbmRleDogMyB9XHJcbiAgXTtcclxuXHJcbiAgLy8g6YWN572u6YCJ6aG5IC0g5Yy56YWN5Y6f6Kej56CB5ZmoXHJcbiAgcmVhZG9ubHkgb3B0aW9uczogRGVjb2Rlck9wdGlvbltdID0gW1xyXG4gICAge1xyXG4gICAgICBpZDogJ2NzX3BvbGFyaXR5JyxcclxuICAgICAgZGVzYzogJ0NTIyBwb2xhcml0eScsXHJcbiAgICAgIGRlZmF1bHQ6ICdhY3RpdmUtbG93JyxcclxuICAgICAgdmFsdWVzOiBbJ2FjdGl2ZS1sb3cnLCAnYWN0aXZlLWhpZ2gnXSxcclxuICAgICAgdHlwZTogJ2xpc3QnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogJ2Nwb2wnLFxyXG4gICAgICBkZXNjOiAnQ2xvY2sgcG9sYXJpdHknLFxyXG4gICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB2YWx1ZXM6IFsnMCcsICcxJ10sXHJcbiAgICAgIHR5cGU6ICdsaXN0J1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6ICdjcGhhJyxcclxuICAgICAgZGVzYzogJ0Nsb2NrIHBoYXNlJyxcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgdmFsdWVzOiBbJzAnLCAnMSddLFxyXG4gICAgICB0eXBlOiAnbGlzdCdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiAnYml0b3JkZXInLFxyXG4gICAgICBkZXNjOiAnQml0IG9yZGVyJyxcclxuICAgICAgZGVmYXVsdDogJ21zYi1maXJzdCcsXHJcbiAgICAgIHZhbHVlczogWydtc2ItZmlyc3QnLCAnbHNiLWZpcnN0J10sXHJcbiAgICAgIHR5cGU6ICdsaXN0J1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaWQ6ICd3b3Jkc2l6ZScsXHJcbiAgICAgIGRlc2M6ICdXb3JkIHNpemUnLFxyXG4gICAgICBkZWZhdWx0OiA4LFxyXG4gICAgICB0eXBlOiAnaW50J1xyXG4gICAgfVxyXG4gIF07XHJcblxyXG4gIC8vIOazqOmHiuexu+Wei+WumuS5iSAtIOWMuemFjeWOn+ino+eggeWZqOeahGFubm90YXRpb25zXHJcbiAgcmVhZG9ubHkgYW5ub3RhdGlvbnM6IEFycmF5PFtzdHJpbmcsIHN0cmluZywgc3RyaW5nP10+ID0gW1xyXG4gICAgWydtaXNvLWRhdGEnLCAnTUlTTyBkYXRhJ10sXHJcbiAgICBbJ21vc2ktZGF0YScsICdNT1NJIGRhdGEnXSxcclxuICAgIFsnbWlzby1iaXQnLCAnTUlTTyBiaXQnXSxcclxuICAgIFsnbW9zaS1iaXQnLCAnTU9TSSBiaXQnXSxcclxuICAgIFsnd2FybmluZycsICdXYXJuaW5nJ10sXHJcbiAgICBbJ21pc28tdHJhbnNmZXInLCAnTUlTTyB0cmFuc2ZlciddLFxyXG4gICAgWydtb3NpLXRyYW5zZmVyJywgJ01PU0kgdHJhbnNmZXInXVxyXG4gIF07XHJcblxyXG4gIC8vIOazqOmHiuihjOWumuS5iSAtIOWMuemFjeWOn+ino+eggeWZqOeahGFubm90YXRpb25fcm93c1xyXG4gIHJlYWRvbmx5IGFubm90YXRpb25Sb3dzOiBBcnJheTxbc3RyaW5nLCBzdHJpbmcsIG51bWJlcltdXT4gPSBbXHJcbiAgICBbJ21pc28tYml0cycsICdNSVNPIGJpdHMnLCBbMl1dLFxyXG4gICAgWydtaXNvLWRhdGEtdmFscycsICdNSVNPIGRhdGEnLCBbMF1dLFxyXG4gICAgWydtaXNvLXRyYW5zZmVycycsICdNSVNPIHRyYW5zZmVycycsIFs1XV0sXHJcbiAgICBbJ21vc2ktYml0cycsICdNT1NJIGJpdHMnLCBbM11dLFxyXG4gICAgWydtb3NpLWRhdGEtdmFscycsICdNT1NJIGRhdGEnLCBbMV1dLFxyXG4gICAgWydtb3NpLXRyYW5zZmVycycsICdNT1NJIHRyYW5zZmVycycsIFs2XV0sXHJcbiAgICBbJ290aGVyJywgJ090aGVyJywgWzRdXVxyXG4gIF07XHJcblxyXG4gIC8vIOino+eggeWZqOeKtuaAgeWPmOmHj1xyXG4gIHByaXZhdGUgYml0Q291bnQgPSAwO1xyXG4gIHByaXZhdGUgbWlzb0RhdGEgPSAwO1xyXG4gIHByaXZhdGUgbW9zaURhdGEgPSAwO1xyXG5cclxuICBwcml2YXRlIG1pc29CaXRzOiBTUElCaXRJbmZvW10gPSBbXTtcclxuICBwcml2YXRlIG1vc2lCaXRzOiBTUElCaXRJbmZvW10gPSBbXTtcclxuICBwcml2YXRlIG1pc29CeXRlczogU1BJRGF0YVRyYW5zZmVyW10gPSBbXTtcclxuICBwcml2YXRlIG1vc2lCeXRlczogU1BJRGF0YVRyYW5zZmVyW10gPSBbXTtcclxuXHJcbiAgcHJpdmF0ZSBzc0Jsb2NrID0gLTE7XHJcbiAgcHJpdmF0ZSBzc1RyYW5zZmVyID0gLTE7XHJcbiAgcHJpdmF0ZSBjc1dhc0RlYXNzZXJ0ZWQgPSBmYWxzZTtcclxuICBwcml2YXRlIGxhc3RDUyA9IC0xOyAvLyDot5/ouKrkuIrkuIDmrKFDU+WAvFxyXG5cclxuICAvLyDpgJrpgZPlj6/nlKjmgKfmoIflv5dcclxuICBwcml2YXRlIGhhdmVNaXNvID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBoYXZlTW9zaSA9IGZhbHNlO1xyXG4gIHByaXZhdGUgaGF2ZUNTID0gZmFsc2U7XHJcblxyXG4gIC8vIOmAiemhueWAvFxyXG4gIHByaXZhdGUgY3NQb2xhcml0eSA9ICdhY3RpdmUtbG93JztcclxuICBwcml2YXRlIGNwb2wgPSAwO1xyXG4gIHByaXZhdGUgY3BoYSA9IDA7XHJcbiAgcHJpdmF0ZSBiaXRPcmRlciA9ICdtc2ItZmlyc3QnO1xyXG4gIHByaXZhdGUgd29yZFNpemUgPSA4O1xyXG4gIHByaXZhdGUgYnl0ZVdpZHRoID0gMTsgLy8gKHdvcmRTaXplICsgNykgLy8gOFxyXG5cclxuICAvKipcclxuICAgKiDkuLvop6PnoIHmlrnms5VcclxuICAgKiDlr7nlupTljp/op6PnoIHlmajnmoQgZGVjb2RlKCkg5pa55rOVXHJcbiAgICovXHJcbiAgZGVjb2RlKFxyXG4gICAgc2FtcGxlUmF0ZTogbnVtYmVyLFxyXG4gICAgY2hhbm5lbHM6IENoYW5uZWxEYXRhW10sXHJcbiAgICBvcHRpb25zOiBEZWNvZGVyT3B0aW9uVmFsdWVbXVxyXG4gICk6IERlY29kZXJSZXN1bHRbXSB7XHJcbiAgICAvLyDliJ3lp4vljJZcclxuICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XHJcblxyXG4gICAgLy8g5qOA5p+lQ0xL5piv5ZCm5Y+v55So77yI5b+F6ZyA77yJXHJcbiAgICBpZiAoY2hhbm5lbHMubGVuZ3RoID09PSAwIHx8ICFjaGFubmVsc1swXS5zYW1wbGVzIHx8IGNoYW5uZWxzWzBdLnNhbXBsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBbXTsgLy8g5rKh5pyJ5pWw5o2u5pe26L+U5Zue56m657uT5p6c77yM5LiN5oqb5Ye66ZSZ6K+vXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5qOA5p+l6YCa6YGT5Y+v55So5oCn77yI5a+55bqU5Y6f54mIIGxpbmVzIDMyMi0zMjbvvIlcclxuICAgIHRoaXMuaGF2ZU1pc28gPSBjaGFubmVscy5sZW5ndGggPiAxICYmIGNoYW5uZWxzWzFdLnNhbXBsZXMgJiYgY2hhbm5lbHNbMV0uc2FtcGxlcy5sZW5ndGggPiAwO1xyXG4gICAgdGhpcy5oYXZlTW9zaSA9IGNoYW5uZWxzLmxlbmd0aCA+IDIgJiYgY2hhbm5lbHNbMl0uc2FtcGxlcyAmJiBjaGFubmVsc1syXS5zYW1wbGVzLmxlbmd0aCA+IDA7XHJcbiAgICB0aGlzLmhhdmVDUyA9IGNoYW5uZWxzLmxlbmd0aCA+IDMgJiYgY2hhbm5lbHNbM10uc2FtcGxlcyAmJiBjaGFubmVsc1szXS5zYW1wbGVzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgLy8g6aqM6K+B6Iez5bCR5pyJTUlTT+aIlk1PU0nvvIjlr7nlupTljp/niYggbGluZXMgMzI0LTMyNe+8iVxyXG4gICAgaWYgKCF0aGlzLmhhdmVNaXNvICYmICF0aGlzLmhhdmVNb3NpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWl0aGVyIE1JU08gb3IgTU9TSSAob3IgYm90aCkgcGlucyByZXF1aXJlZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlh4blpIfpgJrpgZPmlbDmja7mmKDlsIRcclxuICAgIGNvbnN0IGNoYW5uZWxNYXBwaW5nID0gW1xyXG4gICAgICB7IGNhcHR1cmVJbmRleDogMCwgZGVjb2RlckluZGV4OiAwIH0gLy8gQ0xLIC0g5b+F6ZyAXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICh0aGlzLmhhdmVNaXNvKSB7XHJcbiAgICAgIGNoYW5uZWxNYXBwaW5nLnB1c2goeyBjYXB0dXJlSW5kZXg6IDEsIGRlY29kZXJJbmRleDogMSB9KTsgLy8gTUlTT1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaGF2ZU1vc2kpIHtcclxuICAgICAgY2hhbm5lbE1hcHBpbmcucHVzaCh7IGNhcHR1cmVJbmRleDogMiwgZGVjb2RlckluZGV4OiAyIH0pOyAvLyBNT1NJXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5oYXZlQ1MpIHtcclxuICAgICAgY2hhbm5lbE1hcHBpbmcucHVzaCh7IGNhcHR1cmVJbmRleDogMywgZGVjb2RlckluZGV4OiAzIH0pOyAvLyBDU1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJlcGFyZUNoYW5uZWxEYXRhKGNoYW5uZWxzLCBjaGFubmVsTWFwcGluZyk7XHJcblxyXG4gICAgLy8g5aSE55CG6YCJ6aG5XHJcbiAgICB0aGlzLnByb2Nlc3NPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgIC8vIOW8gOWni+ino+eggVxyXG4gICAgdGhpcy5zdGFydCgpO1xyXG4gICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgIC8vIOWmguaenOayoeaciUNT5L+h5Y+377yM5Y+R6YCB5Yid5aeLQ1PnirbmgIHvvIjlr7nlupTljp/niYggbGluZXMgMzI3LTMyOO+8iVxyXG4gICAgaWYgKCF0aGlzLmhhdmVDUykge1xyXG4gICAgICB0aGlzLnB1dENTQ2hhbmdlKG51bGwsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOaehOmAoOetieW+headoeS7tu+8iOWvueW6lOWOn+eJiCBsaW5lcyAzMzMtMzM277yJXHJcbiAgICAvLyDmiJHku6zmg7PopoHmiYDmnIlDTEvlj5jljJbvvIzlpoLmnpzkvb/nlKhDU+eahOivnei/mOimgeaJgOaciUNT5Y+Y5YyWXHJcbiAgICBjb25zdCB3YWl0Q29uZGl0aW9uczogV2FpdENvbmRpdGlvbltdID0gW1xyXG4gICAgICB7IDA6ICdlZGdlJyB9IC8vIOaXtumSn+eahOaJgOaciei+ueayv1xyXG4gICAgXTtcclxuXHJcbiAgICBsZXQgY3NDb25kaXRpb25JbmRleCA9IC0xO1xyXG4gICAgaWYgKHRoaXMuaGF2ZUNTKSB7XHJcbiAgICAgIGNzQ29uZGl0aW9uSW5kZXggPSB3YWl0Q29uZGl0aW9ucy5sZW5ndGg7XHJcbiAgICAgIHdhaXRDb25kaXRpb25zLnB1c2goeyAzOiAnZWRnZScgfSk7IC8vIENT55qE5omA5pyJ6L655rK/XHJcbiAgICB9XHJcblxyXG4gICAgLy8gXCLlg4/ntKDlhbzlrrnmgKdcIuiOt+WPluesrOS4gOS4quagt+acrO+8iOWvueW6lOWOn+eJiCBsaW5lcyAzMzgtMzQz77yJXHJcbiAgICBpZiAodGhpcy5oYXNNb3JlU2FtcGxlcygpKSB7XHJcbiAgICAgIGNvbnN0IHBpbnMgPSB0aGlzLmdldEN1cnJlbnRQaW5zKCk7XHJcbiAgICAgIGNvbnN0IGNsayA9IHBpbnNbMF0gfHwgMDtcclxuICAgICAgY29uc3QgbWlzbyA9IHBpbnNbMV0gfHwgMDtcclxuICAgICAgY29uc3QgbW9zaSA9IHBpbnNbMl0gfHwgMDtcclxuICAgICAgY29uc3QgY3MgPSBwaW5zWzNdIHx8IDA7XHJcblxyXG4gICAgICB0aGlzLmZpbmRDbG9ja0VkZ2UobWlzbywgbW9zaSwgY2xrLCBjcywgdHJ1ZSwgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Li76Kej56CB5b6q546v77yI5a+55bqU5Y6f54mIIGxpbmVzIDM0NS0zNDfvvIlcclxuICAgIHdoaWxlICh0aGlzLmhhc01vcmVTYW1wbGVzKCkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB3YWl0UmVzdWx0ID0gdGhpcy53YWl0KHdhaXRDb25kaXRpb25zKTtcclxuICAgICAgICBjb25zdCBtYXRjaGVkID0gd2FpdFJlc3VsdC5tYXRjaGVkITtcclxuXHJcbiAgICAgICAgY29uc3QgY2xrID0gd2FpdFJlc3VsdC5waW5zWzBdIHx8IDA7XHJcbiAgICAgICAgY29uc3QgbWlzbyA9IHdhaXRSZXN1bHQucGluc1sxXSB8fCAwO1xyXG4gICAgICAgIGNvbnN0IG1vc2kgPSB3YWl0UmVzdWx0LnBpbnNbMl0gfHwgMDtcclxuICAgICAgICBjb25zdCBjcyA9IHdhaXRSZXN1bHQucGluc1szXSB8fCAwO1xyXG5cclxuICAgICAgICB0aGlzLmZpbmRDbG9ja0VkZ2UobWlzbywgbW9zaSwgY2xrLCBjcywgZmFsc2UsIG1hdGNoZWQpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmICgoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgPT09ICdFbmQgb2Ygc2FtcGxlcyByZWFjaGVkJykge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVzdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhumFjee9rumAiemhuVxyXG4gICAqL1xyXG4gIHByaXZhdGUgcHJvY2Vzc09wdGlvbnMob3B0aW9uczogRGVjb2Rlck9wdGlvblZhbHVlW10pOiB2b2lkIHtcclxuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcclxuICAgICAgc3dpdGNoIChvcHRpb24ub3B0aW9uSW5kZXgpIHtcclxuICAgICAgICBjYXNlIDA6IC8vIGNzX3BvbGFyaXR5XHJcbiAgICAgICAgICB0aGlzLmNzUG9sYXJpdHkgPSBvcHRpb24udmFsdWUgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOiAvLyBjcG9sXHJcbiAgICAgICAgICB0aGlzLmNwb2wgPSBwYXJzZUludChvcHRpb24udmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjogLy8gY3BoYVxyXG4gICAgICAgICAgdGhpcy5jcGhhID0gcGFyc2VJbnQob3B0aW9uLnZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDM6IC8vIGJpdG9yZGVyXHJcbiAgICAgICAgICB0aGlzLmJpdE9yZGVyID0gb3B0aW9uLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNDogLy8gd29yZHNpemVcclxuICAgICAgICAgIHRoaXMud29yZFNpemUgPSBvcHRpb24udmFsdWUgYXMgbnVtYmVyO1xyXG4gICAgICAgICAgdGhpcy5ieXRlV2lkdGggPSBNYXRoLmZsb29yKCh0aGlzLndvcmRTaXplICsgNykgLyA4KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmo4Dmn6VDU+aYr+WQpuiiq+aWreiogFxyXG4gICAqIOWvueW6lOWOn+ino+eggeWZqOeahCBjc19hc3NlcnRlZCgpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjc0Fzc2VydGVkKGNzOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGFjdGl2ZUxvdyA9IHRoaXMuY3NQb2xhcml0eSA9PT0gJ2FjdGl2ZS1sb3cnO1xyXG4gICAgcmV0dXJuIGFjdGl2ZUxvdyA/IChjcyA9PT0gMCkgOiAoY3MgPT09IDEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG5Y2V5Liq5L2NXHJcbiAgICog5a+55bqU5Y6f6Kej56CB5Zmo55qEIGhhbmRsZV9iaXQoKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlQml0KG1pc286IG51bWJlciwgbW9zaTogbnVtYmVyLCBjbGs6IG51bWJlciwgY3M6IG51bWJlcik6IHZvaWQge1xyXG4gICAgLy8g5aaC5p6c5piv5pWw5o2u5a2X55qE56ys5LiA5L2N77yM5L+d5a2Y5YW25qC35pys57yW5Y+3XHJcbiAgICBpZiAodGhpcy5iaXRDb3VudCA9PT0gMCkge1xyXG4gICAgICB0aGlzLnNzQmxvY2sgPSB0aGlzLnNhbXBsZUluZGV4O1xyXG4gICAgICB0aGlzLmNzV2FzRGVhc3NlcnRlZCA9IHRoaXMuaGF2ZUNTID8gIXRoaXMuY3NBc3NlcnRlZChjcykgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmjqXmlLZNSVNP5L2N5Yiw56e75L2N5a+E5a2Y5ZmoXHJcbiAgICBpZiAodGhpcy5oYXZlTWlzbykge1xyXG4gICAgICBpZiAodGhpcy5iaXRPcmRlciA9PT0gJ21zYi1maXJzdCcpIHtcclxuICAgICAgICB0aGlzLm1pc29EYXRhIHw9IG1pc28gPDwgKHRoaXMud29yZFNpemUgLSAxIC0gdGhpcy5iaXRDb3VudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5taXNvRGF0YSB8PSBtaXNvIDw8IHRoaXMuYml0Q291bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmjqXmlLZNT1NJ5L2N5Yiw56e75L2N5a+E5a2Y5ZmoXHJcbiAgICBpZiAodGhpcy5oYXZlTW9zaSkge1xyXG4gICAgICBpZiAodGhpcy5iaXRPcmRlciA9PT0gJ21zYi1maXJzdCcpIHtcclxuICAgICAgICB0aGlzLm1vc2lEYXRhIHw9IG1vc2kgPDwgKHRoaXMud29yZFNpemUgLSAxIC0gdGhpcy5iaXRDb3VudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5tb3NpRGF0YSB8PSBtb3NpIDw8IHRoaXMuYml0Q291bnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDkvLDnrpfmraTkvY3nmoTnu5PmnZ/moLfmnKxcclxuICAgIGxldCBlcyA9IHRoaXMuc2FtcGxlSW5kZXg7XHJcbiAgICBpZiAodGhpcy5iaXRDb3VudCA+IDApIHtcclxuICAgICAgaWYgKHRoaXMuaGF2ZU1pc28gJiYgdGhpcy5taXNvQml0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZXMgKz0gdGhpcy5zYW1wbGVJbmRleCAtIHRoaXMubWlzb0JpdHNbMF0uc3RhcnRTYW1wbGU7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXZlTW9zaSAmJiB0aGlzLm1vc2lCaXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBlcyArPSB0aGlzLnNhbXBsZUluZGV4IC0gdGhpcy5tb3NpQml0c1swXS5zdGFydFNhbXBsZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOS/neWtmOS9jeS/oeaBr1xyXG4gICAgaWYgKHRoaXMuaGF2ZU1pc28pIHtcclxuICAgICAgdGhpcy5taXNvQml0cy51bnNoaWZ0KHsgdmFsdWU6IG1pc28sIHN0YXJ0U2FtcGxlOiB0aGlzLnNhbXBsZUluZGV4LCBlbmRTYW1wbGU6IGVzIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaGF2ZU1vc2kpIHtcclxuICAgICAgdGhpcy5tb3NpQml0cy51bnNoaWZ0KHsgdmFsdWU6IG1vc2ksIHN0YXJ0U2FtcGxlOiB0aGlzLnNhbXBsZUluZGV4LCBlbmRTYW1wbGU6IGVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOabtOaWsOWJjeS4gOS9jeeahOe7k+adn+agt+acrFxyXG4gICAgaWYgKHRoaXMuYml0Q291bnQgPiAwKSB7XHJcbiAgICAgIGlmICh0aGlzLmhhdmVNaXNvICYmIHRoaXMubWlzb0JpdHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIHRoaXMubWlzb0JpdHNbMV0uZW5kU2FtcGxlID0gdGhpcy5zYW1wbGVJbmRleDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5oYXZlTW9zaSAmJiB0aGlzLm1vc2lCaXRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICB0aGlzLm1vc2lCaXRzWzFdLmVuZFNhbXBsZSA9IHRoaXMuc2FtcGxlSW5kZXg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJpdENvdW50Kys7XHJcblxyXG4gICAgLy8g5aaC5p6c6L+Y5rKh5pyJ5pS26ZuG5Yiw6Laz5aSf55qE5L2N77yM57un57ut5o6l5pS2XHJcbiAgICBpZiAodGhpcy5iaXRDb3VudCAhPT0gdGhpcy53b3JkU2l6ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L6T5Ye65pWw5o2uXHJcbiAgICB0aGlzLnB1dERhdGEoKTtcclxuXHJcbiAgICAvLyDorqHnrpfmr5TnibnnjoflhYPmlbDmja5cclxuICAgIGlmICh0aGlzLnNhbXBsZVJhdGUpIHtcclxuICAgICAgY29uc3QgZWxhcHNlZCA9ICh0aGlzLnNhbXBsZUluZGV4IC0gdGhpcy5zc0Jsb2NrICsgMSkgLyB0aGlzLnNhbXBsZVJhdGU7XHJcbiAgICAgIGNvbnN0IF9iaXRyYXRlID0gTWF0aC5mbG9vcih0aGlzLndvcmRTaXplIC8gZWxhcHNlZCk7XHJcbiAgICAgIC8vIOWPr+S7peWcqOi/memHjOi+k+WHuuavlOeJueeOh+S/oeaBr+aIluiusOW9leWIsOaXpeW/l1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOajgOafpUNT54q25oCB6K2m5ZGKXHJcbiAgICBpZiAodGhpcy5oYXZlQ1MgJiYgdGhpcy5jc1dhc0RlYXNzZXJ0ZWQpIHtcclxuICAgICAgdGhpcy5wdXQodGhpcy5zc0Jsb2NrLCB0aGlzLnNhbXBsZUluZGV4LCB7XHJcbiAgICAgICAgdHlwZTogRGVjb2Rlck91dHB1dFR5cGUuQU5OT1RBVElPTixcclxuICAgICAgICBhbm5vdGF0aW9uVHlwZTogNCwgLy8gd2FybmluZ1xyXG4gICAgICAgIHZhbHVlczogWydDUyMgd2FzIGRlYXNzZXJ0ZWQgZHVyaW5nIHRoaXMgZGF0YSB3b3JkISddXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOmHjee9ruino+eggeWZqOeKtuaAgVxyXG4gICAgdGhpcy5yZXNldERlY29kZXJTdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6L6T5Ye65pWw5o2uXHJcbiAgICog5a+55bqU5Y6f6Kej56CB5Zmo55qEIHB1dGRhdGEoKSAobGluZXMgMTU5LTE5NilcclxuICAgKi9cclxuICBwcml2YXRlIHB1dERhdGEoKTogdm9pZCB7XHJcbiAgICAvLyDkvKDpgJJNSVNP5ZKMTU9TSeS9jeS7peWPiuaVsOaNruWIsOWghuagiOS4iueahOS4i+S4gOS4qlBE77yI5a+55bqU5Y6f54mIIGxpbmVzIDE2MC0xNjTvvIlcclxuICAgIGNvbnN0IHNvID0gdGhpcy5oYXZlTWlzbyA/IHRoaXMubWlzb0RhdGEgOiBudWxsO1xyXG4gICAgY29uc3Qgc2kgPSB0aGlzLmhhdmVNb3NpID8gdGhpcy5tb3NpRGF0YSA6IG51bGw7XHJcbiAgICBjb25zdCBzb0JpdHMgPSB0aGlzLmhhdmVNaXNvID8gdGhpcy5taXNvQml0cyA6IG51bGw7XHJcbiAgICBjb25zdCBzaUJpdHMgPSB0aGlzLmhhdmVNb3NpID8gdGhpcy5tb3NpQml0cyA6IG51bGw7XHJcblxyXG4gICAgLy8g6K6h566X5pe26Ze06IyD5Zu077yI5a+55bqU5Y6f54mIIGxpbmVzIDE2Ny0xNzHvvIlcclxuICAgIGxldCBzczogbnVtYmVyLCBlczogbnVtYmVyO1xyXG5cclxuICAgIGlmICh0aGlzLmhhdmVNaXNvICYmIHRoaXMubWlzb0JpdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBzcyA9IHRoaXMubWlzb0JpdHNbdGhpcy5taXNvQml0cy5sZW5ndGggLSAxXS5zdGFydFNhbXBsZTtcclxuICAgICAgZXMgPSB0aGlzLm1pc29CaXRzWzBdLmVuZFNhbXBsZTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5oYXZlTW9zaSAmJiB0aGlzLm1vc2lCaXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgc3MgPSB0aGlzLm1vc2lCaXRzW3RoaXMubW9zaUJpdHMubGVuZ3RoIC0gMV0uc3RhcnRTYW1wbGU7XHJcbiAgICAgIGVzID0gdGhpcy5tb3NpQml0c1swXS5lbmRTYW1wbGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47IC8vIOayoeacieaVsOaNrlxyXG4gICAgfVxyXG5cclxuICAgIC8vIOS/neWtmOWtl+iKguaVsOaNrueUqOS6juS8oOi+k+azqOmHiu+8iOWvueW6lOWOn+eJiCBsaW5lcyAxNzgtMTgx77yJXHJcbiAgICBpZiAodGhpcy5oYXZlTWlzbykge1xyXG4gICAgICB0aGlzLm1pc29CeXRlcy5wdXNoKHsgc3RhcnRTYW1wbGU6IHNzLCBlbmRTYW1wbGU6IGVzLCB2YWx1ZTogdGhpcy5taXNvRGF0YSB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmhhdmVNb3NpKSB7XHJcbiAgICAgIHRoaXMubW9zaUJ5dGVzLnB1c2goeyBzdGFydFNhbXBsZTogc3MsIGVuZFNhbXBsZTogZXMsIHZhbHVlOiB0aGlzLm1vc2lEYXRhIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOS9jeazqOmHiu+8iOWvueW6lOWOn+eJiCBsaW5lcyAxODMtMTg577yJXHJcbiAgICBpZiAodGhpcy5oYXZlTWlzbyAmJiB0aGlzLm1pc29CaXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCBiaXQgb2YgdGhpcy5taXNvQml0cykge1xyXG4gICAgICAgIHRoaXMucHV0KGJpdC5zdGFydFNhbXBsZSwgYml0LmVuZFNhbXBsZSwge1xyXG4gICAgICAgICAgdHlwZTogRGVjb2Rlck91dHB1dFR5cGUuQU5OT1RBVElPTixcclxuICAgICAgICAgIGFubm90YXRpb25UeXBlOiAyLCAvLyBtaXNvLWJpdFxyXG4gICAgICAgICAgdmFsdWVzOiBbYml0LnZhbHVlLnRvU3RyaW5nKCldXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5oYXZlTW9zaSAmJiB0aGlzLm1vc2lCaXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCBiaXQgb2YgdGhpcy5tb3NpQml0cykge1xyXG4gICAgICAgIHRoaXMucHV0KGJpdC5zdGFydFNhbXBsZSwgYml0LmVuZFNhbXBsZSwge1xyXG4gICAgICAgICAgdHlwZTogRGVjb2Rlck91dHB1dFR5cGUuQU5OT1RBVElPTixcclxuICAgICAgICAgIGFubm90YXRpb25UeXBlOiAzLCAvLyBtb3NpLWJpdFxyXG4gICAgICAgICAgdmFsdWVzOiBbYml0LnZhbHVlLnRvU3RyaW5nKCldXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmlbDmja7lrZfms6jph4rvvIjlr7nlupTljp/niYggbGluZXMgMTkxLTE5Ne+8iVxyXG4gICAgaWYgKHRoaXMuaGF2ZU1pc28pIHtcclxuICAgICAgdGhpcy5wdXQoc3MsIGVzLCB7XHJcbiAgICAgICAgdHlwZTogRGVjb2Rlck91dHB1dFR5cGUuQU5OT1RBVElPTixcclxuICAgICAgICBhbm5vdGF0aW9uVHlwZTogMCwgLy8gbWlzby1kYXRhXHJcbiAgICAgICAgdmFsdWVzOiBbdGhpcy5taXNvRGF0YS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKS5wYWRTdGFydCgyLCAnMCcpXSxcclxuICAgICAgICByYXdEYXRhOiB0aGlzLm1pc29EYXRhXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhdmVNb3NpKSB7XHJcbiAgICAgIHRoaXMucHV0KHNzLCBlcywge1xyXG4gICAgICAgIHR5cGU6IERlY29kZXJPdXRwdXRUeXBlLkFOTk9UQVRJT04sXHJcbiAgICAgICAgYW5ub3RhdGlvblR5cGU6IDEsIC8vIG1vc2ktZGF0YVxyXG4gICAgICAgIHZhbHVlczogW3RoaXMubW9zaURhdGEudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkucGFkU3RhcnQoMiwgJzAnKV0sXHJcbiAgICAgICAgcmF3RGF0YTogdGhpcy5tb3NpRGF0YVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmHjee9ruino+eggeWZqOeKtuaAgVxyXG4gICAqIOWvueW6lOWOn+ino+eggeWZqOeahCByZXNldF9kZWNvZGVyX3N0YXRlKClcclxuICAgKi9cclxuICBwcml2YXRlIHJlc2V0RGVjb2RlclN0YXRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5taXNvRGF0YSA9IHRoaXMuaGF2ZU1pc28gPyAwIDogMDtcclxuICAgIHRoaXMubW9zaURhdGEgPSB0aGlzLmhhdmVNb3NpID8gMCA6IDA7XHJcbiAgICB0aGlzLm1pc29CaXRzID0gW107XHJcbiAgICB0aGlzLm1vc2lCaXRzID0gW107XHJcbiAgICB0aGlzLmJpdENvdW50ID0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOafpeaJvuaXtumSn+i+ueayv1xyXG4gICAqIOWvueW6lOWOn+ino+eggeWZqOeahCBmaW5kX2Nsa19lZGdlKCkgKGxpbmVzIDI3MC0zMTQpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBmaW5kQ2xvY2tFZGdlKG1pc286IG51bWJlciwgbW9zaTogbnVtYmVyLCBjbGs6IG51bWJlciwgY3M6IG51bWJlciwgZmlyc3Q6IGJvb2xlYW4sIG1hdGNoZWQ6IGJvb2xlYW5bXSB8IG51bGwpOiB2b2lkIHtcclxuICAgIC8vIOWkhOeQhkNT5Y+Y5YyW77yI5a+55bqU5Y6f54mIIGxpbmVzIDI3MS0yOTLvvIlcclxuICAgIGlmICh0aGlzLmhhdmVDUyAmJiAoZmlyc3QgfHwgKG1hdGNoZWQgJiYgbWF0Y2hlZC5sZW5ndGggPiAxICYmIG1hdGNoZWRbMV0pKSkge1xyXG4gICAgICAvLyDlj5HpgIHmiYDmnIlDUyPlvJXohJrlgLzlj5jljJbvvIjlr7nlupTljp/niYggbGluZXMgMjcyLTI3Ne+8iVxyXG4gICAgICBjb25zdCBvbGRDUyA9IGZpcnN0ID8gbnVsbCA6ICgxIC0gY3MpOyAvLyDljp/niYg6IG9sZGNzID0gTm9uZSBpZiBmaXJzdCBlbHNlIDEgLSBjc1xyXG4gICAgICB0aGlzLnB1dENTQ2hhbmdlKG9sZENTLCBjcyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5jc0Fzc2VydGVkKGNzKSkge1xyXG4gICAgICAgIC8vIENT6KKr5pat6KiA77yM5byA5aeL5Lyg6L6T77yI5a+55bqU5Y6f54mIIGxpbmVzIDI3Ny0yODDvvIlcclxuICAgICAgICB0aGlzLnNzVHJhbnNmZXIgPSB0aGlzLnNhbXBsZUluZGV4O1xyXG4gICAgICAgIHRoaXMubWlzb0J5dGVzID0gW107XHJcbiAgICAgICAgdGhpcy5tb3NpQnl0ZXMgPSBbXTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnNzVHJhbnNmZXIgIT09IC0xKSB7XHJcbiAgICAgICAgLy8gQ1Pooqvlj5bmtojmlq3oqIDvvIznu5PmnZ/kvKDovpPvvIjlr7nlupTljp/niYggbGluZXMgMjgxLTI4Oe+8iVxyXG4gICAgICAgIGlmICh0aGlzLmhhdmVNaXNvICYmIHRoaXMubWlzb0J5dGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IG1pc29UcmFuc2ZlciA9IHRoaXMubWlzb0J5dGVzLm1hcCh4ID0+XHJcbiAgICAgICAgICAgIHgudmFsdWUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkucGFkU3RhcnQoMiwgJzAnKVxyXG4gICAgICAgICAgKS5qb2luKCcgJyk7XHJcbiAgICAgICAgICB0aGlzLnB1dCh0aGlzLnNzVHJhbnNmZXIsIHRoaXMuc2FtcGxlSW5kZXgsIHtcclxuICAgICAgICAgICAgdHlwZTogRGVjb2Rlck91dHB1dFR5cGUuQU5OT1RBVElPTixcclxuICAgICAgICAgICAgYW5ub3RhdGlvblR5cGU6IDUsIC8vIG1pc28tdHJhbnNmZXJcclxuICAgICAgICAgICAgdmFsdWVzOiBbbWlzb1RyYW5zZmVyXVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXZlTW9zaSAmJiB0aGlzLm1vc2lCeXRlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBtb3NpVHJhbnNmZXIgPSB0aGlzLm1vc2lCeXRlcy5tYXAoeCA9PlxyXG4gICAgICAgICAgICB4LnZhbHVlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDIsICcwJylcclxuICAgICAgICAgICkuam9pbignICcpO1xyXG4gICAgICAgICAgdGhpcy5wdXQodGhpcy5zc1RyYW5zZmVyLCB0aGlzLnNhbXBsZUluZGV4LCB7XHJcbiAgICAgICAgICAgIHR5cGU6IERlY29kZXJPdXRwdXRUeXBlLkFOTk9UQVRJT04sXHJcbiAgICAgICAgICAgIGFubm90YXRpb25UeXBlOiA2LCAvLyBtb3NpLXRyYW5zZmVyXHJcbiAgICAgICAgICAgIHZhbHVlczogW21vc2lUcmFuc2Zlcl1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6L6T5Ye6UHl0aG9uIE9VVFBVVO+8iOWvueW6lOWOn+eJiCBsaW5lIDI4OC0yODnvvIlcclxuICAgICAgICAvLyDov5nph4zlj6/ku6Xmt7vliqAgVFJBTlNGRVIgUHl0aG9uIOi+k+WHuu+8jOaaguaXtuazqOmHilxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDlvZNDUyPlj5jljJbml7bph43nva7op6PnoIHlmajnirbmgIHvvIjlr7nlupTljp/niYggbGluZXMgMjkxLTI5Mu+8iVxyXG4gICAgICB0aGlzLnJlc2V0RGVjb2RlclN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Y+q5YWz5b+DQ1Mj5pat6KiA5pe255qE5qC35pys77yI5a+55bqU5Y6f54mIIGxpbmVzIDI5NC0yOTbvvIlcclxuICAgIGlmICh0aGlzLmhhdmVDUyAmJiAhdGhpcy5jc0Fzc2VydGVkKGNzKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5b+955Wl5pe26ZKf5byV6ISa5pyq5Y+Y5YyW55qE5qC35pys77yI5a+55bqU5Y6f54mIIGxpbmVzIDI5OC0zMDDvvIlcclxuICAgIGlmIChmaXJzdCB8fCAhKG1hdGNoZWQgJiYgbWF0Y2hlZFswXSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWcqOS4iuWNhy/kuIvpmY3ml7bpkp/ovrnmsr/ph4fmoLfmlbDmja7vvIjlj5blhrPkuo7mqKHlvI/vvInvvIjlr7nlupTljp/niYggbGluZXMgMzAyLTMxNO+8iVxyXG4gICAgY29uc3QgbW9kZSA9IHRoaXMuZ2V0U1BJTW9kZSgpO1xyXG5cclxuICAgIC8vIOagueaNrlNQSeaooeW8j+WSjOW9k+WJjeaXtumSn+eKtuaAgeWGs+WumuaYr+WQpumHh+agt1xyXG4gICAgLy8g55Sx5LqO5oiR5Lus562J5b6F55qE5piv6L655rK/77yM5omA5Lul5oiR5Lus55+l6YGT5pe26ZKf54q25oCB5bey57uP5pS55Y+YXHJcbiAgICAvLyDmiJHku6zmoLnmja7lvZPliY3nirbmgIHlkozmqKHlvI/mnaXlhrPlrprmmK/lkKblnKjmraTovrnmsr/ph4fmoLdcclxuICAgIGxldCBzaG91bGRTYW1wbGUgPSBmYWxzZTtcclxuICAgIHN3aXRjaCAobW9kZSkge1xyXG4gICAgICBjYXNlIDA6IC8vIENQT0w9MCwgQ1BIQT0wOiDlnKjkuIrljYfmsr/ph4fmoLcgKGNsa+S7jjDlj5jkuLoxKVxyXG4gICAgICAgIHNob3VsZFNhbXBsZSA9IGNsayA9PT0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOiAvLyBDUE9MPTAsIENQSEE9MTog5Zyo5LiL6ZmN5rK/6YeH5qC3IChjbGvku44x5Y+Y5Li6MClcclxuICAgICAgICBzaG91bGRTYW1wbGUgPSBjbGsgPT09IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjogLy8gQ1BPTD0xLCBDUEhBPTA6IOWcqOS4i+mZjeayv+mHh+agtyAoY2xr5LuOMeWPmOS4ujApXHJcbiAgICAgICAgc2hvdWxkU2FtcGxlID0gY2xrID09PSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDM6IC8vIENQT0w9MSwgQ1BIQT0xOiDlnKjkuIrljYfmsr/ph4fmoLcgKGNsa+S7jjDlj5jkuLoxKVxyXG4gICAgICAgIHNob3VsZFNhbXBsZSA9IGNsayA9PT0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXNob3VsZFNhbXBsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5om+5Yiw5q2j56Gu55qE5pe26ZKf6L655rK/77yM546w5Zyo6I635Y+WU1BJ5L2N77yI5a+55bqU5Y6f54mIIGxpbmVzIDMxMy0zMTTvvIlcclxuICAgIHRoaXMuaGFuZGxlQml0KG1pc28sIG1vc2ksIGNsaywgY3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+WU1BJ5qih5byPXHJcbiAgICog5a+55bqU5Y6f54mI55qEIHNwaV9tb2RlIOWtl+WFuCAobGluZXMgNjYtNzEpXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRTUElNb2RlKCk6IG51bWJlciB7XHJcbiAgICAvLyBLZXk6IChDUE9MLCBDUEhBKS4gVmFsdWU6IFNQSSBtb2RlLlxyXG4gICAgLy8gQ2xvY2sgcG9sYXJpdHkgKENQT0wpID0gMC8xOiBDbG9jayBpcyBsb3cvaGlnaCB3aGVuIGluYWN0aXZlLlxyXG4gICAgLy8gQ2xvY2sgcGhhc2UgKENQSEEpID0gMC8xOiBEYXRhIGlzIHZhbGlkIG9uIHRoZSBsZWFkaW5nL3RyYWlsaW5nIGNsb2NrIGVkZ2UuXHJcbiAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmNwb2x9LCR7dGhpcy5jcGhhfWAgYXMga2V5b2YgdHlwZW9mIF9TUElfTU9ERVM7XHJcbiAgICByZXR1cm4gX1NQSV9NT0RFU1trZXldIHx8IDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDovpPlh7pDU+WPmOWMllxyXG4gICAqIOWvueW6lOWOn+eJiOeahCBwdXQgQ1MtQ0hBTkdFIChsaW5lcyAyNzQtMjc1KVxyXG4gICAqL1xyXG4gIHByaXZhdGUgcHV0Q1NDaGFuZ2Uob2xkQ1M6IG51bWJlciB8IG51bGwsIG5ld0NTOiBudW1iZXIgfCBudWxsKTogdm9pZCB7XHJcbiAgICAvLyDlj5HpgIFDUy1DSEFOR0UgUHl0aG9u6L6T5Ye677yI5a+55bqU5Y6f54mIIGxpbmVzIDI3NC0yNzXvvIlcclxuICAgIC8vIOWcqFR5cGVTY3JpcHTniYjmnKzkuK3vvIzmiJHku6zpgJrov4fms6jph4rmnaXovpPlh7pDU+WPmOWMluS/oeaBr1xyXG4gICAgLy8g6L+Z6YeM5Y+v5Lul5re75Yqg5YW35L2T55qEQ1Plj5jljJbms6jph4rovpPlh7pcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmHjee9ruino+eggeWZqOeKtuaAgVxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCByZXNldCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLnJlc2V0KCk7XHJcbiAgICB0aGlzLmJpdENvdW50ID0gMDtcclxuICAgIHRoaXMubWlzb0RhdGEgPSAwO1xyXG4gICAgdGhpcy5tb3NpRGF0YSA9IDA7XHJcbiAgICB0aGlzLm1pc29CaXRzID0gW107XHJcbiAgICB0aGlzLm1vc2lCaXRzID0gW107XHJcbiAgICB0aGlzLm1pc29CeXRlcyA9IFtdO1xyXG4gICAgdGhpcy5tb3NpQnl0ZXMgPSBbXTtcclxuICAgIHRoaXMuc3NCbG9jayA9IC0xO1xyXG4gICAgdGhpcy5zc1RyYW5zZmVyID0gLTE7XHJcbiAgICB0aGlzLmNzV2FzRGVhc3NlcnRlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q1MgPSAtMTtcclxuICB9XHJcbn1cclxuIl0sInZlcnNpb24iOjN9