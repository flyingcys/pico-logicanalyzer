7f2f6a336e71534a245d86c4887e7ed7
"use strict";
/**
 * BinaryDataParser 模块单元测试套件
 * 全面测试二进制数据解析器的功能和性能
 */
Object.defineProperty(exports, "__esModule", { value: true });
const BinaryDataParser_1 = require("../../../src/models/BinaryDataParser");
const CaptureModels_1 = require("../../../src/models/CaptureModels");
const AnalyzerTypes_1 = require("../../../src/models/AnalyzerTypes");
describe('BinaryDataParser 模块测试套件', () => {
    describe('BinaryDataParser 基础功能测试', () => {
        let parser;
        let session;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
            session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000;
            session.preTriggerSamples = 100;
            session.postTriggerSamples = 1000;
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'Channel 0'),
                new CaptureModels_1.AnalyzerChannel(1, 'Channel 1'),
                new CaptureModels_1.AnalyzerChannel(2, 'Channel 2')
            ];
        });
        it('应该正确初始化默认配置', () => {
            const config = parser.getConfig();
            expect(config.format).toBe(BinaryDataParser_1.BinaryDataFormat.Raw);
            expect(config.compressionThreshold).toBe(1024 * 1024);
            expect(config.enableOptimization).toBe(true);
            expect(config.chunkSize).toBe(64 * 1024);
            expect(config.enableValidation).toBe(true);
        });
        it('应该正确更新配置', () => {
            const newConfig = {
                format: BinaryDataParser_1.BinaryDataFormat.Compressed,
                enableOptimization: false,
                chunkSize: 32 * 1024
            };
            parser.updateConfig(newConfig);
            const updatedConfig = parser.getConfig();
            expect(updatedConfig.format).toBe(BinaryDataParser_1.BinaryDataFormat.Compressed);
            expect(updatedConfig.enableOptimization).toBe(false);
            expect(updatedConfig.chunkSize).toBe(32 * 1024);
            // 其他配置应该保持不变
            expect(updatedConfig.compressionThreshold).toBe(1024 * 1024);
            expect(updatedConfig.enableValidation).toBe(true);
        });
        it('应该接受自定义配置初始化', () => {
            const customConfig = {
                format: BinaryDataParser_1.BinaryDataFormat.RLE,
                compressionThreshold: 2048,
                enableOptimization: false,
                chunkSize: 1024,
                enableValidation: false
            };
            const customParser = new BinaryDataParser_1.BinaryDataParser(customConfig);
            const config = customParser.getConfig();
            expect(config.format).toBe(BinaryDataParser_1.BinaryDataFormat.RLE);
            expect(config.compressionThreshold).toBe(2048);
            expect(config.enableOptimization).toBe(false);
            expect(config.chunkSize).toBe(1024);
            expect(config.enableValidation).toBe(false);
        });
    });
    describe('数据验证测试', () => {
        let parser;
        let session;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
            session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000;
            session.preTriggerSamples = 10;
            session.postTriggerSamples = 100;
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
        });
        it('应该拒绝过短的数据', async () => {
            const shortData = new Uint8Array([0x01, 0x02]); // 只有2字节，小于最小8字节
            const result = await parser.parseBinaryData(shortData, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(result.success).toBe(false);
            expect(result.warnings.some(w => w.includes('Data too short'))).toBe(true);
        });
        it('应该拒绝没有通道的会话', async () => {
            session.captureChannels = [];
            const data = new Uint8Array(100); // 足够长的数据
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(result.success).toBe(false);
            expect(result.warnings.some(w => w.includes('No capture channels defined'))).toBe(true);
        });
        it('应该拒绝超出采集模式限制的通道', async () => {
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(10, 'CH10') // 超出Channels_8模式的限制
            ];
            const data = new Uint8Array(100);
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(result.success).toBe(false);
            expect(result.warnings.some(w => w.includes('exceeds max supported channels'))).toBe(true);
        });
        it('应该对数据长度不足发出警告', async () => {
            const data = new Uint8Array(20); // 长度不足的数据
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            // 虽然解析失败，但应该产生警告
            expect(result.warnings.some(w => w.includes('less than expected'))).toBe(true);
        });
    });
    describe('二进制数据解析测试', () => {
        let parser;
        let session;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
            session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000;
            session.preTriggerSamples = 0;
            session.postTriggerSamples = 10;
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1'),
                new CaptureModels_1.AnalyzerChannel(7, 'CH7')
            ];
        });
        it('应该正确解析8通道模式数据', async () => {
            // 构造测试数据：样本数量(4字节) + 样本数据(10字节) + 时间戳长度(1字节)
            const data = new Uint8Array(15);
            const view = new DataView(data.buffer);
            // 样本数量 = 10
            view.setUint32(0, 10, true);
            // 样本数据：10个字节，每个字节代表8个通道的状态
            const sampleBytes = [
                0b00000001,
                0b00000010,
                0b10000000,
                0b00000011,
                0b10000001,
                0b10000010,
                0b10000011,
                0b00000000,
                0b11111111,
                0b01010101 // 交替模式
            ];
            for (let i = 0; i < sampleBytes.length; i++) {
                view.setUint8(4 + i, sampleBytes[i]);
            }
            // 时间戳长度 = 0
            view.setUint8(14, 0);
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(result.success).toBe(true);
            expect(result.channels).toHaveLength(3);
            expect(result.totalSamples).toBe(10);
            // 验证CH0的数据
            const ch0 = result.channels.find(ch => ch.channelNumber === 0);
            expect(ch0).toBeDefined();
            expect(ch0.samples).toEqual(new Uint8Array([1, 0, 0, 1, 1, 0, 1, 0, 1, 1]));
            // 验证CH1的数据
            const ch1 = result.channels.find(ch => ch.channelNumber === 1);
            expect(ch1).toBeDefined();
            expect(ch1.samples).toEqual(new Uint8Array([0, 1, 0, 1, 0, 1, 1, 0, 1, 0]));
            // 验证CH7的数据
            const ch7 = result.channels.find(ch => ch.channelNumber === 7);
            expect(ch7).toBeDefined();
            expect(ch7.samples).toEqual(new Uint8Array([0, 0, 1, 0, 1, 1, 1, 0, 1, 0]));
        });
        it('应该正确解析16通道模式数据', async () => {
            // 16通道模式使用16位数据
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(8, 'CH8'),
                new CaptureModels_1.AnalyzerChannel(15, 'CH15')
            ];
            const data = new Uint8Array(11); // 4字节样本数 + 6字节样本数据(3个16位样本) + 1字节时间戳长度
            const view = new DataView(data.buffer);
            view.setUint32(0, 3, true); // 3个样本
            // 样本数据 (16位, little endian)
            view.setUint16(4, 0b0000000100000001, true); // CH0=1, CH8=1
            view.setUint16(6, 0b1000000000000000, true); // CH15=1
            view.setUint16(8, 0b1000000100000001, true); // CH0=1, CH8=1, CH15=1
            view.setUint8(10, 0); // 时间戳长度
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_16);
            expect(result.success).toBe(true);
            expect(result.channels).toHaveLength(3);
            const ch0 = result.channels.find(ch => ch.channelNumber === 0);
            expect(ch0.samples).toEqual(new Uint8Array([1, 0, 1]));
            const ch8 = result.channels.find(ch => ch.channelNumber === 8);
            expect(ch8.samples).toEqual(new Uint8Array([1, 0, 1]));
            const ch15 = result.channels.find(ch => ch.channelNumber === 15);
            expect(ch15.samples).toEqual(new Uint8Array([0, 1, 1]));
        });
        it('应该正确解析24通道模式数据', async () => {
            // 24通道模式使用32位数据
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(16, 'CH16'),
                new CaptureModels_1.AnalyzerChannel(23, 'CH23')
            ];
            const data = new Uint8Array(13); // 4字节样本数 + 8字节样本数据(2个32位样本) + 1字节时间戳长度
            const view = new DataView(data.buffer);
            view.setUint32(0, 2, true); // 2个样本
            // 样本数据 (32位, little endian)
            // CH0=bit0=1, CH16=bit16=1: 0x00010001
            view.setUint32(4, 0x00010001, true);
            // CH0=bit0=1, CH16=bit16=1, CH23=bit23=1: 0x00810001  
            view.setUint32(8, 0x00810001, true);
            view.setUint8(12, 0); // 时间戳长度
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_24);
            expect(result.success).toBe(true);
            expect(result.channels).toHaveLength(3);
            const ch0 = result.channels.find(ch => ch.channelNumber === 0);
            expect(ch0.samples).toEqual(new Uint8Array([1, 1]));
            const ch16 = result.channels.find(ch => ch.channelNumber === 16);
            expect(ch16.samples).toEqual(new Uint8Array([1, 1]));
            const ch23 = result.channels.find(ch => ch.channelNumber === 23);
            expect(ch23.samples).toEqual(new Uint8Array([0, 1]));
        });
    });
    describe('数据压缩和优化测试', () => {
        let parser;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser({
                enableOptimization: true,
                compressionThreshold: 100 // 低阈值用于测试
            });
        });
        it('应该正确进行RLE压缩', () => {
            // 通过反射访问私有方法进行测试
            const testData = new Uint8Array([1, 1, 1, 0, 0, 1, 1, 1, 1]);
            const compressed = parser.compressChannelData(testData);
            // RLE格式: [值, 计数, 值, 计数, ...]
            expect(compressed).toEqual(new Uint8Array([1, 3, 0, 2, 1, 4]));
        });
        it('应该正确进行RLE解压缩', () => {
            const compressedData = new Uint8Array([1, 3, 0, 2, 1, 4]);
            const decompressed = parser.decompressChannelData(compressedData);
            expect(decompressed).toEqual(new Uint8Array([1, 1, 1, 0, 0, 1, 1, 1, 1]));
        });
        it('应该正确处理压缩边界情况', () => {
            // 测试最大计数255
            const longSequence = new Uint8Array(300).fill(1);
            const compressed = parser.compressChannelData(longSequence);
            // 应该分成255 + 45的两段
            expect(compressed[0]).toBe(1); // 值
            expect(compressed[1]).toBe(255); // 最大计数
            expect(compressed[2]).toBe(1); // 值
            expect(compressed[3]).toBe(45); // 剩余计数
        });
        it('应该触发压缩优化条件覆盖294-295行', async () => {
            // 创建一个低压缩阈值的解析器
            const lowThresholdParser = new BinaryDataParser_1.BinaryDataParser({
                enableOptimization: true,
                compressionThreshold: 50 // 低阈值以便触发压缩
            });
            const session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000;
            session.preTriggerSamples = 0;
            session.postTriggerSamples = 100;
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0')
            ];
            // 创建高重复性数据，100个样本，全部为相同值以获得高压缩率
            const data = new Uint8Array(105); // 4字节头 + 100字节数据 + 1字节时间戳长度
            const view = new DataView(data.buffer);
            view.setUint32(0, 100, true); // 100个样本
            // 填充重复数据 - 全部为0xFF以获得高压缩率
            for (let i = 0; i < 100; i++) {
                view.setUint8(4 + i, 0xFF);
            }
            view.setUint8(104, 0); // 时间戳长度
            const result = await lowThresholdParser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(result.success).toBe(true);
            expect(result.channels).toHaveLength(1);
            expect(result.channels[0].samples).toHaveLength(100);
            // 验证所有样本都是1（因为0xFF的bit 0是1）
            for (let i = 0; i < 100; i++) {
                expect(result.channels[0].samples[i]).toBe(1);
            }
        });
    });
    describe('高级通道提取测试', () => {
        let parser;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
        });
        it('应该正确进行高级通道提取', () => {
            const sampleData = new Uint32Array([
                0b11111000,
                0b01100100,
                0b10101000 // 样本3: bit0=0, bit3=1
            ]);
            const configs = [
                {
                    channelMask: 0b00000001,
                    bitOffset: 0,
                    invertLogic: false,
                    enableFiltering: false,
                    filterWidth: 1
                },
                {
                    channelMask: 0b00001000,
                    bitOffset: 3,
                    invertLogic: true,
                    enableFiltering: false,
                    filterWidth: 1
                }
            ];
            const results = parser.extractChannelsAdvanced(sampleData, configs);
            expect(results).toHaveLength(2);
            // 通道0 (bit 0): [0, 0, 0]
            expect(results[0]).toEqual(new Uint8Array([0, 0, 0]));
            // 通道1 (bit 3, 反转): 原始值[1, 0, 1] -> 反转后[0, 1, 0]
            expect(results[1]).toEqual(new Uint8Array([0, 1, 0]));
        });
        it('应该正确应用中值滤波', () => {
            const testData = new Uint8Array([0, 1, 0, 1, 0, 1, 0]);
            // 应用3点中值滤波
            parser.applyMedianFilter(testData, 3);
            // 中值滤波应该平滑噪声
            expect(testData[0]).toBe(1); // 边界处理: 中值([0,1]) = 1
            expect(testData[1]).toBe(0); // 中值([0,0,1]) = 0
            expect(testData[2]).toBe(1); // 中值([0,1,1]) = 1
            expect(testData[3]).toBe(0); // 中值([0,0,1]) = 0
            expect(testData[4]).toBe(1); // 中值(1,0,1) = 1
            expect(testData[5]).toBe(0); // 中值(0,1,0) = 0
            expect(testData[6]).toBe(1); // 边界处理
        });
        it('应该在高级通道提取中正确应用滤波', () => {
            const sampleData = new Uint32Array([
                0b11111000,
                0b01100100,
                0b10101000,
                0b11111000,
                0b01100100 // 样本5: bit0=0, bit3=0
            ]);
            const configs = [
                {
                    channelMask: 0b00001000,
                    bitOffset: 3,
                    invertLogic: false,
                    enableFiltering: true,
                    filterWidth: 3 // 3点滤波
                }
            ];
            const results = parser.extractChannelsAdvanced(sampleData, configs);
            expect(results).toHaveLength(1);
            // 滤波后的结果应该被平滑处理
            expect(results[0]).toHaveLength(5);
        });
    });
    describe('数据完整性验证测试', () => {
        let parser;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
        });
        it('应该验证完整的通道数据', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            channels[0].samples = new Uint8Array([0, 1, 0, 1]);
            channels[1].samples = new Uint8Array([1, 0, 1, 0]);
            const result = parser.validateDataIntegrity(channels);
            expect(result.isValid).toBe(true);
            expect(result.errors).toHaveLength(0);
            expect(result.statistics.totalSamples).toBe(4);
            expect(result.statistics.channelsWithData).toBe(2);
        });
        it('应该检测缺少样本数据的通道', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            channels[0].samples = new Uint8Array([0, 1, 0, 1]);
            // channels[1].samples 未设置
            const result = parser.validateDataIntegrity(channels);
            expect(result.isValid).toBe(false);
            expect(result.errors.some(e => e.includes('has no sample data'))).toBe(true);
        });
        it('应该检测空样本数据', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0')
            ];
            channels[0].samples = new Uint8Array(); // 空数组
            const result = parser.validateDataIntegrity(channels);
            expect(result.isValid).toBe(false);
            expect(result.errors.some(e => e.includes('has empty sample data'))).toBe(true);
        });
        it('应该检测无效的样本值', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0')
            ];
            channels[0].samples = new Uint8Array([0, 1, 2, 1]); // 包含无效值2
            const result = parser.validateDataIntegrity(channels);
            expect(result.isValid).toBe(false);
            expect(result.errors.some(e => e.includes('has invalid value 2'))).toBe(true);
        });
        it('应该检测样本数量不一致', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            channels[0].samples = new Uint8Array([0, 1, 0, 1]);
            channels[1].samples = new Uint8Array([1, 0]); // 长度不一致
            const result = parser.validateDataIntegrity(channels);
            expect(result.isValid).toBe(false);
            expect(result.errors.some(e => e.includes('sample count') && e.includes('differs from expected'))).toBe(true);
        });
    });
    describe('统一数据格式转换测试', () => {
        let parser;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
        });
        it('应该正确转换为统一数据格式', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            channels[0].samples = new Uint8Array([0, 1, 0]);
            channels[1].samples = new Uint8Array([1, 0, 1]);
            const session = new CaptureModels_1.CaptureSession();
            const deviceInfo = { name: 'Test Device' };
            const result = parser.convertToUnifiedFormat(channels, session, deviceInfo);
            expect(result.data).toHaveLength(2);
            expect(result.data[0]).toEqual(new Uint8Array([0, 1, 0]));
            expect(result.data[1]).toEqual(new Uint8Array([1, 0, 1]));
            expect(result.encoding).toBe('binary');
            expect(result.compression).toBe('none');
        });
        it('应该正确从统一数据格式转换', () => {
            const digitalData = {
                data: [
                    new Uint8Array([0, 1, 0]),
                    new Uint8Array([1, 0, 1])
                ],
                encoding: 'binary',
                compression: 'none'
            };
            const channelInfo = [
                { channelNumber: 0, channelName: 'CH0' },
                { channelNumber: 1, channelName: 'CH1' }
            ];
            const channels = parser.convertFromUnifiedFormat(digitalData, channelInfo);
            expect(channels).toHaveLength(2);
            expect(channels[0].channelNumber).toBe(0);
            expect(channels[0].channelName).toBe('CH0');
            expect(channels[0].samples).toEqual(new Uint8Array([0, 1, 0]));
            expect(channels[1].channelNumber).toBe(1);
            expect(channels[1].channelName).toBe('CH1');
            expect(channels[1].samples).toEqual(new Uint8Array([1, 0, 1]));
        });
        it('应该正确处理RLE编码的统一数据格式', () => {
            const digitalData = {
                data: [
                    new Uint8Array([1, 3, 0, 2]) // RLE: 3个1, 2个0
                ],
                encoding: 'rle',
                compression: 'none'
            };
            const channelInfo = [
                { channelNumber: 0, channelName: 'CH0' }
            ];
            const channels = parser.convertFromUnifiedFormat(digitalData, channelInfo);
            expect(channels).toHaveLength(1);
            expect(channels[0].samples).toEqual(new Uint8Array([1, 1, 1, 0, 0]));
        });
    });
    describe('性能和内存测试', () => {
        let parser;
        beforeEach(() => {
            parser = new BinaryDataParser_1.BinaryDataParser();
        });
        it('应该正确计算内存使用量', () => {
            const channels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            channels[0].samples = new Uint8Array(1000);
            channels[1].samples = new Uint8Array(2000);
            const memoryUsage = parser.calculateMemoryUsage(channels);
            // 3000字节样本数据 + 2 * 64字节对象开销 = 3128字节
            expect(memoryUsage).toBe(3128);
        });
        it('应该处理大数据量解析', async () => {
            const session = new CaptureModels_1.CaptureSession();
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
            // 创建大数据集 (10000个样本)
            const sampleCount = 10000;
            const data = new Uint8Array(4 + sampleCount + 1);
            const view = new DataView(data.buffer);
            view.setUint32(0, sampleCount, true);
            // 填充随机样本数据
            for (let i = 0; i < sampleCount; i++) {
                view.setUint8(4 + i, Math.random() > 0.5 ? 0xFF : 0x00);
            }
            view.setUint8(4 + sampleCount, 0); // 时间戳长度
            const startTime = performance.now();
            const result = await parser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
            const parseTime = performance.now() - startTime;
            expect(result.success).toBe(true);
            expect(result.totalSamples).toBe(sampleCount);
            expect(parseTime).toBeLessThan(1000); // 应该在1秒内完成
            expect(result.parseTime).toBeGreaterThan(0);
            expect(result.memoryUsage).toBeGreaterThan(0);
        });
    });
});
describe('BinaryDataParserFactory 工厂类测试', () => {
    it('应该为Pico设备创建优化的解析器', () => {
        const parser = BinaryDataParser_1.BinaryDataParserFactory.createForDevice('pico', 8);
        const config = parser.getConfig();
        expect(config.chunkSize).toBe(32 * 1024);
        expect(config.compressionThreshold).toBe(512 * 1024);
        expect(config.enableOptimization).toBe(true);
        expect(config.enableValidation).toBe(true);
    });
    it('应该为Saleae设备创建优化的解析器', () => {
        const parser = BinaryDataParser_1.BinaryDataParserFactory.createForDevice('saleae', 16);
        const config = parser.getConfig();
        expect(config.chunkSize).toBe(128 * 1024);
        expect(config.compressionThreshold).toBe(2 * 1024 * 1024);
        expect(config.enableOptimization).toBe(true);
        expect(config.enableValidation).toBe(true);
    });
    it('应该为未知设备创建默认解析器', () => {
        const parser = BinaryDataParser_1.BinaryDataParserFactory.createForDevice('unknown', 24);
        const config = parser.getConfig();
        expect(config.chunkSize).toBe(64 * 1024);
        expect(config.compressionThreshold).toBe(1024 * 1024);
        expect(config.enableOptimization).toBe(true);
        expect(config.enableValidation).toBe(true);
    });
    it('应该创建高性能解析器', () => {
        const parser = BinaryDataParser_1.BinaryDataParserFactory.createHighPerformance();
        const config = parser.getConfig();
        expect(config.format).toBe(BinaryDataParser_1.BinaryDataFormat.Raw);
        expect(config.enableOptimization).toBe(true);
        expect(config.enableValidation).toBe(false); // 关闭验证提升性能
        expect(config.chunkSize).toBe(256 * 1024);
        expect(config.compressionThreshold).toBe(10 * 1024 * 1024);
    });
    it('应该创建调试用解析器', () => {
        const parser = BinaryDataParser_1.BinaryDataParserFactory.createDebug();
        const config = parser.getConfig();
        expect(config.format).toBe(BinaryDataParser_1.BinaryDataFormat.Raw);
        expect(config.enableOptimization).toBe(false);
        expect(config.enableValidation).toBe(true);
        expect(config.chunkSize).toBe(4 * 1024); // 小块处理便于调试
        expect(config.compressionThreshold).toBe(64 * 1024);
    });
});
describe('BinaryDataFormat 枚举测试', () => {
    it('应该定义所有数据格式', () => {
        expect(BinaryDataParser_1.BinaryDataFormat.Raw).toBe('raw');
        expect(BinaryDataParser_1.BinaryDataFormat.Compressed).toBe('compressed');
        expect(BinaryDataParser_1.BinaryDataFormat.RLE).toBe('rle');
        expect(BinaryDataParser_1.BinaryDataFormat.Delta).toBe('delta');
    });
    it('枚举值应该是字符串类型', () => {
        Object.values(BinaryDataParser_1.BinaryDataFormat).forEach(format => {
            expect(typeof format).toBe('string');
        });
    });
});
describe('错误处理和边界条件测试', () => {
    let parser;
    beforeEach(() => {
        parser = new BinaryDataParser_1.BinaryDataParser();
    });
    it('应该处理空样本数据的情况', () => {
        const channels = [];
        const memoryUsage = parser.calculateMemoryUsage(channels);
        expect(memoryUsage).toBe(0);
    });
    it('应该处理通道没有样本数据的情况', () => {
        const channels = [new CaptureModels_1.AnalyzerChannel(0, 'CH0')];
        // 不设置samples
        const memoryUsage = parser.calculateMemoryUsage(channels);
        expect(memoryUsage).toBe(64); // 只有对象开销
    });
    it('应该处理RLE压缩的边界情况', () => {
        // 单一值
        const singleValue = new Uint8Array([1]);
        const compressed = parser.compressChannelData(singleValue);
        expect(compressed).toEqual(new Uint8Array([1, 1]));
        // 空数组
        const empty = new Uint8Array([]);
        expect(() => parser.compressChannelData(empty)).not.toThrow();
    });
    it('应该处理RLE解压缩的边界情况', () => {
        // 空数组
        const empty = new Uint8Array([]);
        const decompressed = parser.decompressChannelData(empty);
        expect(decompressed).toEqual(new Uint8Array([]));
        // 奇数长度数组 (不完整的RLE对)
        const incomplete = new Uint8Array([1]); // 缺少计数
        expect(() => parser.decompressChannelData(incomplete)).not.toThrow();
    });
    it('应该处理中值滤波的边界情况', () => {
        // 单个元素
        const single = new Uint8Array([1]);
        parser.applyMedianFilter(single, 3);
        expect(single).toEqual(new Uint8Array([1]));
        // 空数组
        const empty = new Uint8Array([]);
        expect(() => parser.applyMedianFilter(empty, 3)).not.toThrow();
        // 滤波器宽度为1
        const data = new Uint8Array([1, 0, 1]);
        const original = new Uint8Array(data);
        parser.applyMedianFilter(data, 1);
        expect(data).toEqual(original); // 应该不变
    });
    it('应该处理非Error类型的异常', async () => {
        const session = new CaptureModels_1.CaptureSession();
        session.frequency = 1000000;
        session.captureChannels = [new CaptureModels_1.AnalyzerChannel(0, 'CH0')];
        // 创建一个解析器并模拟非Error类型的异常
        const testParser = new BinaryDataParser_1.BinaryDataParser();
        // 通过修改原始方法来抛出非Error类型的异常
        const originalValidate = testParser.validateRawData;
        testParser.validateRawData = () => {
            throw 'This is a string error, not an Error object'; // 抛出字符串类型
        };
        const data = new Uint8Array(100);
        const result = await testParser.parseBinaryData(data, session, AnalyzerTypes_1.CaptureMode.Channels_8);
        expect(result.success).toBe(false);
        expect(result.warnings.some(w => w.includes('Parse error: Unknown error'))).toBe(true);
        // 恢复原始方法
        testParser.validateRawData = originalValidate;
    });
    it('应该处理convertToUnifiedFormat中通道没有samples的情况', () => {
        const channels = [
            new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
            new CaptureModels_1.AnalyzerChannel(1, 'CH1')
        ];
        // 第一个通道有samples，第二个通道没有samples
        channels[0].samples = new Uint8Array([0, 1, 0]);
        // channels[1].samples 保留为undefined
        const session = new CaptureModels_1.CaptureSession();
        const deviceInfo = { name: 'Test Device' };
        const result = parser.convertToUnifiedFormat(channels, session, deviceInfo);
        expect(result.data).toHaveLength(2);
        expect(result.data[0]).toEqual(new Uint8Array([0, 1, 0]));
        expect(result.data[1]).toEqual(new Uint8Array()); // 应该是空的Uint8Array
        expect(result.encoding).toBe('binary');
        expect(result.compression).toBe('none');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9tb2RlbHMvQmluYXJ5RGF0YVBhcnNlci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgsMkVBTzhDO0FBQzlDLHFFQUcyQztBQUMzQyxxRUFFMkM7QUFFM0MsUUFBUSxDQUFDLHlCQUF5QixFQUFFLEdBQUcsRUFBRTtJQUV2QyxRQUFRLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ3ZDLElBQUksTUFBd0IsQ0FBQztRQUM3QixJQUFJLE9BQXVCLENBQUM7UUFFNUIsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLE1BQU0sR0FBRyxJQUFJLG1DQUFnQixFQUFFLENBQUM7WUFDaEMsT0FBTyxHQUFHLElBQUksOEJBQWMsRUFBRSxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1lBQzVCLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLENBQUM7WUFDaEMsT0FBTyxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztZQUNsQyxPQUFPLENBQUMsZUFBZSxHQUFHO2dCQUN4QixJQUFJLCtCQUFlLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQztnQkFDbkMsSUFBSSwrQkFBZSxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUM7Z0JBQ25DLElBQUksK0JBQWUsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDO2FBQ3BDLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1lBQ3JCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUVsQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxtQ0FBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztZQUN0RCxNQUFNLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUU7WUFDbEIsTUFBTSxTQUFTLEdBQWdDO2dCQUM3QyxNQUFNLEVBQUUsbUNBQWdCLENBQUMsVUFBVTtnQkFDbkMsa0JBQWtCLEVBQUUsS0FBSztnQkFDekIsU0FBUyxFQUFFLEVBQUUsR0FBRyxJQUFJO2FBQ3JCLENBQUM7WUFFRixNQUFNLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQy9CLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUV6QyxNQUFNLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxtQ0FBZ0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUMvRCxNQUFNLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JELE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNoRCxhQUFhO1lBQ2IsTUFBTSxDQUFDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO1lBQ3RCLE1BQU0sWUFBWSxHQUFnQztnQkFDaEQsTUFBTSxFQUFFLG1DQUFnQixDQUFDLEdBQUc7Z0JBQzVCLG9CQUFvQixFQUFFLElBQUk7Z0JBQzFCLGtCQUFrQixFQUFFLEtBQUs7Z0JBQ3pCLFNBQVMsRUFBRSxJQUFJO2dCQUNmLGdCQUFnQixFQUFFLEtBQUs7YUFDeEIsQ0FBQztZQUVGLE1BQU0sWUFBWSxHQUFHLElBQUksbUNBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEQsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRXhDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLG1DQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtRQUN0QixJQUFJLE1BQXdCLENBQUM7UUFDN0IsSUFBSSxPQUF1QixDQUFDO1FBRTVCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLEdBQUcsSUFBSSxtQ0FBZ0IsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sR0FBRyxJQUFJLDhCQUFjLEVBQUUsQ0FBQztZQUMvQixPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztZQUM1QixPQUFPLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxHQUFHLENBQUM7WUFDakMsT0FBTyxDQUFDLGVBQWUsR0FBRztnQkFDeEIsSUFBSSwrQkFBZSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7Z0JBQzdCLElBQUksK0JBQWUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO2FBQzlCLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDekIsTUFBTSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtZQUVoRSxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxlQUFlLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSwyQkFBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRXhGLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGFBQWEsRUFBRSxLQUFLLElBQUksRUFBRTtZQUMzQixPQUFPLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztZQUM3QixNQUFNLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVM7WUFFM0MsTUFBTSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsMkJBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUVuRixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLDZCQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxRixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLElBQUksRUFBRTtZQUMvQixPQUFPLENBQUMsZUFBZSxHQUFHO2dCQUN4QixJQUFJLCtCQUFlLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztnQkFDN0IsSUFBSSwrQkFBZSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxvQkFBb0I7YUFDckQsQ0FBQztZQUVGLE1BQU0sSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRWpDLE1BQU0sTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLDJCQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFbkYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0YsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZUFBZSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzdCLE1BQU0sSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVTtZQUUzQyxNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSwyQkFBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRW5GLGlCQUFpQjtZQUNqQixNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7UUFDekIsSUFBSSxNQUF3QixDQUFDO1FBQzdCLElBQUksT0FBdUIsQ0FBQztRQUU1QixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxHQUFHLElBQUksbUNBQWdCLEVBQUUsQ0FBQztZQUNoQyxPQUFPLEdBQUcsSUFBSSw4QkFBYyxFQUFFLENBQUM7WUFDL0IsT0FBTyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7WUFDNUIsT0FBTyxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztZQUM5QixPQUFPLENBQUMsa0JBQWtCLEdBQUcsRUFBRSxDQUFDO1lBQ2hDLE9BQU8sQ0FBQyxlQUFlLEdBQUc7Z0JBQ3hCLElBQUksK0JBQWUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO2dCQUM3QixJQUFJLCtCQUFlLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztnQkFDN0IsSUFBSSwrQkFBZSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7YUFDOUIsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGVBQWUsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM3Qiw2Q0FBNkM7WUFDN0MsTUFBTSxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXZDLFlBQVk7WUFDWixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFFNUIsMkJBQTJCO1lBQzNCLE1BQU0sV0FBVyxHQUFHO2dCQUNsQixVQUFVO2dCQUNWLFVBQVU7Z0JBQ1YsVUFBVTtnQkFDVixVQUFVO2dCQUNWLFVBQVU7Z0JBQ1YsVUFBVTtnQkFDVixVQUFVO2dCQUNWLFVBQVU7Z0JBQ1YsVUFBVTtnQkFDVixVQUFVLENBQUUsT0FBTzthQUNwQixDQUFDO1lBRUYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN0QztZQUVELFlBQVk7WUFDWixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUVyQixNQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSwyQkFBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRW5GLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRXJDLFdBQVc7WUFDWCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxHQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTdFLFdBQVc7WUFDWCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxHQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTdFLFdBQVc7WUFDWCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxHQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9FLENBQUMsQ0FBQyxDQUFDO1FB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Q0FBQyxDQUFDLEdBQUcsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sSUFBSSxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUV2QyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFFckMsV0FBVztZQUNYLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3pEO1lBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUTtZQUUzQyxNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDcEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsMkJBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNuRixNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDO1lBRWhELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXO1lBQ2pELE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxD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dnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9tb2RlbHMvQmluYXJ5RGF0YVBhcnNlci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCaW5hcnlEYXRhUGFyc2VyIOaooeWdl+WNleWFg+a1i+ivleWll+S7tlxyXG4gKiDlhajpnaLmtYvor5Xkuozov5vliLbmlbDmja7op6PmnpDlmajnmoTlip/og73lkozmgKfog71cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIEJpbmFyeURhdGFQYXJzZXIsXHJcbiAgQmluYXJ5RGF0YVBhcnNlckZhY3RvcnksXHJcbiAgQmluYXJ5RGF0YUZvcm1hdCxcclxuICBCaW5hcnlQYXJzZXJDb25maWcsXHJcbiAgQ2hhbm5lbEV4dHJhY3Rpb25Db25maWcsXHJcbiAgUGFyc2VSZXN1bHRcclxufSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZWxzL0JpbmFyeURhdGFQYXJzZXInO1xyXG5pbXBvcnQge1xyXG4gIENhcHR1cmVTZXNzaW9uLFxyXG4gIEFuYWx5emVyQ2hhbm5lbFxyXG59IGZyb20gJy4uLy4uLy4uL3NyYy9tb2RlbHMvQ2FwdHVyZU1vZGVscyc7XHJcbmltcG9ydCB7XHJcbiAgQ2FwdHVyZU1vZGVcclxufSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZWxzL0FuYWx5emVyVHlwZXMnO1xyXG5cclxuZGVzY3JpYmUoJ0JpbmFyeURhdGFQYXJzZXIg5qih5Z2X5rWL6K+V5aWX5Lu2JywgKCkgPT4ge1xyXG4gIFxyXG4gIGRlc2NyaWJlKCdCaW5hcnlEYXRhUGFyc2VyIOWfuuehgOWKn+iDvea1i+ivlScsICgpID0+IHtcclxuICAgIGxldCBwYXJzZXI6IEJpbmFyeURhdGFQYXJzZXI7XHJcbiAgICBsZXQgc2Vzc2lvbjogQ2FwdHVyZVNlc3Npb247XHJcbiAgICBcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBwYXJzZXIgPSBuZXcgQmluYXJ5RGF0YVBhcnNlcigpO1xyXG4gICAgICBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICAgIHNlc3Npb24uZnJlcXVlbmN5ID0gMTAwMDAwMDtcclxuICAgICAgc2Vzc2lvbi5wcmVUcmlnZ2VyU2FtcGxlcyA9IDEwMDtcclxuICAgICAgc2Vzc2lvbi5wb3N0VHJpZ2dlclNhbXBsZXMgPSAxMDAwO1xyXG4gICAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDaGFubmVsIDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDEsICdDaGFubmVsIDEnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDIsICdDaGFubmVsIDInKVxyXG4gICAgICBdO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7liJ3lp4vljJbpu5jorqTphY3nva4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHBhcnNlci5nZXRDb25maWcoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25maWcuZm9ybWF0KS50b0JlKEJpbmFyeURhdGFGb3JtYXQuUmF3KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5jb21wcmVzc2lvblRocmVzaG9sZCkudG9CZSgxMDI0ICogMTAyNCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlT3B0aW1pemF0aW9uKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmNodW5rU2l6ZSkudG9CZSg2NCAqIDEwMjQpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmVuYWJsZVZhbGlkYXRpb24pLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruabtOaWsOmFjee9ricsICgpID0+IHtcclxuICAgICAgY29uc3QgbmV3Q29uZmlnOiBQYXJ0aWFsPEJpbmFyeVBhcnNlckNvbmZpZz4gPSB7XHJcbiAgICAgICAgZm9ybWF0OiBCaW5hcnlEYXRhRm9ybWF0LkNvbXByZXNzZWQsXHJcbiAgICAgICAgZW5hYmxlT3B0aW1pemF0aW9uOiBmYWxzZSxcclxuICAgICAgICBjaHVua1NpemU6IDMyICogMTAyNFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcGFyc2VyLnVwZGF0ZUNvbmZpZyhuZXdDb25maWcpO1xyXG4gICAgICBjb25zdCB1cGRhdGVkQ29uZmlnID0gcGFyc2VyLmdldENvbmZpZygpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRDb25maWcuZm9ybWF0KS50b0JlKEJpbmFyeURhdGFGb3JtYXQuQ29tcHJlc3NlZCk7XHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkQ29uZmlnLmVuYWJsZU9wdGltaXphdGlvbikudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkQ29uZmlnLmNodW5rU2l6ZSkudG9CZSgzMiAqIDEwMjQpO1xyXG4gICAgICAvLyDlhbbku5bphY3nva7lupTor6Xkv53mjIHkuI3lj5hcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRDb25maWcuY29tcHJlc3Npb25UaHJlc2hvbGQpLnRvQmUoMTAyNCAqIDEwMjQpO1xyXG4gICAgICBleHBlY3QodXBkYXRlZENvbmZpZy5lbmFibGVWYWxpZGF0aW9uKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmjqXlj5foh6rlrprkuYnphY3nva7liJ3lp4vljJYnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1c3RvbUNvbmZpZzogUGFydGlhbDxCaW5hcnlQYXJzZXJDb25maWc+ID0ge1xyXG4gICAgICAgIGZvcm1hdDogQmluYXJ5RGF0YUZvcm1hdC5STEUsXHJcbiAgICAgICAgY29tcHJlc3Npb25UaHJlc2hvbGQ6IDIwNDgsXHJcbiAgICAgICAgZW5hYmxlT3B0aW1pemF0aW9uOiBmYWxzZSxcclxuICAgICAgICBjaHVua1NpemU6IDEwMjQsXHJcbiAgICAgICAgZW5hYmxlVmFsaWRhdGlvbjogZmFsc2VcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGN1c3RvbVBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKGN1c3RvbUNvbmZpZyk7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGN1c3RvbVBhcnNlci5nZXRDb25maWcoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25maWcuZm9ybWF0KS50b0JlKEJpbmFyeURhdGFGb3JtYXQuUkxFKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5jb21wcmVzc2lvblRocmVzaG9sZCkudG9CZSgyMDQ4KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5lbmFibGVPcHRpbWl6YXRpb24pLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmNodW5rU2l6ZSkudG9CZSgxMDI0KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5lbmFibGVWYWxpZGF0aW9uKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCfmlbDmja7pqozor4HmtYvor5UnLCAoKSA9PiB7XHJcbiAgICBsZXQgcGFyc2VyOiBCaW5hcnlEYXRhUGFyc2VyO1xyXG4gICAgbGV0IHNlc3Npb246IENhcHR1cmVTZXNzaW9uO1xyXG4gICAgXHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgcGFyc2VyID0gbmV3IEJpbmFyeURhdGFQYXJzZXIoKTtcclxuICAgICAgc2Vzc2lvbiA9IG5ldyBDYXB0dXJlU2Vzc2lvbigpO1xyXG4gICAgICBzZXNzaW9uLmZyZXF1ZW5jeSA9IDEwMDAwMDA7XHJcbiAgICAgIHNlc3Npb24ucHJlVHJpZ2dlclNhbXBsZXMgPSAxMDtcclxuICAgICAgc2Vzc2lvbi5wb3N0VHJpZ2dlclNhbXBsZXMgPSAxMDA7XHJcbiAgICAgIHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzID0gW1xyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMCwgJ0NIMCcpLFxyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMSwgJ0NIMScpXHJcbiAgICAgIF07XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeaLkue7nei/h+efreeahOaVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc2hvcnREYXRhID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIDB4MDJdKTsgLy8g5Y+q5pyJMuWtl+iKgu+8jOWwj+S6juacgOWwjzjlrZfoioJcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlci5wYXJzZUJpbmFyeURhdGEoc2hvcnREYXRhLCBzZXNzaW9uLCBDYXB0dXJlTW9kZS5DaGFubmVsc184KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3Muc29tZSh3ID0+IHcuaW5jbHVkZXMoJ0RhdGEgdG9vIHNob3J0JykpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6Xmi5Lnu53msqHmnInpgJrpgZPnmoTkvJror50nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzID0gW107XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSgxMDApOyAvLyDotrPlpJ/plb/nmoTmlbDmja5cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlci5wYXJzZUJpbmFyeURhdGEoZGF0YSwgc2Vzc2lvbiwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Lndhcm5pbmdzLnNvbWUodyA9PiB3LmluY2x1ZGVzKCdObyBjYXB0dXJlIGNoYW5uZWxzIGRlZmluZWQnKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeaLkue7nei2heWHuumHh+mbhuaooeW8j+mZkOWItueahOmAmumBkycsIGFzeW5jICgpID0+IHtcclxuICAgICAgc2Vzc2lvbi5jYXB0dXJlQ2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxMCwgJ0NIMTAnKSAvLyDotoXlh7pDaGFubmVsc1845qih5byP55qE6ZmQ5Yi2XHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMTAwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlci5wYXJzZUJpbmFyeURhdGEoZGF0YSwgc2Vzc2lvbiwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Lndhcm5pbmdzLnNvbWUodyA9PiB3LmluY2x1ZGVzKCdleGNlZWRzIG1heCBzdXBwb3J0ZWQgY2hhbm5lbHMnKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeWvueaVsOaNrumVv+W6puS4jei2s+WPkeWHuuitpuWRiicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KDIwKTsgLy8g6ZW/5bqm5LiN6Laz55qE5pWw5o2uXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZXIucGFyc2VCaW5hcnlEYXRhKGRhdGEsIHNlc3Npb24sIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgICBcclxuICAgICAgLy8g6Jm954S26Kej5p6Q5aSx6LSl77yM5L2G5bqU6K+l5Lqn55Sf6K2m5ZGKXHJcbiAgICAgIGV4cGVjdChyZXN1bHQud2FybmluZ3Muc29tZSh3ID0+IHcuaW5jbHVkZXMoJ2xlc3MgdGhhbiBleHBlY3RlZCcpKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCfkuozov5vliLbmlbDmja7op6PmnpDmtYvor5UnLCAoKSA9PiB7XHJcbiAgICBsZXQgcGFyc2VyOiBCaW5hcnlEYXRhUGFyc2VyO1xyXG4gICAgbGV0IHNlc3Npb246IENhcHR1cmVTZXNzaW9uO1xyXG4gICAgXHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgcGFyc2VyID0gbmV3IEJpbmFyeURhdGFQYXJzZXIoKTtcclxuICAgICAgc2Vzc2lvbiA9IG5ldyBDYXB0dXJlU2Vzc2lvbigpO1xyXG4gICAgICBzZXNzaW9uLmZyZXF1ZW5jeSA9IDEwMDAwMDA7XHJcbiAgICAgIHNlc3Npb24ucHJlVHJpZ2dlclNhbXBsZXMgPSAwO1xyXG4gICAgICBzZXNzaW9uLnBvc3RUcmlnZ2VyU2FtcGxlcyA9IDEwO1xyXG4gICAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDEsICdDSDEnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDcsICdDSDcnKVxyXG4gICAgICBdO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7op6PmnpA46YCa6YGT5qih5byP5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmnoTpgKDmtYvor5XmlbDmja7vvJrmoLfmnKzmlbDph48oNOWtl+iKgikgKyDmoLfmnKzmlbDmja4oMTDlrZfoioIpICsg5pe26Ze05oiz6ZW/5bqmKDHlrZfoioIpXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSgxNSk7XHJcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgLy8g5qC35pys5pWw6YePID0gMTBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgMTAsIHRydWUpO1xyXG4gICAgICBcclxuICAgICAgLy8g5qC35pys5pWw5o2u77yaMTDkuKrlrZfoioLvvIzmr4/kuKrlrZfoioLku6Pooag45Liq6YCa6YGT55qE54q25oCBXHJcbiAgICAgIGNvbnN0IHNhbXBsZUJ5dGVzID0gW1xyXG4gICAgICAgIDBiMDAwMDAwMDEsIC8vIENIMD0xLCDlhbbku5Y9MFxyXG4gICAgICAgIDBiMDAwMDAwMTAsIC8vIENIMT0xLCDlhbbku5Y9MFxyXG4gICAgICAgIDBiMTAwMDAwMDAsIC8vIENINz0xLCDlhbbku5Y9MFxyXG4gICAgICAgIDBiMDAwMDAwMTEsIC8vIENIMD0xLCBDSDE9MSwg5YW25LuWPTBcclxuICAgICAgICAwYjEwMDAwMDAxLCAvLyBDSDA9MSwgQ0g3PTEsIOWFtuS7lj0wXHJcbiAgICAgICAgMGIxMDAwMDAxMCwgLy8gQ0gxPTEsIENINz0xLCDlhbbku5Y9MFxyXG4gICAgICAgIDBiMTAwMDAwMTEsIC8vIENIMD0xLCBDSDE9MSwgQ0g3PTEsIOWFtuS7lj0wXHJcbiAgICAgICAgMGIwMDAwMDAwMCwgLy8g5YWo6YOoPTBcclxuICAgICAgICAwYjExMTExMTExLCAvLyDlhajpg6g9MVxyXG4gICAgICAgIDBiMDEwMTAxMDEgIC8vIOS6pOabv+aooeW8j1xyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVCeXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZpZXcuc2V0VWludDgoNCArIGksIHNhbXBsZUJ5dGVzW2ldKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g5pe26Ze05oiz6ZW/5bqmID0gMFxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDE0LCAwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBhcnNlci5wYXJzZUJpbmFyeURhdGEoZGF0YSwgc2Vzc2lvbiwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY2hhbm5lbHMpLnRvSGF2ZUxlbmd0aCgzKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbFNhbXBsZXMpLnRvQmUoMTApO1xyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+BQ0gw55qE5pWw5o2uXHJcbiAgICAgIGNvbnN0IGNoMCA9IHJlc3VsdC5jaGFubmVscy5maW5kKGNoID0+IGNoLmNoYW5uZWxOdW1iZXIgPT09IDApO1xyXG4gICAgICBleHBlY3QoY2gwKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY2gwIS5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFsxLCAwLCAwLCAxLCAxLCAwLCAxLCAwLCAxLCAxXSkpO1xyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+BQ0gx55qE5pWw5o2uXHJcbiAgICAgIGNvbnN0IGNoMSA9IHJlc3VsdC5jaGFubmVscy5maW5kKGNoID0+IGNoLmNoYW5uZWxOdW1iZXIgPT09IDEpO1xyXG4gICAgICBleHBlY3QoY2gxKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY2gxIS5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFswLCAxLCAwLCAxLCAwLCAxLCAxLCAwLCAxLCAwXSkpO1xyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+BQ0g355qE5pWw5o2uXHJcbiAgICAgIGNvbnN0IGNoNyA9IHJlc3VsdC5jaGFubmVscy5maW5kKGNoID0+IGNoLmNoYW5uZWxOdW1iZXIgPT09IDcpO1xyXG4gICAgICBleHBlY3QoY2g3KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY2g3IS5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAxLCAwLCAxLCAwXSkpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7op6PmnpAxNumAmumBk+aooeW8j+aVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gMTbpgJrpgZPmqKHlvI/kvb/nlKgxNuS9jeaVsOaNrlxyXG4gICAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDgsICdDSDgnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDE1LCAnQ0gxNScpXHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMTEpOyAvLyA05a2X6IqC5qC35pys5pWwICsgNuWtl+iKguagt+acrOaVsOaNrigz5LiqMTbkvY3moLfmnKwpICsgMeWtl+iKguaXtumXtOaIs+mVv+W6plxyXG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyKTtcclxuICAgICAgXHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDAsIDMsIHRydWUpOyAvLyAz5Liq5qC35pysXHJcbiAgICAgIFxyXG4gICAgICAvLyDmoLfmnKzmlbDmja4gKDE25L2NLCBsaXR0bGUgZW5kaWFuKVxyXG4gICAgICB2aWV3LnNldFVpbnQxNig0LCAwYjAwMDAwMDAxMDAwMDAwMDEsIHRydWUpOyAvLyBDSDA9MSwgQ0g4PTFcclxuICAgICAgdmlldy5zZXRVaW50MTYoNiwgMGIxMDAwMDAwMDAwMDAwMDAwLCB0cnVlKTsgLy8gQ0gxNT0xXHJcbiAgICAgIHZpZXcuc2V0VWludDE2KDgsIDBiMTAwMDAwMDEwMDAwMDAwMSwgdHJ1ZSk7IC8vIENIMD0xLCBDSDg9MSwgQ0gxNT0xXHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDEwLCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZXIucGFyc2VCaW5hcnlEYXRhKGRhdGEsIHNlc3Npb24sIENhcHR1cmVNb2RlLkNoYW5uZWxzXzE2KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jaGFubmVscykudG9IYXZlTGVuZ3RoKDMpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2gwID0gcmVzdWx0LmNoYW5uZWxzLmZpbmQoY2ggPT4gY2guY2hhbm5lbE51bWJlciA9PT0gMCk7XHJcbiAgICAgIGV4cGVjdChjaDAhLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDAsIDFdKSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjaDggPSByZXN1bHQuY2hhbm5lbHMuZmluZChjaCA9PiBjaC5jaGFubmVsTnVtYmVyID09PSA4KTtcclxuICAgICAgZXhwZWN0KGNoOCEuc2FtcGxlcykudG9FcXVhbChuZXcgVWludDhBcnJheShbMSwgMCwgMV0pKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNoMTUgPSByZXN1bHQuY2hhbm5lbHMuZmluZChjaCA9PiBjaC5jaGFubmVsTnVtYmVyID09PSAxNSk7XHJcbiAgICAgIGV4cGVjdChjaDE1IS5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFswLCAxLCAxXSkpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7op6PmnpAyNOmAmumBk+aooeW8j+aVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gMjTpgJrpgZPmqKHlvI/kvb/nlKgzMuS9jeaVsOaNrlxyXG4gICAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDE2LCAnQ0gxNicpLFxyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMjMsICdDSDIzJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSgxMyk7IC8vIDTlrZfoioLmoLfmnKzmlbAgKyA45a2X6IqC5qC35pys5pWw5o2uKDLkuKozMuS9jeagt+acrCkgKyAx5a2X6IqC5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgMiwgdHJ1ZSk7IC8vIDLkuKrmoLfmnKxcclxuICAgICAgXHJcbiAgICAgIC8vIOagt+acrOaVsOaNriAoMzLkvY0sIGxpdHRsZSBlbmRpYW4pXHJcbiAgICAgIC8vIENIMD1iaXQwPTEsIENIMTY9Yml0MTY9MTogMHgwMDAxMDAwMVxyXG4gICAgICB2aWV3LnNldFVpbnQzMig0LCAweDAwMDEwMDAxLCB0cnVlKTsgXHJcbiAgICAgIC8vIENIMD1iaXQwPTEsIENIMTY9Yml0MTY9MSwgQ0gyMz1iaXQyMz0xOiAweDAwODEwMDAxICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoOCwgMHgwMDgxMDAwMSwgdHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDEyLCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZXIucGFyc2VCaW5hcnlEYXRhKGRhdGEsIHNlc3Npb24sIENhcHR1cmVNb2RlLkNoYW5uZWxzXzI0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jaGFubmVscykudG9IYXZlTGVuZ3RoKDMpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2gwID0gcmVzdWx0LmNoYW5uZWxzLmZpbmQoY2ggPT4gY2guY2hhbm5lbE51bWJlciA9PT0gMCk7XHJcbiAgICAgIGV4cGVjdChjaDAhLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDFdKSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjaDE2ID0gcmVzdWx0LmNoYW5uZWxzLmZpbmQoY2ggPT4gY2guY2hhbm5lbE51bWJlciA9PT0gMTYpO1xyXG4gICAgICBleHBlY3QoY2gxNiEuc2FtcGxlcykudG9FcXVhbChuZXcgVWludDhBcnJheShbMSwgMV0pKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNoMjMgPSByZXN1bHQuY2hhbm5lbHMuZmluZChjaCA9PiBjaC5jaGFubmVsTnVtYmVyID09PSAyMyk7XHJcbiAgICAgIGV4cGVjdChjaDIzIS5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFswLCAxXSkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ+aVsOaNruWOi+e8qeWSjOS8mOWMlua1i+ivlScsICgpID0+IHtcclxuICAgIGxldCBwYXJzZXI6IEJpbmFyeURhdGFQYXJzZXI7XHJcbiAgICBcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBwYXJzZXIgPSBuZXcgQmluYXJ5RGF0YVBhcnNlcih7XHJcbiAgICAgICAgZW5hYmxlT3B0aW1pemF0aW9uOiB0cnVlLFxyXG4gICAgICAgIGNvbXByZXNzaW9uVGhyZXNob2xkOiAxMDAgLy8g5L2O6ZiI5YC855So5LqO5rWL6K+VXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7ov5vooYxSTEXljovnvKknLCAoKSA9PiB7XHJcbiAgICAgIC8vIOmAmui/h+WPjeWwhOiuv+mXruengeacieaWueazlei/m+ihjOa1i+ivlVxyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IG5ldyBVaW50OEFycmF5KFsxLCAxLCAxLCAwLCAwLCAxLCAxLCAxLCAxXSk7XHJcbiAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSAocGFyc2VyIGFzIGFueSkuY29tcHJlc3NDaGFubmVsRGF0YSh0ZXN0RGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSTEXmoLzlvI86IFvlgLwsIOiuoeaVsCwg5YC8LCDorqHmlbAsIC4uLl1cclxuICAgICAgZXhwZWN0KGNvbXByZXNzZWQpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDMsIDAsIDIsIDEsIDRdKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehrui/m+ihjFJMReino+WOi+e8qScsICgpID0+IHtcclxuICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBuZXcgVWludDhBcnJheShbMSwgMywgMCwgMiwgMSwgNF0pO1xyXG4gICAgICBjb25zdCBkZWNvbXByZXNzZWQgPSAocGFyc2VyIGFzIGFueSkuZGVjb21wcmVzc0NoYW5uZWxEYXRhKGNvbXByZXNzZWREYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChkZWNvbXByZXNzZWQpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDEsIDEsIDAsIDAsIDEsIDEsIDEsIDFdKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruWkhOeQhuWOi+e8qei+ueeVjOaDheWGtScsICgpID0+IHtcclxuICAgICAgLy8g5rWL6K+V5pyA5aSn6K6h5pWwMjU1XHJcbiAgICAgIGNvbnN0IGxvbmdTZXF1ZW5jZSA9IG5ldyBVaW50OEFycmF5KDMwMCkuZmlsbCgxKTtcclxuICAgICAgY29uc3QgY29tcHJlc3NlZCA9IChwYXJzZXIgYXMgYW55KS5jb21wcmVzc0NoYW5uZWxEYXRhKGxvbmdTZXF1ZW5jZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDlupTor6XliIbmiJAyNTUgKyA0NeeahOS4pOautVxyXG4gICAgICBleHBlY3QoY29tcHJlc3NlZFswXSkudG9CZSgxKTsgLy8g5YC8XHJcbiAgICAgIGV4cGVjdChjb21wcmVzc2VkWzFdKS50b0JlKDI1NSk7IC8vIOacgOWkp+iuoeaVsFxyXG4gICAgICBleHBlY3QoY29tcHJlc3NlZFsyXSkudG9CZSgxKTsgLy8g5YC8XHJcbiAgICAgIGV4cGVjdChjb21wcmVzc2VkWzNdKS50b0JlKDQ1KTsgLy8g5Ymp5L2Z6K6h5pWwXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l6Kem5Y+R5Y6L57yp5LyY5YyW5p2h5Lu26KaG55uWMjk0LTI5NeihjCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g5Yib5bu65LiA5Liq5L2O5Y6L57yp6ZiI5YC855qE6Kej5p6Q5ZmoXHJcbiAgICAgIGNvbnN0IGxvd1RocmVzaG9sZFBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKHtcclxuICAgICAgICBlbmFibGVPcHRpbWl6YXRpb246IHRydWUsXHJcbiAgICAgICAgY29tcHJlc3Npb25UaHJlc2hvbGQ6IDUwIC8vIOS9jumYiOWAvOS7peS+v+inpuWPkeWOi+e8qVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5mcmVxdWVuY3kgPSAxMDAwMDAwO1xyXG4gICAgICBzZXNzaW9uLnByZVRyaWdnZXJTYW1wbGVzID0gMDtcclxuICAgICAgc2Vzc2lvbi5wb3N0VHJpZ2dlclNhbXBsZXMgPSAxMDA7XHJcbiAgICAgIHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzID0gW1xyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMCwgJ0NIMCcpXHJcbiAgICAgIF07XHJcblxyXG4gICAgICAvLyDliJvlu7rpq5jph43lpI3mgKfmlbDmja7vvIwxMDDkuKrmoLfmnKzvvIzlhajpg6jkuLrnm7jlkIzlgLzku6Xojrflvpfpq5jljovnvKnnjodcclxuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KDEwNSk7IC8vIDTlrZfoioLlpLQgKyAxMDDlrZfoioLmlbDmja4gKyAx5a2X6IqC5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgMTAwLCB0cnVlKTsgLy8gMTAw5Liq5qC35pysXHJcbiAgICAgIFxyXG4gICAgICAvLyDloavlhYXph43lpI3mlbDmja4gLSDlhajpg6jkuLoweEZG5Lul6I635b6X6auY5Y6L57yp546HXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICB2aWV3LnNldFVpbnQ4KDQgKyBpLCAweEZGKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50OCgxMDQsIDApOyAvLyDml7bpl7TmiLPplb/luqZcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvd1RocmVzaG9sZFBhcnNlci5wYXJzZUJpbmFyeURhdGEoZGF0YSwgc2Vzc2lvbiwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY2hhbm5lbHMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jaGFubmVsc1swXS5zYW1wbGVzKS50b0hhdmVMZW5ndGgoMTAwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOmqjOivgeaJgOacieagt+acrOmDveaYrzHvvIjlm6DkuLoweEZG55qEYml0IDDmmK8x77yJXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICBleHBlY3QocmVzdWx0LmNoYW5uZWxzWzBdLnNhbXBsZXMhW2ldKS50b0JlKDEpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgn6auY57qn6YCa6YGT5o+Q5Y+W5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHBhcnNlcjogQmluYXJ5RGF0YVBhcnNlcjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIHBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehrui/m+ihjOmrmOe6p+mAmumBk+aPkOWPlicsICgpID0+IHtcclxuICAgICAgY29uc3Qgc2FtcGxlRGF0YSA9IG5ldyBVaW50MzJBcnJheShbXHJcbiAgICAgICAgMGIxMTExMTAwMCwgLy8g5qC35pysMTogYml0MD0wLCBiaXQzPTEgIFxyXG4gICAgICAgIDBiMDExMDAxMDAsIC8vIOagt+acrDI6IGJpdDA9MCwgYml0Mz0wXHJcbiAgICAgICAgMGIxMDEwMTAwMCAgLy8g5qC35pysMzogYml0MD0wLCBiaXQzPTFcclxuICAgICAgXSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25maWdzOiBDaGFubmVsRXh0cmFjdGlvbkNvbmZpZ1tdID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNoYW5uZWxNYXNrOiAwYjAwMDAwMDAxLCAvLyDmj5Dlj5ZiaXQgMFxyXG4gICAgICAgICAgYml0T2Zmc2V0OiAwLFxyXG4gICAgICAgICAgaW52ZXJ0TG9naWM6IGZhbHNlLFxyXG4gICAgICAgICAgZW5hYmxlRmlsdGVyaW5nOiBmYWxzZSxcclxuICAgICAgICAgIGZpbHRlcldpZHRoOiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjaGFubmVsTWFzazogMGIwMDAwMTAwMCwgLy8g5o+Q5Y+WYml0IDNcclxuICAgICAgICAgIGJpdE9mZnNldDogMyxcclxuICAgICAgICAgIGludmVydExvZ2ljOiB0cnVlLCAvLyDlj43ovazpgLvovpFcclxuICAgICAgICAgIGVuYWJsZUZpbHRlcmluZzogZmFsc2UsXHJcbiAgICAgICAgICBmaWx0ZXJXaWR0aDogMVxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBwYXJzZXIuZXh0cmFjdENoYW5uZWxzQWR2YW5jZWQoc2FtcGxlRGF0YSwgY29uZmlncyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xyXG4gICAgICBcclxuICAgICAgLy8g6YCa6YGTMCAoYml0IDApOiBbMCwgMCwgMF1cclxuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0pLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDBdKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpgJrpgZMxIChiaXQgMywg5Y+N6L2sKTog5Y6f5aeL5YC8WzEsIDAsIDFdIC0+IOWPjei9rOWQjlswLCAxLCAwXVxyXG4gICAgICBleHBlY3QocmVzdWx0c1sxXSkudG9FcXVhbChuZXcgVWludDhBcnJheShbMCwgMSwgMF0pKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5bqU55So5Lit5YC85ruk5rOiJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IG5ldyBVaW50OEFycmF5KFswLCAxLCAwLCAxLCAwLCAxLCAwXSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDlupTnlKgz54K55Lit5YC85ruk5rOiXHJcbiAgICAgIChwYXJzZXIgYXMgYW55KS5hcHBseU1lZGlhbkZpbHRlcih0ZXN0RGF0YSwgMyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDkuK3lgLzmu6Tms6LlupTor6XlubPmu5Hlmarlo7BcclxuICAgICAgZXhwZWN0KHRlc3REYXRhWzBdKS50b0JlKDEpOyAvLyDovrnnlYzlpITnkIY6IOS4reWAvChbMCwxXSkgPSAxXHJcbiAgICAgIGV4cGVjdCh0ZXN0RGF0YVsxXSkudG9CZSgwKTsgLy8g5Lit5YC8KFswLDAsMV0pID0gMFxyXG4gICAgICBleHBlY3QodGVzdERhdGFbMl0pLnRvQmUoMSk7IC8vIOS4reWAvChbMCwxLDFdKSA9IDFcclxuICAgICAgZXhwZWN0KHRlc3REYXRhWzNdKS50b0JlKDApOyAvLyDkuK3lgLwoWzAsMCwxXSkgPSAwXHJcbiAgICAgIGV4cGVjdCh0ZXN0RGF0YVs0XSkudG9CZSgxKTsgLy8g5Lit5YC8KDEsMCwxKSA9IDFcclxuICAgICAgZXhwZWN0KHRlc3REYXRhWzVdKS50b0JlKDApOyAvLyDkuK3lgLwoMCwxLDApID0gMFxyXG4gICAgICBleHBlY3QodGVzdERhdGFbNl0pLnRvQmUoMSk7IC8vIOi+ueeVjOWkhOeQhlxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWcqOmrmOe6p+mAmumBk+aPkOWPluS4reato+ehruW6lOeUqOa7pOazoicsICgpID0+IHtcclxuICAgICAgY29uc3Qgc2FtcGxlRGF0YSA9IG5ldyBVaW50MzJBcnJheShbXHJcbiAgICAgICAgMGIxMTExMTAwMCwgLy8g5qC35pysMTogYml0MD0wLCBiaXQzPTEgIFxyXG4gICAgICAgIDBiMDExMDAxMDAsIC8vIOagt+acrDI6IGJpdDA9MCwgYml0Mz0wXHJcbiAgICAgICAgMGIxMDEwMTAwMCwgLy8g5qC35pysMzogYml0MD0wLCBiaXQzPTFcclxuICAgICAgICAwYjExMTExMDAwLCAvLyDmoLfmnKw0OiBiaXQwPTAsIGJpdDM9MVxyXG4gICAgICAgIDBiMDExMDAxMDAgIC8vIOagt+acrDU6IGJpdDA9MCwgYml0Mz0wXHJcbiAgICAgIF0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY29uZmlnczogQ2hhbm5lbEV4dHJhY3Rpb25Db25maWdbXSA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjaGFubmVsTWFzazogMGIwMDAwMTAwMCwgLy8g5o+Q5Y+WYml0IDNcclxuICAgICAgICAgIGJpdE9mZnNldDogMyxcclxuICAgICAgICAgIGludmVydExvZ2ljOiBmYWxzZSxcclxuICAgICAgICAgIGVuYWJsZUZpbHRlcmluZzogdHJ1ZSwgICAgLy8g5ZCv55So5ruk5rOi5p2l6KaG55uW56ysNDMy6KGMXHJcbiAgICAgICAgICBmaWx0ZXJXaWR0aDogMyAgICAgICAgICAgIC8vIDPngrnmu6Tms6JcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHRzID0gcGFyc2VyLmV4dHJhY3RDaGFubmVsc0FkdmFuY2VkKHNhbXBsZURhdGEsIGNvbmZpZ3MpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgLy8g5ruk5rOi5ZCO55qE57uT5p6c5bqU6K+l6KKr5bmz5ruR5aSE55CGXHJcbiAgICAgIGV4cGVjdChyZXN1bHRzWzBdKS50b0hhdmVMZW5ndGgoNSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgn5pWw5o2u5a6M5pW05oCn6aqM6K+B5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHBhcnNlcjogQmluYXJ5RGF0YVBhcnNlcjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIHBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpemqjOivgeWujOaVtOeahOmAmumBk+aVsOaNricsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNoYW5uZWxzWzBdLnNhbXBsZXMgPSBuZXcgVWludDhBcnJheShbMCwgMSwgMCwgMV0pO1xyXG4gICAgICBjaGFubmVsc1sxXS5zYW1wbGVzID0gbmV3IFVpbnQ4QXJyYXkoWzEsIDAsIDEsIDBdKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci52YWxpZGF0ZURhdGFJbnRlZ3JpdHkoY2hhbm5lbHMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9IYXZlTGVuZ3RoKDApO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXRpc3RpY3MudG90YWxTYW1wbGVzKS50b0JlKDQpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXRpc3RpY3MuY2hhbm5lbHNXaXRoRGF0YSkudG9CZSgyKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5qOA5rWL57y65bCR5qC35pys5pWw5o2u55qE6YCa6YGTJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDEsICdDSDEnKVxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgY2hhbm5lbHNbMF0uc2FtcGxlcyA9IG5ldyBVaW50OEFycmF5KFswLCAxLCAwLCAxXSk7XHJcbiAgICAgIC8vIGNoYW5uZWxzWzFdLnNhbXBsZXMg5pyq6K6+572uXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIudmFsaWRhdGVEYXRhSW50ZWdyaXR5KGNoYW5uZWxzKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLnNvbWUoZSA9PiBlLmluY2x1ZGVzKCdoYXMgbm8gc2FtcGxlIGRhdGEnKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeajgOa1i+epuuagt+acrOaVsOaNricsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNoYW5uZWxzWzBdLnNhbXBsZXMgPSBuZXcgVWludDhBcnJheSgpOyAvLyDnqbrmlbDnu4RcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci52YWxpZGF0ZURhdGFJbnRlZ3JpdHkoY2hhbm5lbHMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcnMuc29tZShlID0+IGUuaW5jbHVkZXMoJ2hhcyBlbXB0eSBzYW1wbGUgZGF0YScpKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5qOA5rWL5peg5pWI55qE5qC35pys5YC8JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKVxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgY2hhbm5lbHNbMF0uc2FtcGxlcyA9IG5ldyBVaW50OEFycmF5KFswLCAxLCAyLCAxXSk7IC8vIOWMheWQq+aXoOaViOWAvDJcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci52YWxpZGF0ZURhdGFJbnRlZ3JpdHkoY2hhbm5lbHMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcnMuc29tZShlID0+IGUuaW5jbHVkZXMoJ2hhcyBpbnZhbGlkIHZhbHVlIDInKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeajgOa1i+agt+acrOaVsOmHj+S4jeS4gOiHtCcsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNoYW5uZWxzWzBdLnNhbXBsZXMgPSBuZXcgVWludDhBcnJheShbMCwgMSwgMCwgMV0pO1xyXG4gICAgICBjaGFubmVsc1sxXS5zYW1wbGVzID0gbmV3IFVpbnQ4QXJyYXkoWzEsIDBdKTsgLy8g6ZW/5bqm5LiN5LiA6Ie0XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIudmFsaWRhdGVEYXRhSW50ZWdyaXR5KGNoYW5uZWxzKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzLnNvbWUoZSA9PiBlLmluY2x1ZGVzKCdzYW1wbGUgY291bnQnKSAmJiBlLmluY2x1ZGVzKCdkaWZmZXJzIGZyb20gZXhwZWN0ZWQnKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgn57uf5LiA5pWw5o2u5qC85byP6L2s5o2i5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHBhcnNlcjogQmluYXJ5RGF0YVBhcnNlcjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIHBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehrui9rOaNouS4uue7n+S4gOaVsOaNruagvOW8jycsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNoYW5uZWxzWzBdLnNhbXBsZXMgPSBuZXcgVWludDhBcnJheShbMCwgMSwgMF0pO1xyXG4gICAgICBjaGFubmVsc1sxXS5zYW1wbGVzID0gbmV3IFVpbnQ4QXJyYXkoWzEsIDAsIDFdKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgY29uc3QgZGV2aWNlSW5mbyA9IHsgbmFtZTogJ1Rlc3QgRGV2aWNlJyB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLmNvbnZlcnRUb1VuaWZpZWRGb3JtYXQoY2hhbm5lbHMsIHNlc3Npb24sIGRldmljZUluZm8pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YVswXSkudG9FcXVhbChuZXcgVWludDhBcnJheShbMCwgMSwgMF0pKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhWzFdKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFsxLCAwLCAxXSkpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmVuY29kaW5nKS50b0JlKCdiaW5hcnknKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wcmVzc2lvbikudG9CZSgnbm9uZScpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7ku47nu5/kuIDmlbDmja7moLzlvI/ovazmjaInLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRpZ2l0YWxEYXRhID0ge1xyXG4gICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgIG5ldyBVaW50OEFycmF5KFswLCAxLCAwXSksXHJcbiAgICAgICAgICBuZXcgVWludDhBcnJheShbMSwgMCwgMV0pXHJcbiAgICAgICAgXSxcclxuICAgICAgICBlbmNvZGluZzogJ2JpbmFyeScgYXMgY29uc3QsXHJcbiAgICAgICAgY29tcHJlc3Npb246ICdub25lJyBhcyBjb25zdFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2hhbm5lbEluZm8gPSBbXHJcbiAgICAgICAgeyBjaGFubmVsTnVtYmVyOiAwLCBjaGFubmVsTmFtZTogJ0NIMCcgfSxcclxuICAgICAgICB7IGNoYW5uZWxOdW1iZXI6IDEsIGNoYW5uZWxOYW1lOiAnQ0gxJyB9XHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjaGFubmVscyA9IHBhcnNlci5jb252ZXJ0RnJvbVVuaWZpZWRGb3JtYXQoZGlnaXRhbERhdGEsIGNoYW5uZWxJbmZvKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjaGFubmVscykudG9IYXZlTGVuZ3RoKDIpO1xyXG4gICAgICBleHBlY3QoY2hhbm5lbHNbMF0uY2hhbm5lbE51bWJlcikudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KGNoYW5uZWxzWzBdLmNoYW5uZWxOYW1lKS50b0JlKCdDSDAnKTtcclxuICAgICAgZXhwZWN0KGNoYW5uZWxzWzBdLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzAsIDEsIDBdKSk7XHJcbiAgICAgIGV4cGVjdChjaGFubmVsc1sxXS5jaGFubmVsTnVtYmVyKS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QoY2hhbm5lbHNbMV0uY2hhbm5lbE5hbWUpLnRvQmUoJ0NIMScpO1xyXG4gICAgICBleHBlY3QoY2hhbm5lbHNbMV0uc2FtcGxlcykudG9FcXVhbChuZXcgVWludDhBcnJheShbMSwgMCwgMV0pKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5aSE55CGUkxF57yW56CB55qE57uf5LiA5pWw5o2u5qC85byPJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkaWdpdGFsRGF0YSA9IHtcclxuICAgICAgICBkYXRhOiBbXHJcbiAgICAgICAgICBuZXcgVWludDhBcnJheShbMSwgMywgMCwgMl0pIC8vIFJMRTogM+S4qjEsIDLkuKowXHJcbiAgICAgICAgXSxcclxuICAgICAgICBlbmNvZGluZzogJ3JsZScgYXMgY29uc3QsXHJcbiAgICAgICAgY29tcHJlc3Npb246ICdub25lJyBhcyBjb25zdFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2hhbm5lbEluZm8gPSBbXHJcbiAgICAgICAgeyBjaGFubmVsTnVtYmVyOiAwLCBjaGFubmVsTmFtZTogJ0NIMCcgfVxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBwYXJzZXIuY29udmVydEZyb21VbmlmaWVkRm9ybWF0KGRpZ2l0YWxEYXRhLCBjaGFubmVsSW5mbyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY2hhbm5lbHMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KGNoYW5uZWxzWzBdLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDEsIDEsIDAsIDBdKSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgn5oCn6IO95ZKM5YaF5a2Y5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHBhcnNlcjogQmluYXJ5RGF0YVBhcnNlcjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIHBhcnNlciA9IG5ldyBCaW5hcnlEYXRhUGFyc2VyKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruiuoeeul+WGheWtmOS9v+eUqOmHjycsICgpID0+IHtcclxuICAgICAgY29uc3QgY2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNoYW5uZWxzWzBdLnNhbXBsZXMgPSBuZXcgVWludDhBcnJheSgxMDAwKTtcclxuICAgICAgY2hhbm5lbHNbMV0uc2FtcGxlcyA9IG5ldyBVaW50OEFycmF5KDIwMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbWVtb3J5VXNhZ2UgPSAocGFyc2VyIGFzIGFueSkuY2FsY3VsYXRlTWVtb3J5VXNhZ2UoY2hhbm5lbHMpO1xyXG4gICAgICBcclxuICAgICAgLy8gMzAwMOWtl+iKguagt+acrOaVsOaNriArIDIgKiA2NOWtl+iKguWvueixoeW8gOmUgCA9IDMxMjjlrZfoioJcclxuICAgICAgZXhwZWN0KG1lbW9yeVVzYWdlKS50b0JlKDMxMjgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XlpITnkIblpKfmlbDmja7ph4/op6PmnpAnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5jYXB0dXJlQ2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIC8vIOWIm+W7uuWkp+aVsOaNrumbhiAoMTAwMDDkuKrmoLfmnKwpXHJcbiAgICAgIGNvbnN0IHNhbXBsZUNvdW50ID0gMTAwMDA7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSg0ICsgc2FtcGxlQ291bnQgKyAxKTtcclxuICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlcik7XHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQzMigwLCBzYW1wbGVDb3VudCwgdHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDloavlhYXpmo/mnLrmoLfmnKzmlbDmja5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgdmlldy5zZXRVaW50OCg0ICsgaSwgTWF0aC5yYW5kb20oKSA+IDAuNSA/IDB4RkYgOiAweDAwKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50OCg0ICsgc2FtcGxlQ291bnQsIDApOyAvLyDml7bpl7TmiLPplb/luqZcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXJzZXIucGFyc2VCaW5hcnlEYXRhKGRhdGEsIHNlc3Npb24sIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgICBjb25zdCBwYXJzZVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbFNhbXBsZXMpLnRvQmUoc2FtcGxlQ291bnQpO1xyXG4gICAgICBleHBlY3QocGFyc2VUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIOW6lOivpeWcqDHnp5LlhoXlrozmiJBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5wYXJzZVRpbWUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5tZW1vcnlVc2FnZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0JpbmFyeURhdGFQYXJzZXJGYWN0b3J5IOW3peWOguexu+a1i+ivlScsICgpID0+IHtcclxuICBcclxuICBpdCgn5bqU6K+l5Li6UGljb+iuvuWkh+WIm+W7uuS8mOWMlueahOino+aekOWZqCcsICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlciA9IEJpbmFyeURhdGFQYXJzZXJGYWN0b3J5LmNyZWF0ZUZvckRldmljZSgncGljbycsIDgpO1xyXG4gICAgY29uc3QgY29uZmlnID0gcGFyc2VyLmdldENvbmZpZygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoY29uZmlnLmNodW5rU2l6ZSkudG9CZSgzMiAqIDEwMjQpO1xyXG4gICAgZXhwZWN0KGNvbmZpZy5jb21wcmVzc2lvblRocmVzaG9sZCkudG9CZSg1MTIgKiAxMDI0KTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlT3B0aW1pemF0aW9uKS50b0JlKHRydWUpO1xyXG4gICAgZXhwZWN0KGNvbmZpZy5lbmFibGVWYWxpZGF0aW9uKS50b0JlKHRydWUpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCflupTor6XkuLpTYWxlYWXorr7lpIfliJvlu7rkvJjljJbnmoTop6PmnpDlmagnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwYXJzZXIgPSBCaW5hcnlEYXRhUGFyc2VyRmFjdG9yeS5jcmVhdGVGb3JEZXZpY2UoJ3NhbGVhZScsIDE2KTtcclxuICAgIGNvbnN0IGNvbmZpZyA9IHBhcnNlci5nZXRDb25maWcoKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGNvbmZpZy5jaHVua1NpemUpLnRvQmUoMTI4ICogMTAyNCk7XHJcbiAgICBleHBlY3QoY29uZmlnLmNvbXByZXNzaW9uVGhyZXNob2xkKS50b0JlKDIgKiAxMDI0ICogMTAyNCk7XHJcbiAgICBleHBlY3QoY29uZmlnLmVuYWJsZU9wdGltaXphdGlvbikudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlVmFsaWRhdGlvbikudG9CZSh0cnVlKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5Li65pyq55+l6K6+5aSH5Yib5bu66buY6K6k6Kej5p6Q5ZmoJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VyID0gQmluYXJ5RGF0YVBhcnNlckZhY3RvcnkuY3JlYXRlRm9yRGV2aWNlKCd1bmtub3duJywgMjQpO1xyXG4gICAgY29uc3QgY29uZmlnID0gcGFyc2VyLmdldENvbmZpZygpO1xyXG4gICAgXHJcbiAgICBleHBlY3QoY29uZmlnLmNodW5rU2l6ZSkudG9CZSg2NCAqIDEwMjQpO1xyXG4gICAgZXhwZWN0KGNvbmZpZy5jb21wcmVzc2lvblRocmVzaG9sZCkudG9CZSgxMDI0ICogMTAyNCk7XHJcbiAgICBleHBlY3QoY29uZmlnLmVuYWJsZU9wdGltaXphdGlvbikudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlVmFsaWRhdGlvbikudG9CZSh0cnVlKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5Yib5bu66auY5oCn6IO96Kej5p6Q5ZmoJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcGFyc2VyID0gQmluYXJ5RGF0YVBhcnNlckZhY3RvcnkuY3JlYXRlSGlnaFBlcmZvcm1hbmNlKCk7XHJcbiAgICBjb25zdCBjb25maWcgPSBwYXJzZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChjb25maWcuZm9ybWF0KS50b0JlKEJpbmFyeURhdGFGb3JtYXQuUmF3KTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlT3B0aW1pemF0aW9uKS50b0JlKHRydWUpO1xyXG4gICAgZXhwZWN0KGNvbmZpZy5lbmFibGVWYWxpZGF0aW9uKS50b0JlKGZhbHNlKTsgLy8g5YWz6Zet6aqM6K+B5o+Q5Y2H5oCn6IO9XHJcbiAgICBleHBlY3QoY29uZmlnLmNodW5rU2l6ZSkudG9CZSgyNTYgKiAxMDI0KTtcclxuICAgIGV4cGVjdChjb25maWcuY29tcHJlc3Npb25UaHJlc2hvbGQpLnRvQmUoMTAgKiAxMDI0ICogMTAyNCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeWIm+W7uuiwg+ivleeUqOino+aekOWZqCcsICgpID0+IHtcclxuICAgIGNvbnN0IHBhcnNlciA9IEJpbmFyeURhdGFQYXJzZXJGYWN0b3J5LmNyZWF0ZURlYnVnKCk7XHJcbiAgICBjb25zdCBjb25maWcgPSBwYXJzZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChjb25maWcuZm9ybWF0KS50b0JlKEJpbmFyeURhdGFGb3JtYXQuUmF3KTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlT3B0aW1pemF0aW9uKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdChjb25maWcuZW5hYmxlVmFsaWRhdGlvbikudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChjb25maWcuY2h1bmtTaXplKS50b0JlKDQgKiAxMDI0KTsgLy8g5bCP5Z2X5aSE55CG5L6/5LqO6LCD6K+VXHJcbiAgICBleHBlY3QoY29uZmlnLmNvbXByZXNzaW9uVGhyZXNob2xkKS50b0JlKDY0ICogMTAyNCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0JpbmFyeURhdGFGb3JtYXQg5p6a5Li+5rWL6K+VJywgKCkgPT4ge1xyXG4gIFxyXG4gIGl0KCflupTor6XlrprkuYnmiYDmnInmlbDmja7moLzlvI8nLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoQmluYXJ5RGF0YUZvcm1hdC5SYXcpLnRvQmUoJ3JhdycpO1xyXG4gICAgZXhwZWN0KEJpbmFyeURhdGFGb3JtYXQuQ29tcHJlc3NlZCkudG9CZSgnY29tcHJlc3NlZCcpO1xyXG4gICAgZXhwZWN0KEJpbmFyeURhdGFGb3JtYXQuUkxFKS50b0JlKCdybGUnKTtcclxuICAgIGV4cGVjdChCaW5hcnlEYXRhRm9ybWF0LkRlbHRhKS50b0JlKCdkZWx0YScpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCfmnprkuL7lgLzlupTor6XmmK/lrZfnrKbkuLLnsbvlnosnLCAoKSA9PiB7XHJcbiAgICBPYmplY3QudmFsdWVzKEJpbmFyeURhdGFGb3JtYXQpLmZvckVhY2goZm9ybWF0ID0+IHtcclxuICAgICAgZXhwZWN0KHR5cGVvZiBmb3JtYXQpLnRvQmUoJ3N0cmluZycpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ+mUmeivr+WkhOeQhuWSjOi+ueeVjOadoeS7tua1i+ivlScsICgpID0+IHtcclxuICBsZXQgcGFyc2VyOiBCaW5hcnlEYXRhUGFyc2VyO1xyXG4gIFxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgcGFyc2VyID0gbmV3IEJpbmFyeURhdGFQYXJzZXIoKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG56m65qC35pys5pWw5o2u55qE5oOF5Ya1JywgKCkgPT4ge1xyXG4gICAgY29uc3QgY2hhbm5lbHM6IEFuYWx5emVyQ2hhbm5lbFtdID0gW107XHJcbiAgICBjb25zdCBtZW1vcnlVc2FnZSA9IChwYXJzZXIgYXMgYW55KS5jYWxjdWxhdGVNZW1vcnlVc2FnZShjaGFubmVscyk7XHJcbiAgICBcclxuICAgIGV4cGVjdChtZW1vcnlVc2FnZSkudG9CZSgwKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG6YCa6YGT5rKh5pyJ5qC35pys5pWw5o2u55qE5oOF5Ya1JywgKCkgPT4ge1xyXG4gICAgY29uc3QgY2hhbm5lbHMgPSBbbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyldO1xyXG4gICAgLy8g5LiN6K6+572uc2FtcGxlc1xyXG4gICAgXHJcbiAgICBjb25zdCBtZW1vcnlVc2FnZSA9IChwYXJzZXIgYXMgYW55KS5jYWxjdWxhdGVNZW1vcnlVc2FnZShjaGFubmVscyk7XHJcbiAgICBcclxuICAgIGV4cGVjdChtZW1vcnlVc2FnZSkudG9CZSg2NCk7IC8vIOWPquacieWvueixoeW8gOmUgFxyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCflupTor6XlpITnkIZSTEXljovnvKnnmoTovrnnlYzmg4XlhrUnLCAoKSA9PiB7XHJcbiAgICAvLyDljZXkuIDlgLxcclxuICAgIGNvbnN0IHNpbmdsZVZhbHVlID0gbmV3IFVpbnQ4QXJyYXkoWzFdKTtcclxuICAgIGNvbnN0IGNvbXByZXNzZWQgPSAocGFyc2VyIGFzIGFueSkuY29tcHJlc3NDaGFubmVsRGF0YShzaW5nbGVWYWx1ZSk7XHJcbiAgICBleHBlY3QoY29tcHJlc3NlZCkudG9FcXVhbChuZXcgVWludDhBcnJheShbMSwgMV0pKTtcclxuICAgIFxyXG4gICAgLy8g56m65pWw57uEXHJcbiAgICBjb25zdCBlbXB0eSA9IG5ldyBVaW50OEFycmF5KFtdKTtcclxuICAgIGV4cGVjdCgoKSA9PiAocGFyc2VyIGFzIGFueSkuY29tcHJlc3NDaGFubmVsRGF0YShlbXB0eSkpLm5vdC50b1Rocm93KCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeWkhOeQhlJMReino+WOi+e8qeeahOi+ueeVjOaDheWGtScsICgpID0+IHtcclxuICAgIC8vIOepuuaVsOe7hFxyXG4gICAgY29uc3QgZW1wdHkgPSBuZXcgVWludDhBcnJheShbXSk7XHJcbiAgICBjb25zdCBkZWNvbXByZXNzZWQgPSAocGFyc2VyIGFzIGFueSkuZGVjb21wcmVzc0NoYW5uZWxEYXRhKGVtcHR5KTtcclxuICAgIGV4cGVjdChkZWNvbXByZXNzZWQpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoW10pKTtcclxuICAgIFxyXG4gICAgLy8g5aWH5pWw6ZW/5bqm5pWw57uEICjkuI3lrozmlbTnmoRSTEXlr7kpXHJcbiAgICBjb25zdCBpbmNvbXBsZXRlID0gbmV3IFVpbnQ4QXJyYXkoWzFdKTsgLy8g57y65bCR6K6h5pWwXHJcbiAgICBleHBlY3QoKCkgPT4gKHBhcnNlciBhcyBhbnkpLmRlY29tcHJlc3NDaGFubmVsRGF0YShpbmNvbXBsZXRlKSkubm90LnRvVGhyb3coKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG5Lit5YC85ruk5rOi55qE6L6555WM5oOF5Ya1JywgKCkgPT4ge1xyXG4gICAgLy8g5Y2V5Liq5YWD57SgXHJcbiAgICBjb25zdCBzaW5nbGUgPSBuZXcgVWludDhBcnJheShbMV0pO1xyXG4gICAgKHBhcnNlciBhcyBhbnkpLmFwcGx5TWVkaWFuRmlsdGVyKHNpbmdsZSwgMyk7XHJcbiAgICBleHBlY3Qoc2luZ2xlKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFsxXSkpO1xyXG4gICAgXHJcbiAgICAvLyDnqbrmlbDnu4RcclxuICAgIGNvbnN0IGVtcHR5ID0gbmV3IFVpbnQ4QXJyYXkoW10pO1xyXG4gICAgZXhwZWN0KCgpID0+IChwYXJzZXIgYXMgYW55KS5hcHBseU1lZGlhbkZpbHRlcihlbXB0eSwgMykpLm5vdC50b1Rocm93KCk7XHJcbiAgICBcclxuICAgIC8vIOa7pOazouWZqOWuveW6puS4ujFcclxuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShbMSwgMCwgMV0pO1xyXG4gICAgY29uc3Qgb3JpZ2luYWwgPSBuZXcgVWludDhBcnJheShkYXRhKTtcclxuICAgIChwYXJzZXIgYXMgYW55KS5hcHBseU1lZGlhbkZpbHRlcihkYXRhLCAxKTtcclxuICAgIGV4cGVjdChkYXRhKS50b0VxdWFsKG9yaWdpbmFsKTsgLy8g5bqU6K+l5LiN5Y+YXHJcbiAgfSk7XHJcblxyXG4gIGl0KCflupTor6XlpITnkIbpnZ5FcnJvcuexu+Wei+eahOW8guW4uCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgIHNlc3Npb24uZnJlcXVlbmN5ID0gMTAwMDAwMDtcclxuICAgIHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzID0gW25ldyBBbmFseXplckNoYW5uZWwoMCwgJ0NIMCcpXTtcclxuICAgIFxyXG4gICAgLy8g5Yib5bu65LiA5Liq6Kej5p6Q5Zmo5bm25qih5ouf6Z2eRXJyb3LnsbvlnovnmoTlvILluLhcclxuICAgIGNvbnN0IHRlc3RQYXJzZXIgPSBuZXcgQmluYXJ5RGF0YVBhcnNlcigpO1xyXG4gICAgXHJcbiAgICAvLyDpgJrov4fkv67mlLnljp/lp4vmlrnms5XmnaXmipvlh7rpnZ5FcnJvcuexu+Wei+eahOW8guW4uFxyXG4gICAgY29uc3Qgb3JpZ2luYWxWYWxpZGF0ZSA9ICh0ZXN0UGFyc2VyIGFzIGFueSkudmFsaWRhdGVSYXdEYXRhO1xyXG4gICAgKHRlc3RQYXJzZXIgYXMgYW55KS52YWxpZGF0ZVJhd0RhdGEgPSAoKSA9PiB7XHJcbiAgICAgIHRocm93ICdUaGlzIGlzIGEgc3RyaW5nIGVycm9yLCBub3QgYW4gRXJyb3Igb2JqZWN0JzsgLy8g5oqb5Ye65a2X56ym5Liy57G75Z6LXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMTAwKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRlc3RQYXJzZXIucGFyc2VCaW5hcnlEYXRhKGRhdGEsIHNlc3Npb24sIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgXHJcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC53YXJuaW5ncy5zb21lKHcgPT4gdy5pbmNsdWRlcygnUGFyc2UgZXJyb3I6IFVua25vd24gZXJyb3InKSkpLnRvQmUodHJ1ZSk7XHJcbiAgICBcclxuICAgIC8vIOaBouWkjeWOn+Wni+aWueazlVxyXG4gICAgKHRlc3RQYXJzZXIgYXMgYW55KS52YWxpZGF0ZVJhd0RhdGEgPSBvcmlnaW5hbFZhbGlkYXRlO1xyXG4gIH0pO1xyXG5cclxuICBpdCgn5bqU6K+l5aSE55CGY29udmVydFRvVW5pZmllZEZvcm1hdOS4remAmumBk+ayoeaciXNhbXBsZXPnmoTmg4XlhrUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjaGFubmVscyA9IFtcclxuICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMSwgJ0NIMScpXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICAvLyDnrKzkuIDkuKrpgJrpgZPmnIlzYW1wbGVz77yM56ys5LqM5Liq6YCa6YGT5rKh5pyJc2FtcGxlc1xyXG4gICAgY2hhbm5lbHNbMF0uc2FtcGxlcyA9IG5ldyBVaW50OEFycmF5KFswLCAxLCAwXSk7XHJcbiAgICAvLyBjaGFubmVsc1sxXS5zYW1wbGVzIOS/neeVmeS4unVuZGVmaW5lZFxyXG4gICAgXHJcbiAgICBjb25zdCBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICBjb25zdCBkZXZpY2VJbmZvID0geyBuYW1lOiAnVGVzdCBEZXZpY2UnIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5jb252ZXJ0VG9VbmlmaWVkRm9ybWF0KGNoYW5uZWxzLCBzZXNzaW9uLCBkZXZpY2VJbmZvKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0pLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzAsIDEsIDBdKSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmRhdGFbMV0pLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoKSk7IC8vIOW6lOivpeaYr+epuueahFVpbnQ4QXJyYXlcclxuICAgIGV4cGVjdChyZXN1bHQuZW5jb2RpbmcpLnRvQmUoJ2JpbmFyeScpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jb21wcmVzc2lvbikudG9CZSgnbm9uZScpO1xyXG4gIH0pO1xyXG59KTsiXSwidmVyc2lvbiI6M30=