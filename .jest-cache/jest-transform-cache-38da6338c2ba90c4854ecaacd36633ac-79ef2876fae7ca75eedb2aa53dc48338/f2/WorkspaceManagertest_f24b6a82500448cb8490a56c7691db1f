0a035372990f6667449815eac885cf6c
"use strict";
/**
 * WorkspaceManager 测试
 * 测试工作区集成和项目管理功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
// Mock dependencies
jest.mock('vscode', () => ({
    workspace: {
        workspaceFolders: [{ uri: { fsPath: '/test/workspace' } }],
        getConfiguration: jest.fn().mockReturnValue({
            get: jest.fn(),
            update: jest.fn(),
        }),
        createFileSystemWatcher: jest.fn().mockReturnValue({
            onDidCreate: jest.fn(),
            onDidChange: jest.fn(),
            onDidDelete: jest.fn(),
            dispose: jest.fn(),
        }),
        onDidChangeWorkspaceFolders: jest.fn(),
        onDidChangeConfiguration: jest.fn(),
    },
    window: {
        showErrorMessage: jest.fn(),
        showWarningMessage: jest.fn(),
        showInformationMessage: jest.fn(),
        showInputBox: jest.fn(),
        showQuickPick: jest.fn(),
    },
    commands: {
        executeCommand: jest.fn().mockResolvedValue(undefined),
    },
    Uri: {
        file: jest.fn().mockImplementation((path) => ({ fsPath: path })),
    },
    FileType: {
        File: 1,
        Directory: 2,
    },
}));
jest.mock('fs/promises', () => ({
    readFile: jest.fn(),
    writeFile: jest.fn(),
    access: jest.fn(),
    mkdir: jest.fn(),
    readdir: jest.fn(),
    stat: jest.fn(),
    rm: jest.fn(),
    copyFile: jest.fn(),
    unlink: jest.fn(),
}));
jest.mock('path', () => ({
    join: jest.fn().mockImplementation((...args) => args.join('/')),
    dirname: jest.fn().mockImplementation((p) => p.split('/').slice(0, -1).join('/')),
    basename: jest.fn().mockImplementation((p) => p.split('/').pop()),
    resolve: jest.fn().mockImplementation((p) => p),
    extname: jest.fn().mockImplementation((p) => {
        const parts = p.split('.');
        return parts.length > 1 ? '.' + parts[parts.length - 1] : '';
    }),
    relative: jest.fn().mockImplementation((from, to) => to.replace(from, '').replace(/^\//, '')),
}));
const WorkspaceManager_1 = require("../../../src/services/WorkspaceManager");
describe('WorkspaceManager 测试', () => {
    let workspaceManager;
    let mockVSCode;
    let mockFS;
    beforeEach(() => {
        mockVSCode = require('vscode');
        mockFS = require('fs/promises');
        // 确保mock返回值符合期望格式
        mockFS.readdir.mockImplementation((path, options) => {
            if (options && options.withFileTypes) {
                return Promise.resolve([]);
            }
            return Promise.resolve([]);
        });
        workspaceManager = new WorkspaceManager_1.WorkspaceManager();
        jest.clearAllMocks();
    });
    afterEach(() => {
        workspaceManager.dispose();
    });
    // 创建测试用的项目配置
    const createTestProjectConfig = () => ({
        name: '测试项目',
        version: '1.0.0',
        description: '用于单元测试的项目',
        author: 'test-user',
        createdAt: '2025-07-30T12:00:00Z',
        updatedAt: '2025-07-30T12:00:00Z',
        structure: {
            sessionsDir: 'sessions',
            dataDir: 'data',
            analysisDir: 'analysis',
            reportsDir: 'reports',
            configDir: 'config',
            tempDir: 'temp',
        },
        settings: {
            defaultSampleRate: 24000000,
            defaultChannelCount: 8,
            autoBackup: true,
            compressionEnabled: true,
            collaborationEnabled: false,
        },
        metadata: {
            totalSessions: 0,
            totalDataSize: 0,
            lastBackup: '',
            tags: ['test'],
        },
    });
    // 创建测试用的项目创建选项
    const createTestProjectOptions = () => ({
        name: '测试项目',
        location: '/test/projects/test-project',
        template: 'basic',
        initializeGit: false,
        createSampleData: false,
    });
    describe('项目创建功能', () => {
        it('应该能够创建新项目', async () => {
            // Arrange
            const options = createTestProjectOptions();
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            // Act
            await workspaceManager.createProject(options);
            // Assert
            expect(mockFS.mkdir).toHaveBeenCalledWith(options.location, { recursive: true });
            expect(mockFS.writeFile).toHaveBeenCalledWith(expect.stringContaining('project.json'), expect.any(String), 'utf8');
        });
        it('应该创建项目目录结构', async () => {
            // Arrange
            const options = createTestProjectOptions();
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            // Act  
            await workspaceManager.createProject(options);
            // Assert
            expect(mockFS.mkdir).toHaveBeenCalledTimes(14); // 实际创建的目录数量
        });
        it('应该处理项目创建失败的情况', async () => {
            // Arrange
            const options = createTestProjectOptions();
            mockFS.mkdir.mockRejectedValue(new Error('创建失败'));
            // Act & Assert
            await expect(workspaceManager.createProject(options)).rejects.toThrow('创建失败');
        });
    });
    describe('项目打开功能', () => {
        it('应该能够打开现有项目', async () => {
            // Arrange
            const projectPath = '/test/projects/existing-project';
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined); // 文件存在
            // Act
            await workspaceManager.openProject(projectPath);
            // Assert
            expect(mockFS.readFile).toHaveBeenCalledWith(expect.stringContaining('project.json'), 'utf8');
            expect(workspaceManager.getCurrentProject()).toBeDefined();
        });
        it('应该处理项目文件不存在的情况', async () => {
            // Arrange
            const projectPath = '/test/projects/nonexistent-project';
            mockFS.access.mockRejectedValue(new Error('ENOENT'));
            // Act & Assert
            await expect(workspaceManager.openProject(projectPath)).rejects.toThrow();
        });
        it('应该处理损坏的项目文件', async () => {
            // Arrange
            const projectPath = '/test/projects/corrupted-project';
            mockFS.readFile.mockResolvedValue('无效的JSON');
            mockFS.access.mockResolvedValue(undefined);
            // Act & Assert
            await expect(workspaceManager.openProject(projectPath)).rejects.toThrow();
        });
    });
    describe('项目管理功能', () => {
        beforeEach(async () => {
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该能够更新项目配置', async () => {
            // Arrange
            const updates = { name: '更新后的项目名称' };
            mockFS.writeFile.mockResolvedValue(undefined);
            // Act
            await workspaceManager.updateProject(updates);
            // Assert
            expect(mockFS.writeFile).toHaveBeenCalledWith(expect.stringContaining('project.json'), expect.stringContaining(updates.name), 'utf8');
        });
        it('应该能够获取项目文件列表', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'session1.lacsession',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'session2.lacsession',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['session1.lacsession', 'session2.lacsession']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined);
            // Act
            const files = await workspaceManager.getProjectFiles(WorkspaceManager_1.FileType.Session);
            // Assert
            expect(Array.isArray(files)).toBe(true);
            expect(mockFS.readdir).toHaveBeenCalled();
        });
        it('应该能够关闭当前项目', async () => {
            // Arrange - 先创建一个项目
            const options = createTestProjectOptions();
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            await workspaceManager.createProject(options);
            // Act
            await workspaceManager.closeProject();
            // Assert
            expect(workspaceManager.getCurrentProject()).toBeNull();
        });
    });
    describe('文件管理功能', () => {
        beforeEach(async () => {
            // 重置所有mock状态
            jest.clearAllMocks();
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            mockFS.copyFile.mockResolvedValue(undefined);
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该能够添加文件到项目', async () => {
            // Arrange
            const sourceFile = '/test/external/data.lacs';
            const targetPath = 'sessions/imported-data.lacs';
            mockFS.copyFile.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            // Act
            const fileId = await workspaceManager.addFileToProject(sourceFile, WorkspaceManager_1.FileType.Session, targetPath);
            // Assert
            expect(fileId).toBeDefined();
            expect(mockFS.copyFile).toHaveBeenCalledWith(sourceFile, expect.stringContaining(targetPath));
        });
        it('应该能够从项目中删除文件', async () => {
            // Arrange
            const fileId = 'test-file-id';
            // 模拟文件系统结构
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'test.lac',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['test.lac']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined);
            mockFS.rm.mockResolvedValue(undefined);
            // 模拟生成的文件ID与实际文件的匹配
            // 注意：由于generateFileId是基于时间戳和随机数的，我们需要使用spy来控制它
            const originalGenerateId = workspaceManager.generateFileId;
            const generateIdSpy = jest.spyOn(workspaceManager, 'generateFileId');
            generateIdSpy.mockReturnValue(fileId);
            // 先添加一个文件，然后删除它
            const sourceFile = '/test/source.lac';
            await workspaceManager.addFileToProject(sourceFile, WorkspaceManager_1.FileType.Data);
            // Act
            await workspaceManager.removeFileFromProject(fileId);
            // Assert
            expect(mockFS.rm).toHaveBeenCalled();
            // Cleanup
            generateIdSpy.mockRestore();
        });
    });
    describe('备份和恢复功能', () => {
        beforeEach(async () => {
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该能够创建项目备份', async () => {
            // Arrange
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.copyFile.mockResolvedValue(undefined);
            mockFS.writeFile.mockResolvedValue(undefined);
            // Act
            const backupPath = await workspaceManager.createBackup(true);
            // Assert
            expect(backupPath).toBeDefined();
            expect(mockFS.mkdir).toHaveBeenCalled();
        });
        it('应该能够恢复项目备份', async () => {
            // Arrange
            const backupPath = '/test/backups/project-backup-20250730.zip';
            mockFS.access.mockResolvedValue(undefined);
            mockFS.copyFile.mockResolvedValue(undefined);
            // Act
            await workspaceManager.restoreBackup(backupPath);
            // Assert
            expect(mockFS.access).toHaveBeenCalledWith(backupPath);
        });
        it('应该处理备份文件不存在的情况', async () => {
            // Arrange
            const invalidBackupPath = '/test/backups/nonexistent-backup.zip';
            mockFS.access.mockRejectedValue(new Error('ENOENT'));
            // Act & Assert
            await expect(workspaceManager.restoreBackup(invalidBackupPath)).rejects.toThrow();
        });
    });
    describe('项目状态管理', () => {
        it('应该正确报告项目状态', () => {
            // Act
            const hasProject = workspaceManager.hasActiveProject();
            const currentProject = workspaceManager.getCurrentProject();
            // Assert
            expect(typeof hasProject).toBe('boolean');
            expect(currentProject).toBeNull(); // 没有打开的项目
        });
        it('应该能够获取项目信息', async () => {
            // Arrange
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
            // Act
            const projectInfo = workspaceManager.getProjectInfo();
            // Assert
            expect(projectInfo).toBeDefined();
            expect(projectInfo?.name).toBe('测试项目');
        });
    });
    describe('错误处理和边界情况', () => {
        it('应该处理工作区不存在的情况', async () => {
            // Arrange
            const originalWorkspaceFolders = mockVSCode.workspace.workspaceFolders;
            mockVSCode.workspace.workspaceFolders = undefined;
            const options = createTestProjectOptions();
            // 设置一个会失败的操作，比如创建目录失败
            mockFS.mkdir.mockRejectedValue(new Error('工作区不存在'));
            // Act & Assert
            await expect(workspaceManager.createProject(options)).rejects.toThrow();
            // Cleanup
            mockVSCode.workspace.workspaceFolders = originalWorkspaceFolders;
        });
        it('应该处理文件权限错误', async () => {
            // Arrange
            const options = createTestProjectOptions();
            mockFS.mkdir.mockRejectedValue(new Error('EACCES: permission denied'));
            // Act & Assert
            await expect(workspaceManager.createProject(options)).rejects.toThrow('permission denied');
        });
        it('应该处理磁盘空间不足', async () => {
            // Arrange
            const options = createTestProjectOptions();
            mockFS.mkdir.mockRejectedValue(new Error('ENOSPC: no space left on device'));
            // Act & Assert
            await expect(workspaceManager.createProject(options)).rejects.toThrow('no space left');
        });
    });
    describe('项目模板功能', () => {
        it('应该能够获取项目模板列表', () => {
            // Act
            const templates = workspaceManager.getProjectTemplates();
            // Assert
            expect(Array.isArray(templates)).toBe(true);
            expect(templates.length).toBeGreaterThan(0);
            expect(templates[0]).toHaveProperty('name');
            expect(templates[0]).toHaveProperty('displayName');
            expect(templates[0]).toHaveProperty('description');
            expect(templates[0]).toHaveProperty('structure');
            expect(templates[0]).toHaveProperty('files');
        });
        it('应该包含基础项目模板', () => {
            // Act
            const templates = workspaceManager.getProjectTemplates();
            const basicTemplate = templates.find(t => t.name === 'basic');
            // Assert
            expect(basicTemplate).toBeDefined();
            expect(basicTemplate?.displayName).toBe('基础项目');
            expect(basicTemplate?.structure).toContain('sessions');
            expect(basicTemplate?.structure).toContain('data');
            expect(basicTemplate?.files.length).toBeGreaterThan(0);
        });
        it('应该包含协议分析项目模板', () => {
            // Act
            const templates = workspaceManager.getProjectTemplates();
            const protocolTemplate = templates.find(t => t.name === 'protocol-analysis');
            // Assert
            expect(protocolTemplate).toBeDefined();
            expect(protocolTemplate?.displayName).toBe('协议分析项目');
            expect(protocolTemplate?.structure).toContain('protocols');
            expect(protocolTemplate?.structure).toContain('decoders');
        });
        it('应该包含团队协作项目模板', () => {
            // Act
            const templates = workspaceManager.getProjectTemplates();
            const collaborationTemplate = templates.find(t => t.name === 'team-collaboration');
            // Assert
            expect(collaborationTemplate).toBeDefined();
            expect(collaborationTemplate?.displayName).toBe('团队协作项目');
            expect(collaborationTemplate?.structure).toContain('shared');
            expect(collaborationTemplate?.structure).toContain('docs');
            expect(collaborationTemplate?.settings.collaborationEnabled).toBe(true);
        });
    });
    describe('项目统计功能', () => {
        beforeEach(async () => {
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该能够获取项目统计信息', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'session1.lacsession',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'data1.lac',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['session1.lacsession', 'data1.lac']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date('2025-07-30T10:00:00Z'),
                mtime: new Date('2025-07-30T12:00:00Z'),
            });
            mockFS.access.mockResolvedValue(undefined);
            // Act
            const stats = await workspaceManager.getProjectStatistics();
            // Assert
            expect(stats).toHaveProperty('fileCount');
            expect(stats).toHaveProperty('totalSize');
            expect(stats).toHaveProperty('sessionCount');
            expect(stats).toHaveProperty('lastActivity');
            expect(stats).toHaveProperty('storageUsage');
            expect(typeof stats.fileCount).toBe('number');
            expect(typeof stats.totalSize).toBe('number');
        });
        it('应该处理空项目的统计', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                return Promise.resolve([]); // 空目录
            });
            mockFS.access.mockResolvedValue(undefined);
            // Act
            const stats = await workspaceManager.getProjectStatistics();
            // Assert
            expect(stats.fileCount).toBe(0);
            expect(stats.totalSize).toBe(0);
            expect(stats.sessionCount).toBe(0);
        });
        it('应该处理统计获取失败的情况', async () => {
            // Arrange - 创建一个新的实例来避免状态污染
            const cleanWorkspaceManager = new WorkspaceManager_1.WorkspaceManager();
            // Act & Assert
            await expect(cleanWorkspaceManager.getProjectStatistics()).rejects.toThrow('没有打开的项目');
            // Cleanup
            cleanWorkspaceManager.dispose();
        });
    });
    describe('文件类型检测功能', () => {
        beforeEach(async () => {
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该正确检测会话文件类型', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'test.lacsession',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['test.lacsession']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined); // 目录存在
            // Act
            const files = await workspaceManager.getProjectFiles(WorkspaceManager_1.FileType.Session);
            // Assert
            expect(files.length).toBeGreaterThan(0);
            expect(files[0].type).toBe(WorkspaceManager_1.FileType.Session);
        });
        it('应该正确检测数据文件类型', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'test.lac',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'test.csv',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'test.json',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['test.lac', 'test.csv', 'test.json']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined); // 目录存在
            // Act
            const files = await workspaceManager.getProjectFiles(WorkspaceManager_1.FileType.Data);
            // Assert
            expect(files.length).toBeGreaterThan(0);
            files.forEach(file => {
                expect(file.type).toBe(WorkspaceManager_1.FileType.Data);
            });
        });
        it('应该正确检测报告文件类型', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'report.html',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'report.pdf',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['report.html', 'report.pdf']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined); // 目录存在
            // Act
            const files = await workspaceManager.getProjectFiles(WorkspaceManager_1.FileType.Report);
            // Assert
            expect(files.length).toBeGreaterThan(0);
            files.forEach(file => {
                expect(file.type).toBe(WorkspaceManager_1.FileType.Report);
            });
        });
        it('应该正确检测脚本文件类型', async () => {
            // Arrange
            mockFS.readdir.mockImplementation((dirPath, options) => {
                if (options && options.withFileTypes) {
                    return Promise.resolve([
                        {
                            name: 'script.js',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'script.ts',
                            isFile: () => true,
                            isDirectory: () => false
                        },
                        {
                            name: 'script.py',
                            isFile: () => true,
                            isDirectory: () => false
                        }
                    ]);
                }
                return Promise.resolve(['script.js', 'script.ts', 'script.py']);
            });
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            mockFS.access.mockResolvedValue(undefined); // 目录存在
            // Act
            const files = await workspaceManager.getProjectFiles(WorkspaceManager_1.FileType.Script);
            // Assert
            expect(files.length).toBeGreaterThan(0);
            files.forEach(file => {
                expect(file.type).toBe(WorkspaceManager_1.FileType.Script);
            });
        });
    });
    describe('高级项目管理功能', () => {
        beforeEach(async () => {
            // 设置当前项目
            const projectConfig = createTestProjectConfig();
            mockFS.readFile.mockResolvedValue(JSON.stringify(projectConfig));
            mockFS.access.mockResolvedValue(undefined);
            await workspaceManager.openProject('/test/projects/test-project');
        });
        it('应该能够添加文件时自动创建目录', async () => {
            // Arrange
            const sourceFile = '/test/external/data.lac';
            const targetPath = 'nested/deep/data.lac';
            mockFS.copyFile.mockResolvedValue(undefined);
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.stat.mockResolvedValue({
                size: 2048,
                birthtime: new Date(),
                mtime: new Date(),
            });
            // Act
            await workspaceManager.addFileToProject(sourceFile, WorkspaceManager_1.FileType.Data, targetPath);
            // Assert
            expect(mockFS.mkdir).toHaveBeenCalledWith(expect.stringContaining('nested/deep'), { recursive: true });
            expect(mockFS.copyFile).toHaveBeenCalled();
        });
        it('应该能够添加文件到默认目录', async () => {
            // Arrange
            const sourceFile = '/test/external/session.lacsession';
            mockFS.copyFile.mockResolvedValue(undefined);
            mockFS.mkdir.mockResolvedValue(undefined);
            mockFS.stat.mockResolvedValue({
                size: 1024,
                birthtime: new Date(),
                mtime: new Date(),
            });
            // Act
            await workspaceManager.addFileToProject(sourceFile, WorkspaceManager_1.FileType.Session);
            // Assert
            expect(mockFS.mkdir).toHaveBeenCalled();
            expect(mockFS.copyFile).toHaveBeenCalledWith(sourceFile, expect.stringContaining('sessions'));
        });
        it('应该处理添加文件时的IO错误', async () => {
            // Arrange
            const sourceFile = '/test/external/data.lac';
            mockFS.copyFile.mockRejectedValue(new Error('IO error'));
            // Act & Assert
            await expect(workspaceManager.addFileToProject(sourceFile, WorkspaceManager_1.FileType.Data)).rejects.toThrow('IO error');
        });
        it('应该处理删除不存在的文件', async () => {
            // Arrange
            const nonExistentFileId = 'non-existent-file-id';
            mockFS.readdir.mockResolvedValue([]);
            // Act & Assert
            await expect(workspaceManager.removeFileFromProject(nonExistentFileId)).rejects.toThrow('文件不存在');
        });
    });
    describe('项目配置兼容性测试', () => {
        it('应该处理旧版本项目配置', async () => {
            // Arrange
            const legacyConfig = {
                name: '旧版本项目',
                version: '0.9.0',
                description: '旧版本项目描述',
                author: 'legacy-user',
                createdAt: '2024-01-01T00:00:00Z',
                updatedAt: '2024-01-01T00:00:00Z',
                structure: {
                    sessionsDir: 'sessions',
                    dataDir: 'data',
                    analysisDir: 'analysis',
                    reportsDir: 'reports',
                    configDir: 'config',
                    tempDir: 'temp',
                },
                settings: {
                    defaultSampleRate: 1000000,
                    defaultChannelCount: 8,
                    autoBackup: true,
                    compressionEnabled: true,
                    collaborationEnabled: false,
                },
                metadata: {
                    totalSessions: 0,
                    totalDataSize: 0,
                    tags: [],
                },
            };
            mockFS.readFile.mockResolvedValue(JSON.stringify(legacyConfig));
            mockFS.access.mockResolvedValue(undefined);
            mockFS.mkdir.mockResolvedValue(undefined);
            // Act
            await workspaceManager.openProject('/test/projects/legacy-project');
            // Assert
            expect(workspaceManager.getCurrentProject()).toBeDefined();
            expect(workspaceManager.getCurrentProject()?.name).toBe('旧版本项目');
        });
        it('应该处理项目配置中的特殊字符', async () => {
            // Arrange
            const configWithSpecialChars = {
                name: '测试项目 (含特殊字符: @#$%)',
                description: '包含中文和特殊字符的描述：测试！',
                author: '张三 <zhangsan@example.com>',
                version: '1.0.0',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                structure: {
                    sessionsDir: 'sessions',
                    dataDir: 'data',
                    analysisDir: 'analysis',
                    reportsDir: 'reports',
                    configDir: 'config',
                    tempDir: 'temp',
                },
                settings: {
                    defaultSampleRate: 1000000,
                    defaultChannelCount: 8,
                    autoBackup: true,
                    compressionEnabled: true,
                    collaborationEnabled: false,
                },
                metadata: {
                    totalSessions: 0,
                    totalDataSize: 0,
                    tags: ['特殊', '测试', 'UTF-8'],
                },
            };
            mockFS.readFile.mockResolvedValue(JSON.stringify(configWithSpecialChars));
            mockFS.access.mockResolvedValue(undefined);
            mockFS.mkdir.mockResolvedValue(undefined);
            // Act
            await workspaceManager.openProject('/test/projects/special-chars-project');
            // Assert
            const project = workspaceManager.getCurrentProject();
            expect(project?.name).toContain('特殊字符');
            expect(project?.description).toContain('中文');
            expect(project?.metadata.tags).toContain('UTF-8');
        });
    });
    describe('内存管理和资源清理', () => {
        it('应该在dispose时清理所有资源', () => {
            // Arrange & Act
            workspaceManager.dispose();
            // Assert - 确保dispose方法可以被调用而不抛出错误
            expect(() => workspaceManager.dispose()).not.toThrow();
        });
        it('应该正确处理事件监听器', async () => {
            // Arrange
            const listener = jest.fn();
            // 检查事件系统是否工作 - 只测试基本的事件注册功能
            expect(typeof workspaceManager.on).toBe('function');
            expect(typeof workspaceManager.emit).toBe('function');
            // 手动触发事件测试监听器
            workspaceManager.on('test', listener);
            workspaceManager.emit('test', 'testData');
            // Assert
            expect(listener).toHaveBeenCalledWith('testData');
        });
        it('应该正确处理多个事件监听器', () => {
            // Arrange
            const listener1 = jest.fn();
            const listener2 = jest.fn();
            // Act
            workspaceManager.on('projectCreated', listener1);
            workspaceManager.on('projectOpened', listener2);
            workspaceManager.emit('projectCreated', { name: 'Test' });
            workspaceManager.emit('projectOpened', { name: 'Test' });
            // Assert
            expect(listener1).toHaveBeenCalledWith({ name: 'Test' });
            expect(listener2).toHaveBeenCalledWith({ name: 'Test' });
        });
        it('应该能够移除事件监听器', () => {
            // Arrange
            const listener = jest.fn();
            // Act
            workspaceManager.on('test', listener);
            workspaceManager.off('test', listener);
            workspaceManager.emit('test', 'testData');
            // Assert
            expect(listener).not.toHaveBeenCalled();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9zZXJ2aWNlcy9Xb3Jrc3BhY2VNYW5hZ2VyLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7QUFhSCxvQkFBb0I7QUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN6QixTQUFTLEVBQUU7UUFDVCxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEVBQUUsQ0FBQztRQUMxRCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDO1lBQzFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbEIsQ0FBQztRQUNGLHVCQUF1QixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUM7WUFDakQsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDbkIsQ0FBQztRQUNGLDJCQUEyQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDdEMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtLQUNwQztJQUNELE1BQU0sRUFBRTtRQUNOLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDM0Isa0JBQWtCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUM3QixzQkFBc0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ2pDLFlBQVksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ3ZCLGFBQWEsRUFBRSxJQUFJ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QUFDLENBQUM7WUFDakQsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUNoRCxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUMxRCxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFFekQsU0FBUztZQUNULE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7WUFDckIsVUFBVTtZQUNWLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUUzQixNQUFNO1lBQ04sZ0JBQWdCLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN0QyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFFMUMsU0FBUztZQUNULE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9zZXJ2aWNlcy9Xb3Jrc3BhY2VNYW5hZ2VyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFdvcmtzcGFjZU1hbmFnZXIg5rWL6K+VXHJcbiAqIOa1i+ivleW3peS9nOWMuumbhuaIkOWSjOmhueebrueuoeeQhuWKn+iDvVxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIHZzY29kZSBmcm9tICd2c2NvZGUnO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcy9wcm9taXNlcyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IFxyXG4gIFdvcmtzcGFjZU1hbmFnZXIsIFxyXG4gIFByb2plY3RDb25maWd1cmF0aW9uLCBcclxuICBQcm9qZWN0Q3JlYXRpb25PcHRpb25zLFxyXG4gIFByb2plY3RGaWxlLFxyXG4gIEZpbGVUeXBlXHJcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzL1dvcmtzcGFjZU1hbmFnZXInO1xyXG5cclxuLy8gTW9jayBkZXBlbmRlbmNpZXNcclxuamVzdC5tb2NrKCd2c2NvZGUnLCAoKSA9PiAoe1xyXG4gIHdvcmtzcGFjZToge1xyXG4gICAgd29ya3NwYWNlRm9sZGVyczogW3sgdXJpOiB7IGZzUGF0aDogJy90ZXN0L3dvcmtzcGFjZScgfSB9XSxcclxuICAgIGdldENvbmZpZ3VyYXRpb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBnZXQ6IGplc3QuZm4oKSxcclxuICAgICAgdXBkYXRlOiBqZXN0LmZuKCksXHJcbiAgICB9KSxcclxuICAgIGNyZWF0ZUZpbGVTeXN0ZW1XYXRjaGVyOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgb25EaWRDcmVhdGU6IGplc3QuZm4oKSxcclxuICAgICAgb25EaWRDaGFuZ2U6IGplc3QuZm4oKSxcclxuICAgICAgb25EaWREZWxldGU6IGplc3QuZm4oKSxcclxuICAgICAgZGlzcG9zZTogamVzdC5mbigpLFxyXG4gICAgfSksXHJcbiAgICBvbkRpZENoYW5nZVdvcmtzcGFjZUZvbGRlcnM6IGplc3QuZm4oKSxcclxuICAgIG9uRGlkQ2hhbmdlQ29uZmlndXJhdGlvbjogamVzdC5mbigpLFxyXG4gIH0sXHJcbiAgd2luZG93OiB7XHJcbiAgICBzaG93RXJyb3JNZXNzYWdlOiBqZXN0LmZuKCksXHJcbiAgICBzaG93V2FybmluZ01lc3NhZ2U6IGplc3QuZm4oKSxcclxuICAgIHNob3dJbmZvcm1hdGlvbk1lc3NhZ2U6IGplc3QuZm4oKSxcclxuICAgIHNob3dJbnB1dEJveDogamVzdC5mbigpLFxyXG4gICAgc2hvd1F1aWNrUGljazogamVzdC5mbigpLFxyXG4gIH0sXHJcbiAgY29tbWFuZHM6IHtcclxuICAgIGV4ZWN1dGVDb21tYW5kOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICB9LFxyXG4gIFVyaToge1xyXG4gICAgZmlsZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigocGF0aCkgPT4gKHsgZnNQYXRoOiBwYXRoIH0pKSxcclxuICB9LFxyXG4gIEZpbGVUeXBlOiB7XHJcbiAgICBGaWxlOiAxLFxyXG4gICAgRGlyZWN0b3J5OiAyLFxyXG4gIH0sXHJcbn0pKTtcclxuXHJcbmplc3QubW9jaygnZnMvcHJvbWlzZXMnLCAoKSA9PiAoe1xyXG4gIHJlYWRGaWxlOiBqZXN0LmZuKCksXHJcbiAgd3JpdGVGaWxlOiBqZXN0LmZuKCksXHJcbiAgYWNjZXNzOiBqZXN0LmZuKCksXHJcbiAgbWtkaXI6IGplc3QuZm4oKSxcclxuICByZWFkZGlyOiBqZXN0LmZuKCksXHJcbiAgc3RhdDogamVzdC5mbigpLFxyXG4gIHJtOiBqZXN0LmZuKCksXHJcbiAgY29weUZpbGU6IGplc3QuZm4oKSxcclxuICB1bmxpbms6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuamVzdC5tb2NrKCdwYXRoJywgKCkgPT4gKHtcclxuICBqb2luOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCguLi5hcmdzKSA9PiBhcmdzLmpvaW4oJy8nKSksXHJcbiAgZGlybmFtZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigocCkgPT4gcC5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5qb2luKCcvJykpLFxyXG4gIGJhc2VuYW1lOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChwKSA9PiBwLnNwbGl0KCcvJykucG9wKCkpLFxyXG4gIHJlc29sdmU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHApID0+IHApLFxyXG4gIGV4dG5hbWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHApID0+IHtcclxuICAgIGNvbnN0IHBhcnRzID0gcC5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyAnLicgKyBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSA6ICcnO1xyXG4gIH0pLFxyXG4gIHJlbGF0aXZlOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChmcm9tLCB0bykgPT4gdG8ucmVwbGFjZShmcm9tLCAnJykucmVwbGFjZSgvXlxcLy8sICcnKSksXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdXb3Jrc3BhY2VNYW5hZ2VyIOa1i+ivlScsICgpID0+IHtcclxuICBsZXQgd29ya3NwYWNlTWFuYWdlcjogV29ya3NwYWNlTWFuYWdlcjtcclxuICBsZXQgbW9ja1ZTQ29kZTogYW55O1xyXG4gIGxldCBtb2NrRlM6IGFueTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb2NrVlNDb2RlID0gcmVxdWlyZSgndnNjb2RlJykgYXMgYW55O1xyXG4gICAgbW9ja0ZTID0gcmVxdWlyZSgnZnMvcHJvbWlzZXMnKSBhcyBhbnk7XHJcbiAgICBcclxuICAgIC8vIOehruS/nW1vY2vov5Tlm57lgLznrKblkIjmnJ/mnJvmoLzlvI9cclxuICAgIG1vY2tGUy5yZWFkZGlyLm1vY2tJbXBsZW1lbnRhdGlvbigocGF0aCwgb3B0aW9ucykgPT4ge1xyXG4gICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndpdGhGaWxlVHlwZXMpIHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB3b3Jrc3BhY2VNYW5hZ2VyID0gbmV3IFdvcmtzcGFjZU1hbmFnZXIoKTtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBhZnRlckVhY2goKCkgPT4ge1xyXG4gICAgd29ya3NwYWNlTWFuYWdlci5kaXNwb3NlKCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIOWIm+W7uua1i+ivleeUqOeahOmhueebrumFjee9rlxyXG4gIGNvbnN0IGNyZWF0ZVRlc3RQcm9qZWN0Q29uZmlnID0gKCk6IFByb2plY3RDb25maWd1cmF0aW9uID0+ICh7XHJcbiAgICBuYW1lOiAn5rWL6K+V6aG555uuJyxcclxuICAgIHZlcnNpb246ICcxLjAuMCcsXHJcbiAgICBkZXNjcmlwdGlvbjogJ+eUqOS6juWNleWFg+a1i+ivleeahOmhueebricsXHJcbiAgICBhdXRob3I6ICd0ZXN0LXVzZXInLFxyXG4gICAgY3JlYXRlZEF0OiAnMjAyNS0wNy0zMFQxMjowMDowMFonLFxyXG4gICAgdXBkYXRlZEF0OiAnMjAyNS0wNy0zMFQxMjowMDowMFonLFxyXG4gICAgc3RydWN0dXJlOiB7XHJcbiAgICAgIHNlc3Npb25zRGlyOiAnc2Vzc2lvbnMnLFxyXG4gICAgICBkYXRhRGlyOiAnZGF0YScsXHJcbiAgICAgIGFuYWx5c2lzRGlyOiAnYW5hbHlzaXMnLFxyXG4gICAgICByZXBvcnRzRGlyOiAncmVwb3J0cycsXHJcbiAgICAgIGNvbmZpZ0RpcjogJ2NvbmZpZycsXHJcbiAgICAgIHRlbXBEaXI6ICd0ZW1wJyxcclxuICAgIH0sXHJcbiAgICBzZXR0aW5nczoge1xyXG4gICAgICBkZWZhdWx0U2FtcGxlUmF0ZTogMjQwMDAwMDAsXHJcbiAgICAgIGRlZmF1bHRDaGFubmVsQ291bnQ6IDgsXHJcbiAgICAgIGF1dG9CYWNrdXA6IHRydWUsXHJcbiAgICAgIGNvbXByZXNzaW9uRW5hYmxlZDogdHJ1ZSxcclxuICAgICAgY29sbGFib3JhdGlvbkVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgIHRvdGFsU2Vzc2lvbnM6IDAsXHJcbiAgICAgIHRvdGFsRGF0YVNpemU6IDAsXHJcbiAgICAgIGxhc3RCYWNrdXA6ICcnLFxyXG4gICAgICB0YWdzOiBbJ3Rlc3QnXSxcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIC8vIOWIm+W7uua1i+ivleeUqOeahOmhueebruWIm+W7uumAiemhuVxyXG4gIGNvbnN0IGNyZWF0ZVRlc3RQcm9qZWN0T3B0aW9ucyA9ICgpOiBQcm9qZWN0Q3JlYXRpb25PcHRpb25zID0+ICh7XHJcbiAgICBuYW1lOiAn5rWL6K+V6aG555uuJyxcclxuICAgIGxvY2F0aW9uOiAnL3Rlc3QvcHJvamVjdHMvdGVzdC1wcm9qZWN0JyxcclxuICAgIHRlbXBsYXRlOiAnYmFzaWMnLFxyXG4gICAgaW5pdGlhbGl6ZUdpdDogZmFsc2UsXHJcbiAgICBjcmVhdGVTYW1wbGVEYXRhOiBmYWxzZSxcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+mhueebruWIm+W7uuWKn+iDvScsICgpID0+IHtcclxuICAgIGl0KCflupTor6Xog73lpJ/liJvlu7rmlrDpobnnm64nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZVRlc3RQcm9qZWN0T3B0aW9ucygpO1xyXG4gICAgICBtb2NrRlMubWtkaXIubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgbW9ja0ZTLndyaXRlRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlUHJvamVjdChvcHRpb25zKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLm1rZGlyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICBvcHRpb25zLmxvY2F0aW9uLFxyXG4gICAgICAgIHsgcmVjdXJzaXZlOiB0cnVlIH1cclxuICAgICAgKTtcclxuICAgICAgZXhwZWN0KG1vY2tGUy53cml0ZUZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdwcm9qZWN0Lmpzb24nKSxcclxuICAgICAgICBleHBlY3QuYW55KFN0cmluZyksXHJcbiAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5Yib5bu66aG555uu55uu5b2V57uT5p6EJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGVUZXN0UHJvamVjdE9wdGlvbnMoKTtcclxuICAgICAgbW9ja0ZTLm1rZGlyLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy53cml0ZUZpbGUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIC8vIEFjdCAgXHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlUHJvamVjdChvcHRpb25zKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLm1rZGlyKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMTQpOyAvLyDlrp7pmYXliJvlu7rnmoTnm67lvZXmlbDph49cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XlpITnkIbpobnnm67liJvlu7rlpLHotKXnmoTmg4XlhrUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZVRlc3RQcm9qZWN0T3B0aW9ucygpO1xyXG4gICAgICBtb2NrRlMubWtkaXIubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCfliJvlu7rlpLHotKUnKSk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlUHJvamVjdChvcHRpb25zKSkucmVqZWN0cy50b1Rocm93KCfliJvlu7rlpLHotKUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn6aG555uu5omT5byA5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgaXQoJ+W6lOivpeiDveWkn+aJk+W8gOeOsOaciemhueebricsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9ICcvdGVzdC9wcm9qZWN0cy9leGlzdGluZy1wcm9qZWN0JztcclxuICAgICAgY29uc3QgcHJvamVjdENvbmZpZyA9IGNyZWF0ZVRlc3RQcm9qZWN0Q29uZmlnKCk7XHJcbiAgICAgIG1vY2tGUy5yZWFkRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShwcm9qZWN0Q29uZmlnKSk7XHJcbiAgICAgIG1vY2tGUy5hY2Nlc3MubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTsgLy8g5paH5Lu25a2Y5ZyoXHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgd29ya3NwYWNlTWFuYWdlci5vcGVuUHJvamVjdChwcm9qZWN0UGF0aCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KG1vY2tGUy5yZWFkRmlsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3Byb2plY3QuanNvbicpLFxyXG4gICAgICAgICd1dGY4J1xyXG4gICAgICApO1xyXG4gICAgICBleHBlY3Qod29ya3NwYWNlTWFuYWdlci5nZXRDdXJyZW50UHJvamVjdCgpKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhumhueebruaWh+S7tuS4jeWtmOWcqOeahOaDheWGtScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9ICcvdGVzdC9wcm9qZWN0cy9ub25leGlzdGVudC1wcm9qZWN0JztcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0VOT0VOVCcpKTtcclxuXHJcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxyXG4gICAgICBhd2FpdCBleHBlY3Qod29ya3NwYWNlTWFuYWdlci5vcGVuUHJvamVjdChwcm9qZWN0UGF0aCkpLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhuaNn+Wdj+eahOmhueebruaWh+S7ticsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBwcm9qZWN0UGF0aCA9ICcvdGVzdC9wcm9qZWN0cy9jb3JydXB0ZWQtcHJvamVjdCc7XHJcbiAgICAgIG1vY2tGUy5yZWFkRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSgn5peg5pWI55qESlNPTicpO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KHdvcmtzcGFjZU1hbmFnZXIub3BlblByb2plY3QocHJvamVjdFBhdGgpKS5yZWplY3RzLnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn6aG555uu566h55CG5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOiuvue9ruW9k+WJjemhueebrlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29uZmlnID0gY3JlYXRlVGVzdFByb2plY3RDb25maWcoKTtcclxuICAgICAgbW9ja0ZTLnJlYWRGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHByb2plY3RDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy90ZXN0LXByb2plY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6Xog73lpJ/mm7TmlrDpobnnm67phY3nva4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgdXBkYXRlcyA9IHsgbmFtZTogJ+abtOaWsOWQjueahOmhueebruWQjeensCcgfTtcclxuICAgICAgbW9ja0ZTLndyaXRlRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIudXBkYXRlUHJvamVjdCh1cGRhdGVzKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLndyaXRlRmlsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3Byb2plY3QuanNvbicpLFxyXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKHVwZGF0ZXMubmFtZSksXHJcbiAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l6IO95aSf6I635Y+W6aG555uu5paH5Lu25YiX6KGoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIG1vY2tGUy5yZWFkZGlyLm1vY2tJbXBsZW1lbnRhdGlvbigoZGlyUGF0aCwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMud2l0aEZpbGVUeXBlcykge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnc2Vzc2lvbjEubGFjc2Vzc2lvbicsXHJcbiAgICAgICAgICAgICAgaXNGaWxlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgIGlzRGlyZWN0b3J5OiAoKSA9PiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ3Nlc3Npb24yLmxhY3Nlc3Npb24nLFxyXG4gICAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoWydzZXNzaW9uMS5sYWNzZXNzaW9uJywgJ3Nlc3Npb24yLmxhY3Nlc3Npb24nXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuc3RhdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc2l6ZTogMTAyNCxcclxuICAgICAgICBiaXJ0aHRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbXRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLmdldFByb2plY3RGaWxlcyhGaWxlVHlwZS5TZXNzaW9uKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShmaWxlcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChtb2NrRlMucmVhZGRpcikudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeiDveWkn+WFs+mXreW9k+WJjemhueebricsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZSAtIOWFiOWIm+W7uuS4gOS4qumhueebrlxyXG4gICAgICBjb25zdCBvcHRpb25zID0gY3JlYXRlVGVzdFByb2plY3RPcHRpb25zKCk7XHJcbiAgICAgIG1vY2tGUy5ta2Rpci5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMud3JpdGVGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlUHJvamVjdChvcHRpb25zKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLmNsb3NlUHJvamVjdCgpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdCh3b3Jrc3BhY2VNYW5hZ2VyLmdldEN1cnJlbnRQcm9qZWN0KCkpLnRvQmVOdWxsKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+aWh+S7tueuoeeQhuWKn+iDvScsICgpID0+IHtcclxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDph43nva7miYDmnIltb2Nr54q25oCBXHJcbiAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICAgICBtb2NrRlMubWtkaXIubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgbW9ja0ZTLndyaXRlRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMuY29weUZpbGUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOiuvue9ruW9k+WJjemhueebrlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29uZmlnID0gY3JlYXRlVGVzdFByb2plY3RDb25maWcoKTtcclxuICAgICAgbW9ja0ZTLnJlYWRGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHByb2plY3RDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy90ZXN0LXByb2plY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6Xog73lpJ/mt7vliqDmlofku7bliLDpobnnm64nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3Qgc291cmNlRmlsZSA9ICcvdGVzdC9leHRlcm5hbC9kYXRhLmxhY3MnO1xyXG4gICAgICBjb25zdCB0YXJnZXRQYXRoID0gJ3Nlc3Npb25zL2ltcG9ydGVkLWRhdGEubGFjcyc7XHJcbiAgICAgIG1vY2tGUy5jb3B5RmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMud3JpdGVGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5zdGF0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBzaXplOiAxMDI0LFxyXG4gICAgICAgIGJpcnRodGltZTogbmV3IERhdGUoKSxcclxuICAgICAgICBtdGltZTogbmV3IERhdGUoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgZmlsZUlkID0gYXdhaXQgd29ya3NwYWNlTWFuYWdlci5hZGRGaWxlVG9Qcm9qZWN0KFxyXG4gICAgICAgIHNvdXJjZUZpbGUsXHJcbiAgICAgICAgRmlsZVR5cGUuU2Vzc2lvbixcclxuICAgICAgICB0YXJnZXRQYXRoXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KGZpbGVJZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KG1vY2tGUy5jb3B5RmlsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgc291cmNlRmlsZSxcclxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyh0YXJnZXRQYXRoKVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeiDveWkn+S7jumhueebruS4reWIoOmZpOaWh+S7ticsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBmaWxlSWQgPSAndGVzdC1maWxlLWlkJztcclxuICAgICAgXHJcbiAgICAgIC8vIOaooeaLn+aWh+S7tuezu+e7n+e7k+aehFxyXG4gICAgICBtb2NrRlMucmVhZGRpci5tb2NrSW1wbGVtZW50YXRpb24oKGRpclBhdGgsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndpdGhGaWxlVHlwZXMpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ3Rlc3QubGFjJyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFsndGVzdC5sYWMnXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgbW9ja0ZTLnN0YXQubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIHNpemU6IDEwMjQsXHJcbiAgICAgICAgYmlydGh0aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIG10aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMucm0ubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIC8vIOaooeaLn+eUn+aIkOeahOaWh+S7tklE5LiO5a6e6ZmF5paH5Lu255qE5Yy56YWNXHJcbiAgICAgIC8vIOazqOaEj++8mueUseS6jmdlbmVyYXRlRmlsZUlk5piv5Z+65LqO5pe26Ze05oiz5ZKM6ZqP5py65pWw55qE77yM5oiR5Lus6ZyA6KaB5L2/55Soc3B55p2l5o6n5Yi25a6DXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9ICh3b3Jrc3BhY2VNYW5hZ2VyIGFzIGFueSkuZ2VuZXJhdGVGaWxlSWQ7XHJcbiAgICAgIGNvbnN0IGdlbmVyYXRlSWRTcHkgPSBqZXN0LnNweU9uKHdvcmtzcGFjZU1hbmFnZXIgYXMgYW55LCAnZ2VuZXJhdGVGaWxlSWQnKTtcclxuICAgICAgZ2VuZXJhdGVJZFNweS5tb2NrUmV0dXJuVmFsdWUoZmlsZUlkKTtcclxuXHJcbiAgICAgIC8vIOWFiOa3u+WKoOS4gOS4quaWh+S7tu+8jOeEtuWQjuWIoOmZpOWug1xyXG4gICAgICBjb25zdCBzb3VyY2VGaWxlID0gJy90ZXN0L3NvdXJjZS5sYWMnO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLmFkZEZpbGVUb1Byb2plY3Qoc291cmNlRmlsZSwgRmlsZVR5cGUuRGF0YSk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgd29ya3NwYWNlTWFuYWdlci5yZW1vdmVGaWxlRnJvbVByb2plY3QoZmlsZUlkKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLnJtKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhbnVwXHJcbiAgICAgIGdlbmVyYXRlSWRTcHkubW9ja1Jlc3RvcmUoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn5aSH5Lu95ZKM5oGi5aSN5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOiuvue9ruW9k+WJjemhueebrlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29uZmlnID0gY3JlYXRlVGVzdFByb2plY3RDb25maWcoKTtcclxuICAgICAgbW9ja0ZTLnJlYWRGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHByb2plY3RDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy90ZXN0LXByb2plY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6Xog73lpJ/liJvlu7rpobnnm67lpIfku70nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgbW9ja0ZTLm1rZGlyLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5jb3B5RmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMud3JpdGVGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgYmFja3VwUGF0aCA9IGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlQmFja3VwKHRydWUpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChiYWNrdXBQYXRoKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QobW9ja0ZTLm1rZGlyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l6IO95aSf5oGi5aSN6aG555uu5aSH5Lu9JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGJhY2t1cFBhdGggPSAnL3Rlc3QvYmFja3Vwcy9wcm9qZWN0LWJhY2t1cC0yMDI1MDczMC56aXAnO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5jb3B5RmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIucmVzdG9yZUJhY2t1cChiYWNrdXBQYXRoKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLmFjY2VzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoYmFja3VwUGF0aCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5aSE55CG5aSH5Lu95paH5Lu25LiN5a2Y5Zyo55qE5oOF5Ya1JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGludmFsaWRCYWNrdXBQYXRoID0gJy90ZXN0L2JhY2t1cHMvbm9uZXhpc3RlbnQtYmFja3VwLnppcCc7XHJcbiAgICAgIG1vY2tGUy5hY2Nlc3MubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdFTk9FTlQnKSk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KHdvcmtzcGFjZU1hbmFnZXIucmVzdG9yZUJhY2t1cChpbnZhbGlkQmFja3VwUGF0aCkpLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfpobnnm67nirbmgIHnrqHnkIYnLCAoKSA9PiB7XHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5oql5ZGK6aG555uu54q25oCBJywgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgaGFzUHJvamVjdCA9IHdvcmtzcGFjZU1hbmFnZXIuaGFzQWN0aXZlUHJvamVjdCgpO1xyXG4gICAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IHdvcmtzcGFjZU1hbmFnZXIuZ2V0Q3VycmVudFByb2plY3QoKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QodHlwZW9mIGhhc1Byb2plY3QpLnRvQmUoJ2Jvb2xlYW4nKTtcclxuICAgICAgZXhwZWN0KGN1cnJlbnRQcm9qZWN0KS50b0JlTnVsbCgpOyAvLyDmsqHmnInmiZPlvIDnmoTpobnnm65cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6Xog73lpJ/ojrflj5bpobnnm67kv6Hmga8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgcHJvamVjdENvbmZpZyA9IGNyZWF0ZVRlc3RQcm9qZWN0Q29uZmlnKCk7XHJcbiAgICAgIG1vY2tGUy5yZWFkRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShwcm9qZWN0Q29uZmlnKSk7XHJcbiAgICAgIG1vY2tGUy5hY2Nlc3MubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgYXdhaXQgd29ya3NwYWNlTWFuYWdlci5vcGVuUHJvamVjdCgnL3Rlc3QvcHJvamVjdHMvdGVzdC1wcm9qZWN0Jyk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgcHJvamVjdEluZm8gPSB3b3Jrc3BhY2VNYW5hZ2VyLmdldFByb2plY3RJbmZvKCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KHByb2plY3RJbmZvKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvamVjdEluZm8/Lm5hbWUpLnRvQmUoJ+a1i+ivlemhueebricpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfplJnor6/lpITnkIblkozovrnnlYzmg4XlhrUnLCAoKSA9PiB7XHJcbiAgICBpdCgn5bqU6K+l5aSE55CG5bel5L2c5Yy65LiN5a2Y5Zyo55qE5oOF5Ya1JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsV29ya3NwYWNlRm9sZGVycyA9IG1vY2tWU0NvZGUud29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnM7XHJcbiAgICAgIG1vY2tWU0NvZGUud29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGVUZXN0UHJvamVjdE9wdGlvbnMoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOiuvue9ruS4gOS4quS8muWksei0peeahOaTjeS9nO+8jOavlOWmguWIm+W7uuebruW9leWksei0pVxyXG4gICAgICBtb2NrRlMubWtkaXIubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCflt6XkvZzljLrkuI3lrZjlnKgnKSk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KHdvcmtzcGFjZU1hbmFnZXIuY3JlYXRlUHJvamVjdChvcHRpb25zKSkucmVqZWN0cy50b1Rocm93KCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhbnVwXHJcbiAgICAgIG1vY2tWU0NvZGUud29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnMgPSBvcmlnaW5hbFdvcmtzcGFjZUZvbGRlcnM7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5aSE55CG5paH5Lu25p2D6ZmQ6ZSZ6K+vJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGVUZXN0UHJvamVjdE9wdGlvbnMoKTtcclxuICAgICAgbW9ja0ZTLm1rZGlyLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRUFDQ0VTOiBwZXJtaXNzaW9uIGRlbmllZCcpKTtcclxuXHJcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxyXG4gICAgICBhd2FpdCBleHBlY3Qod29ya3NwYWNlTWFuYWdlci5jcmVhdGVQcm9qZWN0KG9wdGlvbnMpKS5yZWplY3RzLnRvVGhyb3coJ3Blcm1pc3Npb24gZGVuaWVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5aSE55CG56OB55uY56m66Ze05LiN6LazJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjcmVhdGVUZXN0UHJvamVjdE9wdGlvbnMoKTtcclxuICAgICAgbW9ja0ZTLm1rZGlyLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRU5PU1BDOiBubyBzcGFjZSBsZWZ0IG9uIGRldmljZScpKTtcclxuXHJcbiAgICAgIC8vIEFjdCAmIEFzc2VydFxyXG4gICAgICBhd2FpdCBleHBlY3Qod29ya3NwYWNlTWFuYWdlci5jcmVhdGVQcm9qZWN0KG9wdGlvbnMpKS5yZWplY3RzLnRvVGhyb3coJ25vIHNwYWNlIGxlZnQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn6aG555uu5qih5p2/5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgaXQoJ+W6lOivpeiDveWkn+iOt+WPlumhueebruaooeadv+WIl+ihqCcsICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHdvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdFRlbXBsYXRlcygpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHRlbXBsYXRlcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZXNbMF0pLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XHJcbiAgICAgIGV4cGVjdCh0ZW1wbGF0ZXNbMF0pLnRvSGF2ZVByb3BlcnR5KCdkaXNwbGF5TmFtZScpO1xyXG4gICAgICBleHBlY3QodGVtcGxhdGVzWzBdKS50b0hhdmVQcm9wZXJ0eSgnZGVzY3JpcHRpb24nKTtcclxuICAgICAgZXhwZWN0KHRlbXBsYXRlc1swXSkudG9IYXZlUHJvcGVydHkoJ3N0cnVjdHVyZScpO1xyXG4gICAgICBleHBlY3QodGVtcGxhdGVzWzBdKS50b0hhdmVQcm9wZXJ0eSgnZmlsZXMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XljIXlkKvln7rnoYDpobnnm67mqKHmnb8nLCAoKSA9PiB7XHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCB0ZW1wbGF0ZXMgPSB3b3Jrc3BhY2VNYW5hZ2VyLmdldFByb2plY3RUZW1wbGF0ZXMoKTtcclxuICAgICAgY29uc3QgYmFzaWNUZW1wbGF0ZSA9IHRlbXBsYXRlcy5maW5kKHQgPT4gdC5uYW1lID09PSAnYmFzaWMnKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QoYmFzaWNUZW1wbGF0ZSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGJhc2ljVGVtcGxhdGU/LmRpc3BsYXlOYW1lKS50b0JlKCfln7rnoYDpobnnm64nKTtcclxuICAgICAgZXhwZWN0KGJhc2ljVGVtcGxhdGU/LnN0cnVjdHVyZSkudG9Db250YWluKCdzZXNzaW9ucycpO1xyXG4gICAgICBleHBlY3QoYmFzaWNUZW1wbGF0ZT8uc3RydWN0dXJlKS50b0NvbnRhaW4oJ2RhdGEnKTtcclxuICAgICAgZXhwZWN0KGJhc2ljVGVtcGxhdGU/LmZpbGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWMheWQq+WNj+iuruWIhuaekOmhueebruaooeadvycsICgpID0+IHtcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHdvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdFRlbXBsYXRlcygpO1xyXG4gICAgICBjb25zdCBwcm90b2NvbFRlbXBsYXRlID0gdGVtcGxhdGVzLmZpbmQodCA9PiB0Lm5hbWUgPT09ICdwcm90b2NvbC1hbmFseXNpcycpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChwcm90b2NvbFRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvdG9jb2xUZW1wbGF0ZT8uZGlzcGxheU5hbWUpLnRvQmUoJ+WNj+iuruWIhuaekOmhueebricpO1xyXG4gICAgICBleHBlY3QocHJvdG9jb2xUZW1wbGF0ZT8uc3RydWN0dXJlKS50b0NvbnRhaW4oJ3Byb3RvY29scycpO1xyXG4gICAgICBleHBlY3QocHJvdG9jb2xUZW1wbGF0ZT8uc3RydWN0dXJlKS50b0NvbnRhaW4oJ2RlY29kZXJzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5YyF5ZCr5Zui6Zif5Y2P5L2c6aG555uu5qih5p2/JywgKCkgPT4ge1xyXG4gICAgICAvLyBBY3RcclxuICAgICAgY29uc3QgdGVtcGxhdGVzID0gd29ya3NwYWNlTWFuYWdlci5nZXRQcm9qZWN0VGVtcGxhdGVzKCk7XHJcbiAgICAgIGNvbnN0IGNvbGxhYm9yYXRpb25UZW1wbGF0ZSA9IHRlbXBsYXRlcy5maW5kKHQgPT4gdC5uYW1lID09PSAndGVhbS1jb2xsYWJvcmF0aW9uJyk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KGNvbGxhYm9yYXRpb25UZW1wbGF0ZSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGNvbGxhYm9yYXRpb25UZW1wbGF0ZT8uZGlzcGxheU5hbWUpLnRvQmUoJ+WboumYn+WNj+S9nOmhueebricpO1xyXG4gICAgICBleHBlY3QoY29sbGFib3JhdGlvblRlbXBsYXRlPy5zdHJ1Y3R1cmUpLnRvQ29udGFpbignc2hhcmVkJyk7XHJcbiAgICAgIGV4cGVjdChjb2xsYWJvcmF0aW9uVGVtcGxhdGU/LnN0cnVjdHVyZSkudG9Db250YWluKCdkb2NzJyk7XHJcbiAgICAgIGV4cGVjdChjb2xsYWJvcmF0aW9uVGVtcGxhdGU/LnNldHRpbmdzLmNvbGxhYm9yYXRpb25FbmFibGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfpobnnm67nu5/orqHlip/og70nLCAoKSA9PiB7XHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g6K6+572u5b2T5YmN6aG555uuXHJcbiAgICAgIGNvbnN0IHByb2plY3RDb25maWcgPSBjcmVhdGVUZXN0UHJvamVjdENvbmZpZygpO1xyXG4gICAgICBtb2NrRlMucmVhZEZpbGUubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkocHJvamVjdENvbmZpZykpO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIub3BlblByb2plY3QoJy90ZXN0L3Byb2plY3RzL3Rlc3QtcHJvamVjdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeiDveWkn+iOt+WPlumhueebrue7n+iuoeS/oeaBrycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBtb2NrRlMucmVhZGRpci5tb2NrSW1wbGVtZW50YXRpb24oKGRpclBhdGgsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndpdGhGaWxlVHlwZXMpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ3Nlc3Npb24xLmxhY3Nlc3Npb24nLFxyXG4gICAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdkYXRhMS5sYWMnLFxyXG4gICAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoWydzZXNzaW9uMS5sYWNzZXNzaW9uJywgJ2RhdGExLmxhYyddKTtcclxuICAgICAgfSk7XHJcbiAgICAgIG1vY2tGUy5zdGF0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBzaXplOiAxMDI0LFxyXG4gICAgICAgIGJpcnRodGltZTogbmV3IERhdGUoJzIwMjUtMDctMzBUMTA6MDA6MDBaJyksXHJcbiAgICAgICAgbXRpbWU6IG5ldyBEYXRlKCcyMDI1LTA3LTMwVDEyOjAwOjAwWicpLFxyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgd29ya3NwYWNlTWFuYWdlci5nZXRQcm9qZWN0U3RhdGlzdGljcygpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ2ZpbGVDb3VudCcpO1xyXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbFNpemUnKTtcclxuICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnc2Vzc2lvbkNvdW50Jyk7XHJcbiAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ2xhc3RBY3Rpdml0eScpO1xyXG4gICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdzdG9yYWdlVXNhZ2UnKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiBzdGF0cy5maWxlQ291bnQpLnRvQmUoJ251bWJlcicpO1xyXG4gICAgICBleHBlY3QodHlwZW9mIHN0YXRzLnRvdGFsU2l6ZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5aSE55CG56m66aG555uu55qE57uf6K6hJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIG1vY2tGUy5yZWFkZGlyLm1vY2tJbXBsZW1lbnRhdGlvbigoZGlyUGF0aCwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pOyAvLyDnqbrnm67lvZVcclxuICAgICAgfSk7XHJcbiAgICAgIG1vY2tGUy5hY2Nlc3MubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdFN0YXRpc3RpY3MoKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3Qoc3RhdHMuZmlsZUNvdW50KS50b0JlKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMudG90YWxTaXplKS50b0JlKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuc2Vzc2lvbkNvdW50KS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhue7n+iuoeiOt+WPluWksei0peeahOaDheWGtScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZSAtIOWIm+W7uuS4gOS4quaWsOeahOWunuS+i+adpemBv+WFjeeKtuaAgeaxoeafk1xyXG4gICAgICBjb25zdCBjbGVhbldvcmtzcGFjZU1hbmFnZXIgPSBuZXcgV29ya3NwYWNlTWFuYWdlcigpO1xyXG4gICAgICBcclxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XHJcbiAgICAgIGF3YWl0IGV4cGVjdChjbGVhbldvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdFN0YXRpc3RpY3MoKSkucmVqZWN0cy50b1Rocm93KCfmsqHmnInmiZPlvIDnmoTpobnnm64nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFudXBcclxuICAgICAgY2xlYW5Xb3Jrc3BhY2VNYW5hZ2VyLmRpc3Bvc2UoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn5paH5Lu257G75Z6L5qOA5rWL5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOiuvue9ruW9k+WJjemhueebrlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29uZmlnID0gY3JlYXRlVGVzdFByb2plY3RDb25maWcoKTtcclxuICAgICAgbW9ja0ZTLnJlYWRGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHByb2plY3RDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy90ZXN0LXByb2plY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XmraPnoa7mo4DmtYvkvJror53mlofku7bnsbvlnosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgbW9ja0ZTLnJlYWRkaXIubW9ja0ltcGxlbWVudGF0aW9uKChkaXJQYXRoLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoRmlsZVR5cGVzKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICd0ZXN0LmxhY3Nlc3Npb24nLFxyXG4gICAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoWyd0ZXN0LmxhY3Nlc3Npb24nXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuc3RhdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc2l6ZTogMTAyNCxcclxuICAgICAgICBiaXJ0aHRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbXRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7IC8vIOebruW9leWtmOWcqFxyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgd29ya3NwYWNlTWFuYWdlci5nZXRQcm9qZWN0RmlsZXMoRmlsZVR5cGUuU2Vzc2lvbik7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KGZpbGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoZmlsZXNbMF0udHlwZSkudG9CZShGaWxlVHlwZS5TZXNzaW9uKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XmraPnoa7mo4DmtYvmlbDmja7mlofku7bnsbvlnosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgbW9ja0ZTLnJlYWRkaXIubW9ja0ltcGxlbWVudGF0aW9uKChkaXJQYXRoLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoRmlsZVR5cGVzKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICd0ZXN0LmxhYycsXHJcbiAgICAgICAgICAgICAgaXNGaWxlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgIGlzRGlyZWN0b3J5OiAoKSA9PiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ3Rlc3QuY3N2JyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAndGVzdC5qc29uJyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFsndGVzdC5sYWMnLCAndGVzdC5jc3YnLCAndGVzdC5qc29uJ10pO1xyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLnN0YXQubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIHNpemU6IDEwMjQsXHJcbiAgICAgICAgYmlydGh0aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIG10aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpOyAvLyDnm67lvZXlrZjlnKhcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdEZpbGVzKEZpbGVUeXBlLkRhdGEpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdChmaWxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcclxuICAgICAgICBleHBlY3QoZmlsZS50eXBlKS50b0JlKEZpbGVUeXBlLkRhdGEpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XmraPnoa7mo4DmtYvmiqXlkYrmlofku7bnsbvlnosnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgbW9ja0ZTLnJlYWRkaXIubW9ja0ltcGxlbWVudGF0aW9uKChkaXJQYXRoLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoRmlsZVR5cGVzKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG5hbWU6ICdyZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgaXNGaWxlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgIGlzRGlyZWN0b3J5OiAoKSA9PiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ3JlcG9ydC5wZGYnLFxyXG4gICAgICAgICAgICAgIGlzRmlsZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICBpc0RpcmVjdG9yeTogKCkgPT4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoWydyZXBvcnQuaHRtbCcsICdyZXBvcnQucGRmJ10pO1xyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLnN0YXQubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIHNpemU6IDEwMjQsXHJcbiAgICAgICAgYmlydGh0aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIG10aW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9KTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpOyAvLyDnm67lvZXlrZjlnKhcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuZ2V0UHJvamVjdEZpbGVzKEZpbGVUeXBlLlJlcG9ydCk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KGZpbGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xyXG4gICAgICAgIGV4cGVjdChmaWxlLnR5cGUpLnRvQmUoRmlsZVR5cGUuUmVwb3J0KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5qOA5rWL6ISa5pys5paH5Lu257G75Z6LJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIG1vY2tGUy5yZWFkZGlyLm1vY2tJbXBsZW1lbnRhdGlvbigoZGlyUGF0aCwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMud2l0aEZpbGVUeXBlcykge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnc2NyaXB0LmpzJyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnc2NyaXB0LnRzJyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBuYW1lOiAnc2NyaXB0LnB5JyxcclxuICAgICAgICAgICAgICBpc0ZpbGU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgaXNEaXJlY3Rvcnk6ICgpID0+IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFsnc2NyaXB0LmpzJywgJ3NjcmlwdC50cycsICdzY3JpcHQucHknXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuc3RhdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc2l6ZTogMTAyNCxcclxuICAgICAgICBiaXJ0aHRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbXRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7IC8vIOebruW9leWtmOWcqFxyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgd29ya3NwYWNlTWFuYWdlci5nZXRQcm9qZWN0RmlsZXMoRmlsZVR5cGUuU2NyaXB0KTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QoZmlsZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KGZpbGUudHlwZSkudG9CZShGaWxlVHlwZS5TY3JpcHQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn6auY57qn6aG555uu566h55CG5Yqf6IO9JywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOiuvue9ruW9k+WJjemhueebrlxyXG4gICAgICBjb25zdCBwcm9qZWN0Q29uZmlnID0gY3JlYXRlVGVzdFByb2plY3RDb25maWcoKTtcclxuICAgICAgbW9ja0ZTLnJlYWRGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKEpTT04uc3RyaW5naWZ5KHByb2plY3RDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy90ZXN0LXByb2plY3QnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6Xog73lpJ/mt7vliqDmlofku7bml7boh6rliqjliJvlu7rnm67lvZUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3Qgc291cmNlRmlsZSA9ICcvdGVzdC9leHRlcm5hbC9kYXRhLmxhYyc7XHJcbiAgICAgIGNvbnN0IHRhcmdldFBhdGggPSAnbmVzdGVkL2RlZXAvZGF0YS5sYWMnO1xyXG4gICAgICBtb2NrRlMuY29weUZpbGUubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgbW9ja0ZTLm1rZGlyLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5zdGF0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBzaXplOiAyMDQ4LFxyXG4gICAgICAgIGJpcnRodGltZTogbmV3IERhdGUoKSxcclxuICAgICAgICBtdGltZTogbmV3IERhdGUoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBBY3RcclxuICAgICAgYXdhaXQgd29ya3NwYWNlTWFuYWdlci5hZGRGaWxlVG9Qcm9qZWN0KFxyXG4gICAgICAgIHNvdXJjZUZpbGUsXHJcbiAgICAgICAgRmlsZVR5cGUuRGF0YSxcclxuICAgICAgICB0YXJnZXRQYXRoXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KG1vY2tGUy5ta2RpcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ25lc3RlZC9kZWVwJyksXHJcbiAgICAgICAgeyByZWN1cnNpdmU6IHRydWUgfVxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3QobW9ja0ZTLmNvcHlGaWxlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l6IO95aSf5re75Yqg5paH5Lu25Yiw6buY6K6k55uu5b2VJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IHNvdXJjZUZpbGUgPSAnL3Rlc3QvZXh0ZXJuYWwvc2Vzc2lvbi5sYWNzZXNzaW9uJztcclxuICAgICAgbW9ja0ZTLmNvcHlGaWxlLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5ta2Rpci5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMuc3RhdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc2l6ZTogMTAyNCxcclxuICAgICAgICBiaXJ0aHRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbXRpbWU6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIuYWRkRmlsZVRvUHJvamVjdChcclxuICAgICAgICBzb3VyY2VGaWxlLFxyXG4gICAgICAgIEZpbGVUeXBlLlNlc3Npb25cclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobW9ja0ZTLm1rZGlyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICAgIGV4cGVjdChtb2NrRlMuY29weUZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIHNvdXJjZUZpbGUsXHJcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3Nlc3Npb25zJylcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XlpITnkIbmt7vliqDmlofku7bml7bnmoRJT+mUmeivrycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBzb3VyY2VGaWxlID0gJy90ZXN0L2V4dGVybmFsL2RhdGEubGFjJztcclxuICAgICAgbW9ja0ZTLmNvcHlGaWxlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignSU8gZXJyb3InKSk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIHdvcmtzcGFjZU1hbmFnZXIuYWRkRmlsZVRvUHJvamVjdChzb3VyY2VGaWxlLCBGaWxlVHlwZS5EYXRhKVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnSU8gZXJyb3InKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XlpITnkIbliKDpmaTkuI3lrZjlnKjnmoTmlofku7YnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3Qgbm9uRXhpc3RlbnRGaWxlSWQgPSAnbm9uLWV4aXN0ZW50LWZpbGUtaWQnO1xyXG4gICAgICBtb2NrRlMucmVhZGRpci5tb2NrUmVzb2x2ZWRWYWx1ZShbXSk7XHJcblxyXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIHdvcmtzcGFjZU1hbmFnZXIucmVtb3ZlRmlsZUZyb21Qcm9qZWN0KG5vbkV4aXN0ZW50RmlsZUlkKVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygn5paH5Lu25LiN5a2Y5ZyoJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+mhueebrumFjee9ruWFvOWuueaAp+a1i+ivlScsICgpID0+IHtcclxuICAgIGl0KCflupTor6XlpITnkIbml6fniYjmnKzpobnnm67phY3nva4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgbGVnYWN5Q29uZmlnID0ge1xyXG4gICAgICAgIG5hbWU6ICfml6fniYjmnKzpobnnm64nLFxyXG4gICAgICAgIHZlcnNpb246ICcwLjkuMCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICfml6fniYjmnKzpobnnm67mj4/ov7AnLFxyXG4gICAgICAgIGF1dGhvcjogJ2xlZ2FjeS11c2VyJyxcclxuICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXHJcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxyXG4gICAgICAgIHN0cnVjdHVyZToge1xyXG4gICAgICAgICAgc2Vzc2lvbnNEaXI6ICdzZXNzaW9ucycsXHJcbiAgICAgICAgICBkYXRhRGlyOiAnZGF0YScsXHJcbiAgICAgICAgICBhbmFseXNpc0RpcjogJ2FuYWx5c2lzJyxcclxuICAgICAgICAgIHJlcG9ydHNEaXI6ICdyZXBvcnRzJyxcclxuICAgICAgICAgIGNvbmZpZ0RpcjogJ2NvbmZpZycsXHJcbiAgICAgICAgICB0ZW1wRGlyOiAndGVtcCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgZGVmYXVsdFNhbXBsZVJhdGU6IDEwMDAwMDAsXHJcbiAgICAgICAgICBkZWZhdWx0Q2hhbm5lbENvdW50OiA4LFxyXG4gICAgICAgICAgYXV0b0JhY2t1cDogdHJ1ZSxcclxuICAgICAgICAgIGNvbXByZXNzaW9uRW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgIGNvbGxhYm9yYXRpb25FbmFibGVkOiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICB0b3RhbFNlc3Npb25zOiAwLFxyXG4gICAgICAgICAgdG90YWxEYXRhU2l6ZTogMCxcclxuICAgICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIG1vY2tGUy5yZWFkRmlsZS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeShsZWdhY3lDb25maWcpKTtcclxuICAgICAgbW9ja0ZTLmFjY2Vzcy5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBtb2NrRlMubWtkaXIubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIC8vIEFjdFxyXG4gICAgICBhd2FpdCB3b3Jrc3BhY2VNYW5hZ2VyLm9wZW5Qcm9qZWN0KCcvdGVzdC9wcm9qZWN0cy9sZWdhY3ktcHJvamVjdCcpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGV4cGVjdCh3b3Jrc3BhY2VNYW5hZ2VyLmdldEN1cnJlbnRQcm9qZWN0KCkpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh3b3Jrc3BhY2VNYW5hZ2VyLmdldEN1cnJlbnRQcm9qZWN0KCk/Lm5hbWUpLnRvQmUoJ+aXp+eJiOacrOmhueebricpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhumhueebrumFjee9ruS4reeahOeJueauiuWtl+espicsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gQXJyYW5nZVxyXG4gICAgICBjb25zdCBjb25maWdXaXRoU3BlY2lhbENoYXJzID0ge1xyXG4gICAgICAgIG5hbWU6ICfmtYvor5Xpobnnm64gKOWQq+eJueauiuWtl+espjogQCMkJSknLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn5YyF5ZCr5Lit5paH5ZKM54m55q6K5a2X56ym55qE5o+P6L+w77ya5rWL6K+V77yBJyxcclxuICAgICAgICBhdXRob3I6ICflvKDkuIkgPHpoYW5nc2FuQGV4YW1wbGUuY29tPicsXHJcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcclxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBzdHJ1Y3R1cmU6IHtcclxuICAgICAgICAgIHNlc3Npb25zRGlyOiAnc2Vzc2lvbnMnLFxyXG4gICAgICAgICAgZGF0YURpcjogJ2RhdGEnLFxyXG4gICAgICAgICAgYW5hbHlzaXNEaXI6ICdhbmFseXNpcycsXHJcbiAgICAgICAgICByZXBvcnRzRGlyOiAncmVwb3J0cycsXHJcbiAgICAgICAgICBjb25maWdEaXI6ICdjb25maWcnLFxyXG4gICAgICAgICAgdGVtcERpcjogJ3RlbXAnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGRlZmF1bHRTYW1wbGVSYXRlOiAxMDAwMDAwLFxyXG4gICAgICAgICAgZGVmYXVsdENoYW5uZWxDb3VudDogOCxcclxuICAgICAgICAgIGF1dG9CYWNrdXA6IHRydWUsXHJcbiAgICAgICAgICBjb21wcmVzc2lvbkVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBjb2xsYWJvcmF0aW9uRW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgdG90YWxTZXNzaW9uczogMCxcclxuICAgICAgICAgIHRvdGFsRGF0YVNpemU6IDAsXHJcbiAgICAgICAgICB0YWdzOiBbJ+eJueauiicsICfmtYvor5UnLCAnVVRGLTgnXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICBtb2NrRlMucmVhZEZpbGUubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkoY29uZmlnV2l0aFNwZWNpYWxDaGFycykpO1xyXG4gICAgICBtb2NrRlMuYWNjZXNzLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIG1vY2tGUy5ta2Rpci5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgLy8gQWN0XHJcbiAgICAgIGF3YWl0IHdvcmtzcGFjZU1hbmFnZXIub3BlblByb2plY3QoJy90ZXN0L3Byb2plY3RzL3NwZWNpYWwtY2hhcnMtcHJvamVjdCcpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0XHJcbiAgICAgIGNvbnN0IHByb2plY3QgPSB3b3Jrc3BhY2VNYW5hZ2VyLmdldEN1cnJlbnRQcm9qZWN0KCk7XHJcbiAgICAgIGV4cGVjdChwcm9qZWN0Py5uYW1lKS50b0NvbnRhaW4oJ+eJueauiuWtl+espicpO1xyXG4gICAgICBleHBlY3QocHJvamVjdD8uZGVzY3JpcHRpb24pLnRvQ29udGFpbign5Lit5paHJyk7XHJcbiAgICAgIGV4cGVjdChwcm9qZWN0Py5tZXRhZGF0YS50YWdzKS50b0NvbnRhaW4oJ1VURi04Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ+WGheWtmOeuoeeQhuWSjOi1hOa6kOa4heeQhicsICgpID0+IHtcclxuICAgIGl0KCflupTor6XlnKhkaXNwb3Nl5pe25riF55CG5omA5pyJ6LWE5rqQJywgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlICYgQWN0XHJcbiAgICAgIHdvcmtzcGFjZU1hbmFnZXIuZGlzcG9zZSgpO1xyXG5cclxuICAgICAgLy8gQXNzZXJ0IC0g56Gu5L+dZGlzcG9zZeaWueazleWPr+S7peiiq+iwg+eUqOiAjOS4jeaKm+WHuumUmeivr1xyXG4gICAgICBleHBlY3QoKCkgPT4gd29ya3NwYWNlTWFuYWdlci5kaXNwb3NlKCkpLm5vdC50b1Rocm93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5aSE55CG5LqL5Lu255uR5ZCs5ZmoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gamVzdC5mbigpO1xyXG4gICAgICBcclxuICAgICAgLy8g5qOA5p+l5LqL5Lu257O757uf5piv5ZCm5bel5L2cIC0g5Y+q5rWL6K+V5Z+65pys55qE5LqL5Lu25rOo5YaM5Yqf6IO9XHJcbiAgICAgIGV4cGVjdCh0eXBlb2Ygd29ya3NwYWNlTWFuYWdlci5vbikudG9CZSgnZnVuY3Rpb24nKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiB3b3Jrc3BhY2VNYW5hZ2VyLmVtaXQpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDmiYvliqjop6blj5Hkuovku7bmtYvor5Xnm5HlkKzlmahcclxuICAgICAgd29ya3NwYWNlTWFuYWdlci5vbigndGVzdCcsIGxpc3RlbmVyKTtcclxuICAgICAgd29ya3NwYWNlTWFuYWdlci5lbWl0KCd0ZXN0JywgJ3Rlc3REYXRhJyk7XHJcblxyXG4gICAgICAvLyBBc3NlcnRcclxuICAgICAgZXhwZWN0KGxpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdERhdGEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCflupTor6XmraPnoa7lpITnkIblpJrkuKrkuovku7bnm5HlkKzlmagnLCAoKSA9PiB7XHJcbiAgICAgIC8vIEFycmFuZ2VcclxuICAgICAgY29uc3QgbGlzdGVuZXIxID0gamVzdC5mbigpO1xyXG4gICAgICBjb25zdCBsaXN0ZW5lcjIgPSBqZXN0LmZuKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBY3RcclxuICAgICAgd29ya3NwYWNlTWFuYWdlci5vbigncHJvamVjdENyZWF0ZWQnLCBsaXN0ZW5lcjEpO1xyXG4gICAgICB3b3Jrc3BhY2VNYW5hZ2VyLm9uKCdwcm9qZWN0T3BlbmVkJywgbGlzdGVuZXIyKTtcclxuICAgICAgd29ya3NwYWNlTWFuYWdlci5lbWl0KCdwcm9qZWN0Q3JlYXRlZCcsIHsgbmFtZTogJ1Rlc3QnIH0pO1xyXG4gICAgICB3b3Jrc3BhY2VNYW5hZ2VyLmVtaXQoJ3Byb2plY3RPcGVuZWQnLCB7IG5hbWU6ICdUZXN0JyB9KTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobGlzdGVuZXIxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IG5hbWU6ICdUZXN0JyB9KTtcclxuICAgICAgZXhwZWN0KGxpc3RlbmVyMikudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBuYW1lOiAnVGVzdCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l6IO95aSf56e76Zmk5LqL5Lu255uR5ZCs5ZmoJywgKCkgPT4ge1xyXG4gICAgICAvLyBBcnJhbmdlXHJcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gamVzdC5mbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gQWN0XHJcbiAgICAgIHdvcmtzcGFjZU1hbmFnZXIub24oJ3Rlc3QnLCBsaXN0ZW5lcik7XHJcbiAgICAgIHdvcmtzcGFjZU1hbmFnZXIub2ZmKCd0ZXN0JywgbGlzdGVuZXIpO1xyXG4gICAgICB3b3Jrc3BhY2VNYW5hZ2VyLmVtaXQoJ3Rlc3QnLCAndGVzdERhdGEnKTtcclxuXHJcbiAgICAgIC8vIEFzc2VydFxyXG4gICAgICBleHBlY3QobGlzdGVuZXIpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7Il0sInZlcnNpb24iOjN9