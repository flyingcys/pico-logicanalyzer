1251e2ef39c28e3d68229f677979645c
"use strict";
/**
 * DataStreamProcessor 模块单元测试套件
 * 全面测试实时数据流处理和缓冲系统的功能
 */
Object.defineProperty(exports, "__esModule", { value: true });
const DataStreamProcessor_1 = require("../../../src/models/DataStreamProcessor");
const CaptureModels_1 = require("../../../src/models/CaptureModels");
const AnalyzerTypes_1 = require("../../../src/models/AnalyzerTypes");
describe('DataStreamProcessor 模块测试套件', () => {
    describe('DataStreamState 枚举测试', () => {
        it('应该定义所有数据流状态', () => {
            expect(DataStreamProcessor_1.DataStreamState.Idle).toBe('Idle');
            expect(DataStreamProcessor_1.DataStreamState.WaitingForHeader).toBe('WaitingForHeader');
            expect(DataStreamProcessor_1.DataStreamState.ReadingSamples).toBe('ReadingSamples');
            expect(DataStreamProcessor_1.DataStreamState.ReadingTimestamps).toBe('ReadingTimestamps');
            expect(DataStreamProcessor_1.DataStreamState.ProcessingData).toBe('ProcessingData');
            expect(DataStreamProcessor_1.DataStreamState.Completed).toBe('Completed');
            expect(DataStreamProcessor_1.DataStreamState.Error).toBe('Error');
        });
        it('枚举值应该是字符串类型', () => {
            Object.values(DataStreamProcessor_1.DataStreamState).forEach(state => {
                expect(typeof state).toBe('string');
            });
        });
    });
    describe('DataStreamProcessor 基础功能测试', () => {
        let processor;
        let mockEvents;
        beforeEach(() => {
            mockEvents = {
                onProgress: jest.fn(),
                onDataReceived: jest.fn(),
                onCompleted: jest.fn(),
                onError: jest.fn()
            };
            processor = new DataStreamProcessor_1.DataStreamProcessor({
                bufferSize: 1024,
                readTimeout: 5000,
                chunkSize: 256,
                enableProgress: true,
                progressInterval: 50
            }, mockEvents);
        });
        it('应该正确初始化默认配置', () => {
            const defaultProcessor = new DataStreamProcessor_1.DataStreamProcessor();
            const config = defaultProcessor.config;
            expect(config.bufferSize).toBe(1024 * 1024);
            expect(config.readTimeout).toBe(30000);
            expect(config.chunkSize).toBe(64 * 1024);
            expect(config.enableProgress).toBe(true);
            expect(config.progressInterval).toBe(100);
        });
        it('应该接受自定义配置', () => {
            const config = processor.config;
            expect(config.bufferSize).toBe(1024);
            expect(config.readTimeout).toBe(5000);
            expect(config.chunkSize).toBe(256);
            expect(config.enableProgress).toBe(true);
            expect(config.progressInterval).toBe(50);
        });
        it('应该正确初始化状态', () => {
            expect(processor.getState()).toBe(DataStreamProcessor_1.DataStreamState.Idle);
        });
        it('应该正确更新配置', () => {
            processor.updateConfig({
                bufferSize: 2048,
                enableProgress: false
            });
            const config = processor.config;
            expect(config.bufferSize).toBe(2048);
            expect(config.enableProgress).toBe(false);
            expect(config.readTimeout).toBe(5000); // 保持不变
        });
        it('应该正确更新事件处理器', () => {
            const newEvents = {
                onProgress: jest.fn(),
                onError: jest.fn()
            };
            processor.updateEvents(newEvents);
            const events = processor.events;
            expect(events.onProgress).toBe(newEvents.onProgress);
            expect(events.onError).toBe(newEvents.onError);
            expect(events.onCompleted).toBe(mockEvents.onCompleted); // 保持原有的
        });
        it('应该正确重置状态', () => {
            // 先设置一些状态
            processor.state = DataStreamProcessor_1.DataStreamState.ReadingSamples;
            processor.buffer = new Uint8Array(100);
            processor.bufferPosition = 50;
            processor.startTime = Date.now();
            processor.reset();
            expect(processor.getState()).toBe(DataStreamProcessor_1.DataStreamState.Idle);
            expect(processor.buffer.length).toBe(0);
            expect(processor.bufferPosition).toBe(0);
            expect(processor.startTime).toBe(0);
        });
    });
    describe('缓冲区长度计算测试', () => {
        let processor;
        beforeEach(() => {
            processor = new DataStreamProcessor_1.DataStreamProcessor();
        });
        it('应该正确计算8通道模式的缓冲区长度', () => {
            const session = new CaptureModels_1.CaptureSession();
            session.loopCount = 0;
            session.measureBursts = false;
            const bufferLength = processor.calculateBufferLength(1000, AnalyzerTypes_1.CaptureMode.Channels_8, session);
            // 1000样本 * 1字节 + 4字节长度 + 1字节时间戳长度 = 1005字节
            expect(bufferLength).toBe(1005);
        });
        it('应该正确计算16通道模式的缓冲区长度', () => {
            const session = new CaptureModels_1.CaptureSession();
            session.loopCount = 0;
            session.measureBursts = false;
            const bufferLength = processor.calculateBufferLength(1000, AnalyzerTypes_1.CaptureMode.Channels_16, session);
            // 1000样本 * 2字节 + 4字节长度 + 1字节时间戳长度 = 2005字节
            expect(bufferLength).toBe(2005);
        });
        it('应该正确计算24通道模式的缓冲区长度', () => {
            const session = new CaptureModels_1.CaptureSession();
            session.loopCount = 0;
            session.measureBursts = false;
            const bufferLength = processor.calculateBufferLength(1000, AnalyzerTypes_1.CaptureMode.Channels_24, session);
            // 1000样本 * 4字节 + 4字节长度 + 1字节时间戳长度 = 4005字节
            expect(bufferLength).toBe(4005);
        });
        it('应该正确计算带突发模式的缓冲区长度', () => {
            const session = new CaptureModels_1.CaptureSession();
            session.loopCount = 3;
            session.measureBursts = true;
            const bufferLength = processor.calculateBufferLength(1000, AnalyzerTypes_1.CaptureMode.Channels_8, session);
            // 1000样本 * 1字节 + 4字节长度 + 1字节时间戳长度 + (3+2)*4字节时间戳数据 = 1025字节
            expect(bufferLength).toBe(1025);
        });
    });
    describe('数据流读取测试', () => {
        let processor;
        let mockEvents;
        beforeEach(() => {
            mockEvents = {
                onProgress: jest.fn(),
                onDataReceived: jest.fn(),
                onCompleted: jest.fn(),
                onError: jest.fn()
            };
            processor = new DataStreamProcessor_1.DataStreamProcessor({
                enableProgress: true,
                progressInterval: 10
            }, mockEvents);
        });
        it('应该正确从ReadableStream读取数据', async () => {
            const testData = new Uint8Array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
            const stream = new ReadableStream({
                start(controller) {
                    controller.enqueue(testData);
                    controller.close();
                }
            });
            await processor.readDataStream(stream, testData.length);
            const buffer = processor.buffer;
            expect(buffer.subarray(0, testData.length)).toEqual(testData);
        });
        it('应该正确处理ReadableStream的完全读取完成情况', async () => {
            const testData = new Uint8Array([1, 2, 3, 4, 5]);
            const stream = new ReadableStream({
                start(controller) {
                    // 分两次发送数据，然后正常结束
                    controller.enqueue(testData.subarray(0, 3));
                    controller.enqueue(testData.subarray(3, 5));
                    controller.close();
                }
            });
            await processor.readDataStream(stream, testData.length);
            const buffer = processor.buffer;
            expect(buffer.subarray(0, testData.length)).toEqual(testData);
        });
        it('应该正确处理ReadableStream恰好读取完所需数据后结束', async () => {
            const testData = new Uint8Array([1, 2, 3, 4, 5]);
            const stream = new ReadableStream({
                start(controller) {
                    // 恰好发送所需的数据量，然后结束
                    controller.enqueue(testData);
                    controller.close();
                }
            });
            await processor.readDataStream(stream, testData.length);
            const buffer = processor.buffer;
            expect(buffer.subarray(0, testData.length)).toEqual(testData);
        });
        it('应该正确从AsyncIterable读取数据', async () => {
            const chunk1 = new Uint8Array([1, 2, 3, 4, 5]);
            const chunk2 = new Uint8Array([6, 7, 8, 9, 10]);
            const asyncIterable = {
                async *[Symbol.asyncIterator]() {
                    yield chunk1;
                    yield chunk2;
                }
            };
            await processor.readDataStream(asyncIterable, 10);
            const buffer = processor.buffer;
            expect(buffer.subarray(0, 10)).toEqual(new Uint8Array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]));
        });
        it('应该在数据流提前结束时抛出错误', async () => {
            const testData = new Uint8Array([1, 2, 3]);
            const stream = new ReadableStream({
                start(controller) {
                    controller.enqueue(testData);
                    controller.close();
                }
            });
            await expect(processor.readDataStream(stream, 10)).rejects.toThrow('Premature end of stream');
        });
        it('应该在数据不完整时抛出错误', async () => {
            const asyncIterable = {
                async *[Symbol.asyncIterator]() {
                    yield new Uint8Array([1, 2, 3]);
                    // 数据流结束，但没有提供足够的数据
                }
            };
            await expect(processor.readDataStream(asyncIterable, 10)).rejects.toThrow('Incomplete data read');
        });
        it('应该报告读取进度', async () => {
            const chunk1 = new Uint8Array([1, 2, 3, 4, 5]);
            const chunk2 = new Uint8Array([6, 7, 8, 9, 10]);
            const stream = new ReadableStream({
                start(controller) {
                    controller.enqueue(chunk1);
                    setTimeout(() => {
                        controller.enqueue(chunk2);
                        controller.close();
                    }, 10);
                }
            });
            await processor.readDataStream(stream, 10);
            expect(mockEvents.onProgress).toHaveBeenCalled();
            const progressCall = mockEvents.onProgress.mock.calls[0][0];
            expect(progressCall.bytesRead).toBeGreaterThan(0);
            expect(progressCall.totalBytes).toBe(10);
        });
    });
    describe('原始数据解析测试', () => {
        let processor;
        let session;
        beforeEach(() => {
            processor = new DataStreamProcessor_1.DataStreamProcessor();
            session = new CaptureModels_1.CaptureSession();
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
        });
        it('应该正确解析8通道模式数据', async () => {
            // 构造测试数据：样本数量(4字节) + 样本数据(3字节) + 时间戳长度(1字节)
            const buffer = new Uint8Array(8);
            const view = new DataView(buffer.buffer);
            view.setUint32(0, 3, true); // 3个样本
            view.setUint8(4, 0b00000001); // 样本1: CH0=1
            view.setUint8(5, 0b00000010); // 样本2: CH1=1
            view.setUint8(6, 0b00000011); // 样本3: CH0=1, CH1=1
            view.setUint8(7, 0); // 时间戳长度
            processor.buffer = buffer;
            const rawPacket = await processor.parseRawData(session, 3, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(rawPacket.length).toBe(3);
            expect(rawPacket.samples).toEqual(new Uint32Array([1, 2, 3]));
            expect(rawPacket.timestamps.length).toBe(0);
            expect(rawPacket.mode).toBe(AnalyzerTypes_1.CaptureMode.Channels_8);
        });
        it('应该正确解析16通道模式数据', async () => {
            // 构造测试数据：样本数量(4字节) + 样本数据(4字节) + 时间戳长度(1字节)
            const buffer = new Uint8Array(9);
            const view = new DataView(buffer.buffer);
            view.setUint32(0, 2, true); // 2个样本
            view.setUint16(4, 0x0101, true); // 样本1
            view.setUint16(6, 0x0202, true); // 样本2
            view.setUint8(8, 0); // 时间戳长度
            processor.buffer = buffer;
            const rawPacket = await processor.parseRawData(session, 2, AnalyzerTypes_1.CaptureMode.Channels_16);
            expect(rawPacket.length).toBe(2);
            expect(rawPacket.samples).toEqual(new Uint32Array([0x0101, 0x0202]));
            expect(rawPacket.mode).toBe(AnalyzerTypes_1.CaptureMode.Channels_16);
        });
        it('应该正确解析24通道模式数据', async () => {
            // 构造测试数据：样本数量(4字节) + 样本数据(8字节) + 时间戳长度(1字节)
            const buffer = new Uint8Array(13);
            const view = new DataView(buffer.buffer);
            view.setUint32(0, 2, true); // 2个样本
            view.setUint32(4, 0x01010101, true); // 样本1
            view.setUint32(8, 0x02020202, true); // 样本2
            view.setUint8(12, 0); // 时间戳长度
            processor.buffer = buffer;
            const rawPacket = await processor.parseRawData(session, 2, AnalyzerTypes_1.CaptureMode.Channels_24);
            expect(rawPacket.length).toBe(2);
            expect(rawPacket.samples).toEqual(new Uint32Array([0x01010101, 0x02020202]));
            expect(rawPacket.mode).toBe(AnalyzerTypes_1.CaptureMode.Channels_24);
        });
        it('应该正确解析带时间戳的数据', async () => {
            session.loopCount = 2;
            session.measureBursts = true;
            // 构造测试数据：样本数量(4) + 样本数据(2) + 时间戳长度(1) + 时间戳数据(16) = 23字节
            const buffer = new Uint8Array(23);
            const view = new DataView(buffer.buffer);
            view.setUint32(0, 2, true); // 2个样本
            view.setUint8(4, 0x01);
            view.setUint8(5, 0x02);
            view.setUint8(6, 16); // 时间戳长度：4个时间戳 * 4字节 = 16字节
            // 4个时间戳 (loopCount + 2 = 4)
            view.setUint32(7, 0x1000, true);
            view.setUint32(11, 0x2000, true);
            view.setUint32(15, 0x3000, true);
            view.setUint32(19, 0x4000, true);
            processor.buffer = buffer;
            const rawPacket = await processor.parseRawData(session, 2, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(rawPacket.timestamps.length).toBe(4);
            expect(rawPacket.timestamps[0]).toBe(BigInt(0x1000));
            expect(rawPacket.timestamps[1]).toBe(BigInt(0x2000));
            expect(rawPacket.timestamps[2]).toBe(BigInt(0x3000));
            expect(rawPacket.timestamps[3]).toBe(BigInt(0x4000));
        });
        it('应该在样本数量不匹配时发出警告', async () => {
            const consoleSpy = jest.spyOn(console, 'warn').mockImplementation(() => { });
            const buffer = new Uint8Array(10); // 4字节长度 + 5字节样本 + 1字节时间戳长度
            const view = new DataView(buffer.buffer);
            view.setUint32(0, 5, true); // 声明有5个样本
            view.setUint8(4, 0x01);
            view.setUint8(5, 0x02);
            view.setUint8(6, 0x03);
            view.setUint8(7, 0x04);
            view.setUint8(8, 0x05);
            view.setUint8(9, 0); // 时间戳长度
            processor.buffer = buffer;
            await processor.parseRawData(session, 2, AnalyzerTypes_1.CaptureMode.Channels_8);
            expect(consoleSpy).toHaveBeenCalledWith('Sample count mismatch. Expected 2, got 5');
            consoleSpy.mockRestore();
        });
    });
    describe('样本数据处理测试', () => {
        let processor;
        let session;
        let mockEvents;
        beforeEach(() => {
            mockEvents = {
                onDataReceived: jest.fn()
            };
            processor = new DataStreamProcessor_1.DataStreamProcessor({}, mockEvents);
            session = new CaptureModels_1.CaptureSession();
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1'),
                new CaptureModels_1.AnalyzerChannel(2, 'CH2')
            ];
        });
        it('应该正确提取通道样本', async () => {
            const rawPacket = {
                length: 4,
                samples: new Uint32Array([
                    0b001,
                    0b010,
                    0b100,
                    0b111 // CH0=1, CH1=1, CH2=1
                ]),
                timestamps: new BigUint64Array(0),
                mode: AnalyzerTypes_1.CaptureMode.Channels_8
            };
            await processor.processSampleData(session, rawPacket);
            // 验证CH0样本
            expect(session.captureChannels[0].samples).toEqual(new Uint8Array([1, 0, 0, 1]));
            // 验证CH1样本
            expect(session.captureChannels[1].samples).toEqual(new Uint8Array([0, 1, 0, 1]));
            // 验证CH2样本
            expect(session.captureChannels[2].samples).toEqual(new Uint8Array([0, 0, 1, 1]));
            // 验证事件被触发
            expect(mockEvents.onDataReceived).toHaveBeenCalledWith(rawPacket);
        });
        it('应该正确处理空样本数据', async () => {
            const rawPacket = {
                length: 0,
                samples: new Uint32Array(0),
                timestamps: new BigUint64Array(0),
                mode: AnalyzerTypes_1.CaptureMode.Channels_8
            };
            await processor.processSampleData(session, rawPacket);
            session.captureChannels.forEach(channel => {
                expect(channel.samples).toEqual(new Uint8Array(0));
            });
        });
    });
    describe('突发数据处理测试', () => {
        let processor;
        let session;
        beforeEach(() => {
            processor = new DataStreamProcessor_1.DataStreamProcessor();
            session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000; // 1MHz
            session.preTriggerSamples = 100;
            session.postTriggerSamples = 900;
            session.loopCount = 2;
            session.measureBursts = true;
        });
        it('应该正确处理突发数据', async () => {
            const rawPacket = {
                length: 3000,
                samples: new Uint32Array(3000),
                timestamps: new BigUint64Array([
                    BigInt(0x1000),
                    BigInt(0x2000),
                    BigInt(0x3000),
                    BigInt(0x4000)
                ]),
                mode: AnalyzerTypes_1.CaptureMode.Channels_8
            };
            await processor.processBurstData(session, rawPacket);
            expect(session.bursts).toHaveLength(3); // loopCount + 1
            // 验证第一个突发
            const firstBurst = session.bursts[0];
            expect(firstBurst.burstSampleStart).toBe(0);
            expect(firstBurst.burstSampleEnd).toBe(1000); // preTriggerSamples + postTriggerSamples
            expect(firstBurst.burstSampleGap).toBe(0);
            expect(firstBurst.burstTimeGap).toBe(0);
            // 验证第二个突发
            const secondBurst = session.bursts[1];
            expect(secondBurst.burstSampleStart).toBe(100); // preTriggerSamples
            expect(secondBurst.burstSampleEnd).toBe(1000); // preTriggerSamples + postTriggerSamples
        });
        it('应该正确调整时间戳', async () => {
            const rawPacket = {
                length: 1000,
                samples: new Uint32Array(1000),
                timestamps: new BigUint64Array([
                    BigInt(0xFF123456),
                    BigInt(0xFE654321)
                ]),
                mode: AnalyzerTypes_1.CaptureMode.Channels_8
            };
            await processor.processBurstData(session, rawPacket);
            // 时间戳调整逻辑已在processBurstData中实现
            // 这里主要验证不会抛出错误且生成了正确数量的突发
            expect(session.bursts).toHaveLength(3);
        });
        it('应该处理空时间戳数据', async () => {
            const rawPacket = {
                length: 1000,
                samples: new Uint32Array(1000),
                timestamps: new BigUint64Array(0),
                mode: AnalyzerTypes_1.CaptureMode.Channels_8
            };
            await processor.processBurstData(session, rawPacket);
            // 应该直接返回，不处理突发数据
            expect(session.bursts).toBeUndefined();
        });
    });
    describe('进度报告测试', () => {
        let processor;
        let mockEvents;
        beforeEach(() => {
            mockEvents = {
                onProgress: jest.fn()
            };
            processor = new DataStreamProcessor_1.DataStreamProcessor({}, mockEvents);
            processor.startTime = Date.now() - 1000; // 1秒前开始
        });
        it('应该正确计算和报告进度', () => {
            processor.reportProgress(500, 1000);
            expect(mockEvents.onProgress).toHaveBeenCalledWith(expect.objectContaining({
                bytesRead: 500,
                totalBytes: 1000,
                progress: 50,
                samplesRead: 125,
                totalSamples: 250,
                estimatedTimeRemaining: expect.any(Number)
            }));
        });
        it('应该将进度限制在100%以内', () => {
            processor.reportProgress(1500, 1000); // 超过总字节数
            const progressCall = mockEvents.onProgress.mock.calls[0][0];
            expect(progressCall.progress).toBe(100);
        });
        it('应该正确计算剩余时间', () => {
            processor.reportProgress(250, 1000);
            const progressCall = mockEvents.onProgress.mock.calls[0][0];
            expect(progressCall.estimatedTimeRemaining).toBeGreaterThanOrEqual(0);
        });
    });
    describe('完整数据流处理测试', () => {
        let processor;
        let session;
        let mockEvents;
        beforeEach(() => {
            mockEvents = {
                onProgress: jest.fn(),
                onDataReceived: jest.fn(),
                onCompleted: jest.fn(),
                onError: jest.fn()
            };
            processor = new DataStreamProcessor_1.DataStreamProcessor({
                enableProgress: true
            }, mockEvents);
            session = new CaptureModels_1.CaptureSession();
            session.frequency = 1000000;
            session.preTriggerSamples = 100;
            session.postTriggerSamples = 900;
            session.captureChannels = [
                new CaptureModels_1.AnalyzerChannel(0, 'CH0'),
                new CaptureModels_1.AnalyzerChannel(1, 'CH1')
            ];
        });
        it('应该完成完整的数据流处理工作流', async () => {
            // 构造完整的测试数据
            const expectedSamples = 1000;
            const buffer = new Uint8Array(1005); // 4 + 1000 + 1
            const view = new DataView(buffer.buffer);
            view.setUint32(0, expectedSamples, true);
            // 填充样本数据
            for (let i = 0; i < expectedSamples; i++) {
                view.setUint8(4 + i, i % 4); // 循环模式
            }
            view.setUint8(1004, 0); // 时间戳长度
            const stream = DataStreamProcessor_1.DataStreamFactory.createBufferStream(buffer);
            const result = await processor.readCaptureData(stream, session, expectedSamples, AnalyzerTypes_1.CaptureMode.Channels_8);
            // 验证结果
            expect(result).toBe(session);
            expect(processor.getState()).toBe(DataStreamProcessor_1.DataStreamState.Completed);
            // 验证通道数据
            expect(session.captureChannels[0].samples).toHaveLength(expectedSamples);
            expect(session.captureChannels[1].samples).toHaveLength(expectedSamples);
            // 验证事件被调用
            expect(mockEvents.onCompleted).toHaveBeenCalledWith(session);
            expect(mockEvents.onDataReceived).toHaveBeenCalled();
        });
        it('应该处理数据流错误', async () => {
            const errorStream = new ReadableStream({
                start(controller) {
                    controller.error(new Error('Stream error'));
                }
            });
            await expect(processor.readCaptureData(errorStream, session, 1000, AnalyzerTypes_1.CaptureMode.Channels_8))
                .rejects.toThrow('Stream error');
            expect(processor.getState()).toBe(DataStreamProcessor_1.DataStreamState.Error);
            expect(mockEvents.onError).toHaveBeenCalled();
        });
        it('应该处理带突发模式的完整工作流', async () => {
            session.loopCount = 1;
            session.measureBursts = true;
            // 构造带时间戳的测试数据
            const expectedSamples = 1000;
            const buffer = new Uint8Array(1017); // 4 + 1000 + 1 + 12 (3个时间戳*4字节)
            const view = new DataView(buffer.buffer);
            view.setUint32(0, expectedSamples, true);
            // 填充样本数据
            for (let i = 0; i < expectedSamples; i++) {
                view.setUint8(4 + i, i % 2);
            }
            view.setUint8(1004, 12); // 时间戳长度
            view.setUint32(1005, 0x1000, true);
            view.setUint32(1009, 0x2000, true);
            view.setUint32(1013, 0x3000, true);
            const stream = DataStreamProcessor_1.DataStreamFactory.createBufferStream(buffer);
            const result = await processor.readCaptureData(stream, session, expectedSamples, AnalyzerTypes_1.CaptureMode.Channels_8);
            // 验证突发数据被处理
            expect(result.bursts).toHaveLength(2); // loopCount + 1
            expect(mockEvents.onCompleted).toHaveBeenCalledWith(session);
        });
    });
});
describe('DataStreamFactory 工厂类测试', () => {
    it('应该创建Buffer流', () => {
        const testBuffer = new Uint8Array([1, 2, 3, 4, 5]);
        const stream = DataStreamProcessor_1.DataStreamFactory.createBufferStream(testBuffer);
        expect(stream).toBeInstanceOf(ReadableStream);
    });
    it('Buffer流应该正确提供数据', async () => {
        const testBuffer = new Uint8Array([1, 2, 3, 4, 5]);
        const stream = DataStreamProcessor_1.DataStreamFactory.createBufferStream(testBuffer);
        const reader = stream.getReader();
        const { done, value } = await reader.read();
        expect(done).toBe(false);
        expect(value).toEqual(testBuffer);
        const { done: done2 } = await reader.read();
        expect(done2).toBe(true);
        reader.releaseLock();
    });
    it('应该创建网络流', () => {
        const mockSocket = {
            on: jest.fn()
        };
        const stream = DataStreamProcessor_1.DataStreamFactory.createNetworkStream(mockSocket);
        expect(stream).toBeInstanceOf(ReadableStream);
        expect(mockSocket.on).toHaveBeenCalledWith('data', expect.any(Function));
        expect(mockSocket.on).toHaveBeenCalledWith('end', expect.any(Function));
        expect(mockSocket.on).toHaveBeenCalledWith('error', expect.any(Function));
    });
    it('应该创建串口流', () => {
        const mockPort = {};
        const stream = DataStreamProcessor_1.DataStreamFactory.createSerialStream(mockPort);
        expect(stream).toBeDefined();
        expect(typeof stream[Symbol.asyncIterator]).toBe('function');
    });
    it('串口流应该正确处理数据', async () => {
        const testData = [new Uint8Array([1, 2, 3]), new Uint8Array([4, 5, 6])];
        const mockPort = {
            *[Symbol.asyncIterator]() {
                for (const data of testData) {
                    yield data;
                }
            }
        };
        const stream = DataStreamProcessor_1.DataStreamFactory.createSerialStream(mockPort);
        const results = [];
        for await (const chunk of stream) {
            results.push(chunk);
        }
        expect(results).toHaveLength(2);
        expect(results[0]).toEqual(testData[0]);
        expect(results[1]).toEqual(testData[1]);
    });
    it('网络流应该正确处理数据和结束事件', async () => {
        let dataCallback;
        let endCallback;
        const mockSocket = {
            on: jest.fn().mockImplementation((event, callback) => {
                if (event === 'data') {
                    dataCallback = callback;
                }
                else if (event === 'end') {
                    endCallback = callback;
                }
            })
        };
        const stream = DataStreamProcessor_1.DataStreamFactory.createNetworkStream(mockSocket);
        const reader = stream.getReader();
        // 模拟接收数据
        const testBuffer = Buffer.from([1, 2, 3, 4]);
        dataCallback(testBuffer);
        // 验证数据
        const { done, value } = await reader.read();
        expect(done).toBe(false);
        expect(value).toEqual(new Uint8Array([1, 2, 3, 4]));
        // 结束流
        endCallback();
        // 验证流结束
        const { done: done2 } = await reader.read();
        expect(done2).toBe(true);
        reader.releaseLock();
    });
});
describe('DataStreamMonitor 监控器测试', () => {
    let monitor;
    beforeEach(() => {
        monitor = new DataStreamProcessor_1.DataStreamMonitor();
    });
    it('应该正确初始化监控器', () => {
        const stats = monitor.getStatistics();
        expect(stats.elapsedTime).toBe(0);
        expect(stats.bytesPerSecond).toBe(0);
        expect(stats.samplesPerSecond).toBe(0);
        expect(stats.efficiency).toBe(0);
    });
    it('应该正确启动监控', () => {
        const beforeStart = Date.now();
        monitor.start();
        const afterStart = Date.now();
        const stats = monitor.getStatistics();
        expect(stats.elapsedTime).toBeGreaterThanOrEqual(0);
        expect(stats.elapsedTime).toBeLessThan(afterStart - beforeStart + 100); // 允许一些误差
    });
    it('应该正确更新监控数据', (done) => {
        monitor.start();
        monitor.update(1000, 250);
        // 等待一小段时间以获得有意义的统计
        setTimeout(() => {
            const stats = monitor.getStatistics();
            expect(stats.elapsedTime).toBeGreaterThan(0);
            expect(stats.bytesPerSecond).toBeGreaterThan(0);
            expect(stats.samplesPerSecond).toBeGreaterThan(0);
            expect(stats.efficiency).toBe(4); // 1000 bytes / 250 samples = 4
            done();
        }, 10);
    });
    it('应该正确计算性能统计', () => {
        const originalNow = Date.now;
        const startTime = 1000000000; // 固定的开始时间
        // Mock Date.now 返回固定的开始时间
        Date.now = jest.fn().mockReturnValue(startTime);
        monitor.start();
        // Mock Date.now 返回1秒后的时间
        Date.now = jest.fn().mockReturnValue(startTime + 1000);
        monitor.update(2000, 500);
        const stats = monitor.getStatistics();
        expect(stats.elapsedTime).toBe(1000);
        expect(stats.bytesPerSecond).toBe(2000); // 2000 bytes / 1 second
        expect(stats.samplesPerSecond).toBe(500); // 500 samples / 1 second
        expect(stats.efficiency).toBe(4); // 2000 / 500
        Date.now = originalNow;
    });
    it('应该处理零除情况', () => {
        monitor.start();
        monitor.update(0, 0);
        const stats = monitor.getStatistics();
        expect(stats.bytesPerSecond).toBe(0);
        expect(stats.samplesPerSecond).toBe(0);
        expect(stats.efficiency).toBe(0);
    });
});
describe('边界条件和错误处理测试', () => {
    let processor;
    beforeEach(() => {
        processor = new DataStreamProcessor_1.DataStreamProcessor();
    });
    it('应该处理空数据流', async () => {
        const emptyStream = new ReadableStream({
            start(controller) {
                controller.close();
            }
        });
        const session = new CaptureModels_1.CaptureSession();
        session.captureChannels = [];
        await expect(processor.readCaptureData(emptyStream, session, 100, AnalyzerTypes_1.CaptureMode.Channels_8))
            .rejects.toThrow('Premature end of stream');
    });
    it('应该处理无效的采集模式', async () => {
        const buffer = new Uint8Array(9);
        const view = new DataView(buffer.buffer);
        view.setUint32(0, 1, true);
        view.setUint8(4, 0x01);
        view.setUint8(5, 0);
        processor.buffer = buffer;
        const session = new CaptureModels_1.CaptureSession();
        // 使用无效的采集模式
        const result = await processor.parseRawData(session, 1, 999);
        // 应该能处理而不崩溃
        expect(result.length).toBe(1);
        expect(result.samples).toBeDefined();
    });
    it('应该处理超大的缓冲区长度', () => {
        const session = new CaptureModels_1.CaptureSession();
        session.loopCount = 1000000; // 非常大的循环计数
        session.measureBursts = true;
        const bufferLength = processor.calculateBufferLength(1000000, AnalyzerTypes_1.CaptureMode.Channels_24, session);
        // 应该计算出合理的缓冲区长度而不崩溃
        expect(bufferLength).toBeGreaterThan(0);
        expect(typeof bufferLength).toBe('number');
    });
    it('应该处理网络流的错误事件', () => {
        let errorCallback;
        const mockSocket = {
            on: jest.fn().mockImplementation((event, callback) => {
                if (event === 'error') {
                    errorCallback = callback;
                }
            })
        };
        const stream = DataStreamProcessor_1.DataStreamFactory.createNetworkStream(mockSocket);
        const reader = stream.getReader();
        // 模拟网络错误
        const testError = new Error('Network connection lost');
        errorCallback(testError);
        // 验证流错误处理
        expect(mockSocket.on).toHaveBeenCalledWith('error', expect.any(Function));
        reader.releaseLock();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9tb2RlbHMvRGF0YVN0cmVhbVByb2Nlc3Nvci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgsaUZBU2lEO0FBQ2pELHFFQUkyQztBQUMzQyxxRUFFMkM7QUFFM0MsUUFBUSxDQUFDLDRCQUE0QixFQUFFLEdBQUcsRUFBRTtJQUUxQyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBRXBDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1lBQ3JCLE1BQU0sQ0FBQyxxQ0FBZSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxNQUFNLENBQUMscUNBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ2xFLE1BQU0sQ0FBQyxxQ0FBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlELE1BQU0sQ0FBQyxxQ0FBZSxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDcEUsTUFBTSxDQUFDLHFDQUFlLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDOUQsTUFBTSxDQUFDLHFDQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxxQ0FBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1lBQ3JCLE1BQU0sQ0FBQyxNQUFNLENBQUMscUNBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDN0MsTUFB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QyxDQUFDLENBQUM7UUFFMUUsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvc2hhcmUvc2FtYmEvdnNjb2RlLWV4dGVuc2lvbi9waWNvLWxvZ2ljYW5hbHl6ZXIvdXRlc3QvdW5pdC9tb2RlbHMvRGF0YVN0cmVhbVByb2Nlc3Nvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBEYXRhU3RyZWFtUHJvY2Vzc29yIOaooeWdl+WNleWFg+a1i+ivleWll+S7tlxyXG4gKiDlhajpnaLmtYvor5Xlrp7ml7bmlbDmja7mtYHlpITnkIblkoznvJPlhrLns7vnu5/nmoTlip/og71cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIERhdGFTdHJlYW1Qcm9jZXNzb3IsXHJcbiAgRGF0YVN0cmVhbUZhY3RvcnksXHJcbiAgRGF0YVN0cmVhbU1vbml0b3IsXHJcbiAgRGF0YVN0cmVhbVN0YXRlLFxyXG4gIERhdGFTdHJlYW1Qcm9ncmVzcyxcclxuICBEYXRhU3RyZWFtQ29uZmlnLFxyXG4gIFJhd0RhdGFQYWNrZXQsXHJcbiAgRGF0YVN0cmVhbUV2ZW50c1xyXG59IGZyb20gJy4uLy4uLy4uL3NyYy9tb2RlbHMvRGF0YVN0cmVhbVByb2Nlc3Nvcic7XHJcbmltcG9ydCB7XHJcbiAgQ2FwdHVyZVNlc3Npb24sXHJcbiAgQW5hbHl6ZXJDaGFubmVsLFxyXG4gIEJ1cnN0SW5mb1xyXG59IGZyb20gJy4uLy4uLy4uL3NyYy9tb2RlbHMvQ2FwdHVyZU1vZGVscyc7XHJcbmltcG9ydCB7XHJcbiAgQ2FwdHVyZU1vZGVcclxufSBmcm9tICcuLi8uLi8uLi9zcmMvbW9kZWxzL0FuYWx5emVyVHlwZXMnO1xyXG5cclxuZGVzY3JpYmUoJ0RhdGFTdHJlYW1Qcm9jZXNzb3Ig5qih5Z2X5rWL6K+V5aWX5Lu2JywgKCkgPT4ge1xyXG4gIFxyXG4gIGRlc2NyaWJlKCdEYXRhU3RyZWFtU3RhdGUg5p6a5Li+5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5a6a5LmJ5omA5pyJ5pWw5o2u5rWB54q25oCBJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoRGF0YVN0cmVhbVN0YXRlLklkbGUpLnRvQmUoJ0lkbGUnKTtcclxuICAgICAgZXhwZWN0KERhdGFTdHJlYW1TdGF0ZS5XYWl0aW5nRm9ySGVhZGVyKS50b0JlKCdXYWl0aW5nRm9ySGVhZGVyJyk7XHJcbiAgICAgIGV4cGVjdChEYXRhU3RyZWFtU3RhdGUuUmVhZGluZ1NhbXBsZXMpLnRvQmUoJ1JlYWRpbmdTYW1wbGVzJyk7XHJcbiAgICAgIGV4cGVjdChEYXRhU3RyZWFtU3RhdGUuUmVhZGluZ1RpbWVzdGFtcHMpLnRvQmUoJ1JlYWRpbmdUaW1lc3RhbXBzJyk7XHJcbiAgICAgIGV4cGVjdChEYXRhU3RyZWFtU3RhdGUuUHJvY2Vzc2luZ0RhdGEpLnRvQmUoJ1Byb2Nlc3NpbmdEYXRhJyk7XHJcbiAgICAgIGV4cGVjdChEYXRhU3RyZWFtU3RhdGUuQ29tcGxldGVkKS50b0JlKCdDb21wbGV0ZWQnKTtcclxuICAgICAgZXhwZWN0KERhdGFTdHJlYW1TdGF0ZS5FcnJvcikudG9CZSgnRXJyb3InKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5p6a5Li+5YC85bqU6K+l5piv5a2X56ym5Liy57G75Z6LJywgKCkgPT4ge1xyXG4gICAgICBPYmplY3QudmFsdWVzKERhdGFTdHJlYW1TdGF0ZSkuZm9yRWFjaChzdGF0ZSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBzdGF0ZSkudG9CZSgnc3RyaW5nJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ0RhdGFTdHJlYW1Qcm9jZXNzb3Ig5Z+656GA5Yqf6IO95rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHByb2Nlc3NvcjogRGF0YVN0cmVhbVByb2Nlc3NvcjtcclxuICAgIGxldCBtb2NrRXZlbnRzOiBQYXJ0aWFsPERhdGFTdHJlYW1FdmVudHM+O1xyXG4gICAgXHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgbW9ja0V2ZW50cyA9IHtcclxuICAgICAgICBvblByb2dyZXNzOiBqZXN0LmZuKCksXHJcbiAgICAgICAgb25EYXRhUmVjZWl2ZWQ6IGplc3QuZm4oKSxcclxuICAgICAgICBvbkNvbXBsZXRlZDogamVzdC5mbigpLFxyXG4gICAgICAgIG9uRXJyb3I6IGplc3QuZm4oKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcHJvY2Vzc29yID0gbmV3IERhdGFTdHJlYW1Qcm9jZXNzb3Ioe1xyXG4gICAgICAgIGJ1ZmZlclNpemU6IDEwMjQsXHJcbiAgICAgICAgcmVhZFRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgY2h1bmtTaXplOiAyNTYsXHJcbiAgICAgICAgZW5hYmxlUHJvZ3Jlc3M6IHRydWUsXHJcbiAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbDogNTBcclxuICAgICAgfSwgbW9ja0V2ZW50cyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruWIneWni+WMlum7mOiupOmFjee9ricsICgpID0+IHtcclxuICAgICAgY29uc3QgZGVmYXVsdFByb2Nlc3NvciA9IG5ldyBEYXRhU3RyZWFtUHJvY2Vzc29yKCk7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IChkZWZhdWx0UHJvY2Vzc29yIGFzIGFueSkuY29uZmlnO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbmZpZy5idWZmZXJTaXplKS50b0JlKDEwMjQgKiAxMDI0KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5yZWFkVGltZW91dCkudG9CZSgzMDAwMCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcuY2h1bmtTaXplKS50b0JlKDY0ICogMTAyNCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlUHJvZ3Jlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChjb25maWcucHJvZ3Jlc3NJbnRlcnZhbCkudG9CZSgxMDApO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmjqXlj5foh6rlrprkuYnphY3nva4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IChwcm9jZXNzb3IgYXMgYW55KS5jb25maWc7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uZmlnLmJ1ZmZlclNpemUpLnRvQmUoMTAyNCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcucmVhZFRpbWVvdXQpLnRvQmUoNTAwMCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcuY2h1bmtTaXplKS50b0JlKDI1Nik7XHJcbiAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlUHJvZ3Jlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChjb25maWcucHJvZ3Jlc3NJbnRlcnZhbCkudG9CZSg1MCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruWIneWni+WMlueKtuaAgScsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHByb2Nlc3Nvci5nZXRTdGF0ZSgpKS50b0JlKERhdGFTdHJlYW1TdGF0ZS5JZGxlKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5pu05paw6YWN572uJywgKCkgPT4ge1xyXG4gICAgICBwcm9jZXNzb3IudXBkYXRlQ29uZmlnKHtcclxuICAgICAgICBidWZmZXJTaXplOiAyMDQ4LFxyXG4gICAgICAgIGVuYWJsZVByb2dyZXNzOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IChwcm9jZXNzb3IgYXMgYW55KS5jb25maWc7XHJcbiAgICAgIGV4cGVjdChjb25maWcuYnVmZmVyU2l6ZSkudG9CZSgyMDQ4KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5lbmFibGVQcm9ncmVzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChjb25maWcucmVhZFRpbWVvdXQpLnRvQmUoNTAwMCk7IC8vIOS/neaMgeS4jeWPmFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7mm7TmlrDkuovku7blpITnkIblmagnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0V2ZW50cyA9IHtcclxuICAgICAgICBvblByb2dyZXNzOiBqZXN0LmZuKCksXHJcbiAgICAgICAgb25FcnJvcjogamVzdC5mbigpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBwcm9jZXNzb3IudXBkYXRlRXZlbnRzKG5ld0V2ZW50cyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBldmVudHMgPSAocHJvY2Vzc29yIGFzIGFueSkuZXZlbnRzO1xyXG4gICAgICBleHBlY3QoZXZlbnRzLm9uUHJvZ3Jlc3MpLnRvQmUobmV3RXZlbnRzLm9uUHJvZ3Jlc3MpO1xyXG4gICAgICBleHBlY3QoZXZlbnRzLm9uRXJyb3IpLnRvQmUobmV3RXZlbnRzLm9uRXJyb3IpO1xyXG4gICAgICBleHBlY3QoZXZlbnRzLm9uQ29tcGxldGVkKS50b0JlKG1vY2tFdmVudHMub25Db21wbGV0ZWQpOyAvLyDkv53mjIHljp/mnInnmoRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6YeN572u54q25oCBJywgKCkgPT4ge1xyXG4gICAgICAvLyDlhYjorr7nva7kuIDkupvnirbmgIFcclxuICAgICAgKHByb2Nlc3NvciBhcyBhbnkpLnN0YXRlID0gRGF0YVN0cmVhbVN0YXRlLlJlYWRpbmdTYW1wbGVzO1xyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTAwKTtcclxuICAgICAgKHByb2Nlc3NvciBhcyBhbnkpLmJ1ZmZlclBvc2l0aW9uID0gNTA7XHJcbiAgICAgIChwcm9jZXNzb3IgYXMgYW55KS5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBcclxuICAgICAgcHJvY2Vzc29yLnJlc2V0KCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocHJvY2Vzc29yLmdldFN0YXRlKCkpLnRvQmUoRGF0YVN0cmVhbVN0YXRlLklkbGUpO1xyXG4gICAgICBleHBlY3QoKHByb2Nlc3NvciBhcyBhbnkpLmJ1ZmZlci5sZW5ndGgpLnRvQmUoMCk7XHJcbiAgICAgIGV4cGVjdCgocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyUG9zaXRpb24pLnRvQmUoMCk7XHJcbiAgICAgIGV4cGVjdCgocHJvY2Vzc29yIGFzIGFueSkuc3RhcnRUaW1lKS50b0JlKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ+e8k+WGsuWMuumVv+W6puiuoeeul+a1i+ivlScsICgpID0+IHtcclxuICAgIGxldCBwcm9jZXNzb3I6IERhdGFTdHJlYW1Qcm9jZXNzb3I7XHJcbiAgICBcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBwcm9jZXNzb3IgPSBuZXcgRGF0YVN0cmVhbVByb2Nlc3NvcigpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7orqHnrpc46YCa6YGT5qih5byP55qE57yT5Yay5Yy66ZW/5bqmJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICAgIHNlc3Npb24ubG9vcENvdW50ID0gMDtcclxuICAgICAgc2Vzc2lvbi5tZWFzdXJlQnVyc3RzID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBidWZmZXJMZW5ndGggPSAocHJvY2Vzc29yIGFzIGFueSkuY2FsY3VsYXRlQnVmZmVyTGVuZ3RoKDEwMDAsIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgsIHNlc3Npb24pO1xyXG4gICAgICBcclxuICAgICAgLy8gMTAwMOagt+acrCAqIDHlrZfoioIgKyA05a2X6IqC6ZW/5bqmICsgMeWtl+iKguaXtumXtOaIs+mVv+W6piA9IDEwMDXlrZfoioJcclxuICAgICAgZXhwZWN0KGJ1ZmZlckxlbmd0aCkudG9CZSgxMDA1KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6K6h566XMTbpgJrpgZPmqKHlvI/nmoTnvJPlhrLljLrplb/luqYnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5sb29wQ291bnQgPSAwO1xyXG4gICAgICBzZXNzaW9uLm1lYXN1cmVCdXJzdHMgPSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IChwcm9jZXNzb3IgYXMgYW55KS5jYWxjdWxhdGVCdWZmZXJMZW5ndGgoMTAwMCwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfMTYsIHNlc3Npb24pO1xyXG4gICAgICBcclxuICAgICAgLy8gMTAwMOagt+acrCAqIDLlrZfoioIgKyA05a2X6IqC6ZW/5bqmICsgMeWtl+iKguaXtumXtOaIs+mVv+W6piA9IDIwMDXlrZfoioJcclxuICAgICAgZXhwZWN0KGJ1ZmZlckxlbmd0aCkudG9CZSgyMDA1KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6K6h566XMjTpgJrpgZPmqKHlvI/nmoTnvJPlhrLljLrplb/luqYnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5sb29wQ291bnQgPSAwO1xyXG4gICAgICBzZXNzaW9uLm1lYXN1cmVCdXJzdHMgPSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IChwcm9jZXNzb3IgYXMgYW55KS5jYWxjdWxhdGVCdWZmZXJMZW5ndGgoMTAwMCwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfMjQsIHNlc3Npb24pO1xyXG4gICAgICBcclxuICAgICAgLy8gMTAwMOagt+acrCAqIDTlrZfoioIgKyA05a2X6IqC6ZW/5bqmICsgMeWtl+iKguaXtumXtOaIs+mVv+W6piA9IDQwMDXlrZfoioJcclxuICAgICAgZXhwZWN0KGJ1ZmZlckxlbmd0aCkudG9CZSg0MDA1KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6K6h566X5bim56qB5Y+R5qih5byP55qE57yT5Yay5Yy66ZW/5bqmJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICAgIHNlc3Npb24ubG9vcENvdW50ID0gMztcclxuICAgICAgc2Vzc2lvbi5tZWFzdXJlQnVyc3RzID0gdHJ1ZTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IChwcm9jZXNzb3IgYXMgYW55KS5jYWxjdWxhdGVCdWZmZXJMZW5ndGgoMTAwMCwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCwgc2Vzc2lvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyAxMDAw5qC35pysICogMeWtl+iKgiArIDTlrZfoioLplb/luqYgKyAx5a2X6IqC5pe26Ze05oiz6ZW/5bqmICsgKDMrMikqNOWtl+iKguaXtumXtOaIs+aVsOaNriA9IDEwMjXlrZfoioJcclxuICAgICAgZXhwZWN0KGJ1ZmZlckxlbmd0aCkudG9CZSgxMDI1KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCfmlbDmja7mtYHor7vlj5bmtYvor5UnLCAoKSA9PiB7XHJcbiAgICBsZXQgcHJvY2Vzc29yOiBEYXRhU3RyZWFtUHJvY2Vzc29yO1xyXG4gICAgbGV0IG1vY2tFdmVudHM6IFBhcnRpYWw8RGF0YVN0cmVhbUV2ZW50cz47XHJcbiAgICBcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBtb2NrRXZlbnRzID0ge1xyXG4gICAgICAgIG9uUHJvZ3Jlc3M6IGplc3QuZm4oKSxcclxuICAgICAgICBvbkRhdGFSZWNlaXZlZDogamVzdC5mbigpLFxyXG4gICAgICAgIG9uQ29tcGxldGVkOiBqZXN0LmZuKCksXHJcbiAgICAgICAgb25FcnJvcjogamVzdC5mbigpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBwcm9jZXNzb3IgPSBuZXcgRGF0YVN0cmVhbVByb2Nlc3Nvcih7XHJcbiAgICAgICAgZW5hYmxlUHJvZ3Jlc3M6IHRydWUsXHJcbiAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbDogMTBcclxuICAgICAgfSwgbW9ja0V2ZW50cyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruS7jlJlYWRhYmxlU3RyZWFt6K+75Y+W5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF0pO1xyXG4gICAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xyXG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXN0RGF0YSk7XHJcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IChwcm9jZXNzb3IgYXMgYW55KS5yZWFkRGF0YVN0cmVhbShzdHJlYW0sIHRlc3REYXRhLmxlbmd0aCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBidWZmZXIgPSAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyO1xyXG4gICAgICBleHBlY3QoYnVmZmVyLnN1YmFycmF5KDAsIHRlc3REYXRhLmxlbmd0aCkpLnRvRXF1YWwodGVzdERhdGEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ+W6lOivpeato+ehruWkhOeQhlJlYWRhYmxlU3RyZWFt55qE5a6M5YWo6K+75Y+W5a6M5oiQ5oOF5Ya1JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzLCA0LCA1XSk7XHJcbiAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAgICAgLy8g5YiG5Lik5qyh5Y+R6YCB5pWw5o2u77yM54S25ZCO5q2j5bi457uT5p2fXHJcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodGVzdERhdGEuc3ViYXJyYXkoMCwgMykpO1xyXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHRlc3REYXRhLnN1YmFycmF5KDMsIDUpKTtcclxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnJlYWREYXRhU3RyZWFtKHN0cmVhbSwgdGVzdERhdGEubGVuZ3RoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IChwcm9jZXNzb3IgYXMgYW55KS5idWZmZXI7XHJcbiAgICAgIGV4cGVjdChidWZmZXIuc3ViYXJyYXkoMCwgdGVzdERhdGEubGVuZ3RoKSkudG9FcXVhbCh0ZXN0RGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu5aSE55CGUmVhZGFibGVTdHJlYW3mgbDlpb3or7vlj5blrozmiYDpnIDmlbDmja7lkI7nu5PmnZ8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlc3REYXRhID0gbmV3IFVpbnQ4QXJyYXkoWzEsIDIsIDMsIDQsIDVdKTtcclxuICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcclxuICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAvLyDmgbDlpb3lj5HpgIHmiYDpnIDnmoTmlbDmja7ph4/vvIznhLblkI7nu5PmnZ9cclxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXN0RGF0YSk7XHJcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IChwcm9jZXNzb3IgYXMgYW55KS5yZWFkRGF0YVN0cmVhbShzdHJlYW0sIHRlc3REYXRhLmxlbmd0aCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBidWZmZXIgPSAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyO1xyXG4gICAgICBleHBlY3QoYnVmZmVyLnN1YmFycmF5KDAsIHRlc3REYXRhLmxlbmd0aCkpLnRvRXF1YWwodGVzdERhdGEpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7ku45Bc3luY0l0ZXJhYmxl6K+75Y+W5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjaHVuazEgPSBuZXcgVWludDhBcnJheShbMSwgMiwgMywgNCwgNV0pO1xyXG4gICAgICBjb25zdCBjaHVuazIgPSBuZXcgVWludDhBcnJheShbNiwgNywgOCwgOSwgMTBdKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFzeW5jSXRlcmFibGUgPSB7XHJcbiAgICAgICAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgICB5aWVsZCBjaHVuazE7XHJcbiAgICAgICAgICB5aWVsZCBjaHVuazI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnJlYWREYXRhU3RyZWFtKGFzeW5jSXRlcmFibGUsIDEwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IChwcm9jZXNzb3IgYXMgYW55KS5idWZmZXI7XHJcbiAgICAgIGV4cGVjdChidWZmZXIuc3ViYXJyYXkoMCwgMTApKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF0pKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5Zyo5pWw5o2u5rWB5o+Q5YmN57uT5p2f5pe25oqb5Ye66ZSZ6K+vJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXN0RGF0YSA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzXSk7XHJcbiAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHRlc3REYXRhKTtcclxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZXhwZWN0KChwcm9jZXNzb3IgYXMgYW55KS5yZWFkRGF0YVN0cmVhbShzdHJlYW0sIDEwKSkucmVqZWN0cy50b1Rocm93KCdQcmVtYXR1cmUgZW5kIG9mIHN0cmVhbScpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XlnKjmlbDmja7kuI3lrozmlbTml7bmipvlh7rplJnor68nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFzeW5jSXRlcmFibGUgPSB7XHJcbiAgICAgICAgYXN5bmMgKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XHJcbiAgICAgICAgICB5aWVsZCBuZXcgVWludDhBcnJheShbMSwgMiwgM10pO1xyXG4gICAgICAgICAgLy8g5pWw5o2u5rWB57uT5p2f77yM5L2G5rKh5pyJ5o+Q5L6b6Laz5aSf55qE5pWw5o2uXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZXhwZWN0KChwcm9jZXNzb3IgYXMgYW55KS5yZWFkRGF0YVN0cmVhbShhc3luY0l0ZXJhYmxlLCAxMCkpLnJlamVjdHMudG9UaHJvdygnSW5jb21wbGV0ZSBkYXRhIHJlYWQnKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5oql5ZGK6K+75Y+W6L+b5bqmJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjaHVuazEgPSBuZXcgVWludDhBcnJheShbMSwgMiwgMywgNCwgNV0pO1xyXG4gICAgICBjb25zdCBjaHVuazIgPSBuZXcgVWludDhBcnJheShbNiwgNywgOCwgOSwgMTBdKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rMSk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rMik7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcclxuICAgICAgICAgIH0sIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnJlYWREYXRhU3RyZWFtKHN0cmVhbSwgMTApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1vY2tFdmVudHMub25Qcm9ncmVzcykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBjb25zdCBwcm9ncmVzc0NhbGwgPSAobW9ja0V2ZW50cy5vblByb2dyZXNzIGFzIGplc3QuTW9jaykubW9jay5jYWxsc1swXVswXTtcclxuICAgICAgZXhwZWN0KHByb2dyZXNzQ2FsbC5ieXRlc1JlYWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHByb2dyZXNzQ2FsbC50b3RhbEJ5dGVzKS50b0JlKDEwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCfljp/lp4vmlbDmja7op6PmnpDmtYvor5UnLCAoKSA9PiB7XHJcbiAgICBsZXQgcHJvY2Vzc29yOiBEYXRhU3RyZWFtUHJvY2Vzc29yO1xyXG4gICAgbGV0IHNlc3Npb246IENhcHR1cmVTZXNzaW9uO1xyXG4gICAgXHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgcHJvY2Vzc29yID0gbmV3IERhdGFTdHJlYW1Qcm9jZXNzb3IoKTtcclxuICAgICAgc2Vzc2lvbiA9IG5ldyBDYXB0dXJlU2Vzc2lvbigpO1xyXG4gICAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDAsICdDSDAnKSxcclxuICAgICAgICBuZXcgQW5hbHl6ZXJDaGFubmVsKDEsICdDSDEnKVxyXG4gICAgICBdO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XmraPnoa7op6PmnpA46YCa6YGT5qih5byP5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmnoTpgKDmtYvor5XmlbDmja7vvJrmoLfmnKzmlbDph48oNOWtl+iKgikgKyDmoLfmnKzmlbDmja4oM+Wtl+iKgikgKyDml7bpl7TmiLPplb/luqYoMeWtl+iKgilcclxuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoOCk7XHJcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyLmJ1ZmZlcik7XHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQzMigwLCAzLCB0cnVlKTsgLy8gM+S4quagt+acrFxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDQsIDBiMDAwMDAwMDEpOyAvLyDmoLfmnKwxOiBDSDA9MVxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDUsIDBiMDAwMDAwMTApOyAvLyDmoLfmnKwyOiBDSDE9MVxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDYsIDBiMDAwMDAwMTEpOyAvLyDmoLfmnKwzOiBDSDA9MSwgQ0gxPTFcclxuICAgICAgdmlldy5zZXRVaW50OCg3LCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmF3UGFja2V0ID0gYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnBhcnNlUmF3RGF0YShzZXNzaW9uLCAzLCBDYXB0dXJlTW9kZS5DaGFubmVsc184KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyYXdQYWNrZXQubGVuZ3RoKS50b0JlKDMpO1xyXG4gICAgICBleHBlY3QocmF3UGFja2V0LnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQzMkFycmF5KFsxLCAyLCAzXSkpO1xyXG4gICAgICBleHBlY3QocmF3UGFja2V0LnRpbWVzdGFtcHMubGVuZ3RoKS50b0JlKDApO1xyXG4gICAgICBleHBlY3QocmF3UGFja2V0Lm1vZGUpLnRvQmUoQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruino+aekDE26YCa6YGT5qih5byP5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmnoTpgKDmtYvor5XmlbDmja7vvJrmoLfmnKzmlbDph48oNOWtl+iKgikgKyDmoLfmnKzmlbDmja4oNOWtl+iKgikgKyDml7bpl7TmiLPplb/luqYoMeWtl+iKgilcclxuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoOSk7XHJcbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyLmJ1ZmZlcik7XHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQzMigwLCAyLCB0cnVlKTsgLy8gMuS4quagt+acrFxyXG4gICAgICB2aWV3LnNldFVpbnQxNig0LCAweDAxMDEsIHRydWUpOyAvLyDmoLfmnKwxXHJcbiAgICAgIHZpZXcuc2V0VWludDE2KDYsIDB4MDIwMiwgdHJ1ZSk7IC8vIOagt+acrDJcclxuICAgICAgdmlldy5zZXRVaW50OCg4LCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmF3UGFja2V0ID0gYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnBhcnNlUmF3RGF0YShzZXNzaW9uLCAyLCBDYXB0dXJlTW9kZS5DaGFubmVsc18xNik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmF3UGFja2V0Lmxlbmd0aCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50MzJBcnJheShbMHgwMTAxLCAweDAyMDJdKSk7XHJcbiAgICAgIGV4cGVjdChyYXdQYWNrZXQubW9kZSkudG9CZShDYXB0dXJlTW9kZS5DaGFubmVsc18xNik7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruino+aekDI06YCa6YGT5qih5byP5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmnoTpgKDmtYvor5XmlbDmja7vvJrmoLfmnKzmlbDph48oNOWtl+iKgikgKyDmoLfmnKzmlbDmja4oOOWtl+iKgikgKyDml7bpl7TmiLPplb/luqYoMeWtl+iKgilcclxuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTMpO1xyXG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgMiwgdHJ1ZSk7IC8vIDLkuKrmoLfmnKxcclxuICAgICAgdmlldy5zZXRVaW50MzIoNCwgMHgwMTAxMDEwMSwgdHJ1ZSk7IC8vIOagt+acrDFcclxuICAgICAgdmlldy5zZXRVaW50MzIoOCwgMHgwMjAyMDIwMiwgdHJ1ZSk7IC8vIOagt+acrDJcclxuICAgICAgdmlldy5zZXRVaW50OCgxMiwgMCk7IC8vIOaXtumXtOaIs+mVv+W6plxyXG4gICAgICBcclxuICAgICAgKHByb2Nlc3NvciBhcyBhbnkpLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJhd1BhY2tldCA9IGF3YWl0IChwcm9jZXNzb3IgYXMgYW55KS5wYXJzZVJhd0RhdGEoc2Vzc2lvbiwgMiwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfMjQpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC5sZW5ndGgpLnRvQmUoMik7XHJcbiAgICAgIGV4cGVjdChyYXdQYWNrZXQuc2FtcGxlcykudG9FcXVhbChuZXcgVWludDMyQXJyYXkoWzB4MDEwMTAxMDEsIDB4MDIwMjAyMDJdKSk7XHJcbiAgICAgIGV4cGVjdChyYXdQYWNrZXQubW9kZSkudG9CZShDYXB0dXJlTW9kZS5DaGFubmVsc18yNCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruino+aekOW4puaXtumXtOaIs+eahOaVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgc2Vzc2lvbi5sb29wQ291bnQgPSAyO1xyXG4gICAgICBzZXNzaW9uLm1lYXN1cmVCdXJzdHMgPSB0cnVlO1xyXG4gICAgICBcclxuICAgICAgLy8g5p6E6YCg5rWL6K+V5pWw5o2u77ya5qC35pys5pWw6YePKDQpICsg5qC35pys5pWw5o2uKDIpICsg5pe26Ze05oiz6ZW/5bqmKDEpICsg5pe26Ze05oiz5pWw5o2uKDE2KSA9IDIz5a2X6IqCXHJcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIzKTtcclxuICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIuYnVmZmVyKTtcclxuICAgICAgXHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDAsIDIsIHRydWUpOyAvLyAy5Liq5qC35pysXHJcbiAgICAgIHZpZXcuc2V0VWludDgoNCwgMHgwMSk7XHJcbiAgICAgIHZpZXcuc2V0VWludDgoNSwgMHgwMik7XHJcbiAgICAgIHZpZXcuc2V0VWludDgoNiwgMTYpOyAvLyDml7bpl7TmiLPplb/luqbvvJo05Liq5pe26Ze05oizICogNOWtl+iKgiA9IDE25a2X6IqCXHJcbiAgICAgIFxyXG4gICAgICAvLyA05Liq5pe26Ze05oizIChsb29wQ291bnQgKyAyID0gNClcclxuICAgICAgdmlldy5zZXRVaW50MzIoNywgMHgxMDAwLCB0cnVlKTtcclxuICAgICAgdmlldy5zZXRVaW50MzIoMTEsIDB4MjAwMCwgdHJ1ZSk7XHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDE1LCAweDMwMDAsIHRydWUpO1xyXG4gICAgICB2aWV3LnNldFVpbnQzMigxOSwgMHg0MDAwLCB0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIChwcm9jZXNzb3IgYXMgYW55KS5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByYXdQYWNrZXQgPSBhd2FpdCAocHJvY2Vzc29yIGFzIGFueSkucGFyc2VSYXdEYXRhKHNlc3Npb24sIDIsIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC50aW1lc3RhbXBzLmxlbmd0aCkudG9CZSg0KTtcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC50aW1lc3RhbXBzWzBdKS50b0JlKEJpZ0ludCgweDEwMDApKTtcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC50aW1lc3RhbXBzWzFdKS50b0JlKEJpZ0ludCgweDIwMDApKTtcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC50aW1lc3RhbXBzWzJdKS50b0JlKEJpZ0ludCgweDMwMDApKTtcclxuICAgICAgZXhwZWN0KHJhd1BhY2tldC50aW1lc3RhbXBzWzNdKS50b0JlKEJpZ0ludCgweDQwMDApKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5Zyo5qC35pys5pWw6YeP5LiN5Yy56YWN5pe25Y+R5Ye66K2m5ZGKJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnd2FybicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSgxMCk7IC8vIDTlrZfoioLplb/luqYgKyA15a2X6IqC5qC35pysICsgMeWtl+iKguaXtumXtOaIs+mVv+W6plxyXG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgNSwgdHJ1ZSk7IC8vIOWjsOaYjuaciTXkuKrmoLfmnKxcclxuICAgICAgdmlldy5zZXRVaW50OCg0LCAweDAxKTtcclxuICAgICAgdmlldy5zZXRVaW50OCg1LCAweDAyKTtcclxuICAgICAgdmlldy5zZXRVaW50OCg2LCAweDAzKTtcclxuICAgICAgdmlldy5zZXRVaW50OCg3LCAweDA0KTtcclxuICAgICAgdmlldy5zZXRVaW50OCg4LCAweDA1KTtcclxuICAgICAgdmlldy5zZXRVaW50OCg5LCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnBhcnNlUmF3RGF0YShzZXNzaW9uLCAyLCBDYXB0dXJlTW9kZS5DaGFubmVsc184KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnU2FtcGxlIGNvdW50IG1pc21hdGNoLiBFeHBlY3RlZCAyLCBnb3QgNScpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ+agt+acrOaVsOaNruWkhOeQhua1i+ivlScsICgpID0+IHtcclxuICAgIGxldCBwcm9jZXNzb3I6IERhdGFTdHJlYW1Qcm9jZXNzb3I7XHJcbiAgICBsZXQgc2Vzc2lvbjogQ2FwdHVyZVNlc3Npb247XHJcbiAgICBsZXQgbW9ja0V2ZW50czogUGFydGlhbDxEYXRhU3RyZWFtRXZlbnRzPjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIG1vY2tFdmVudHMgPSB7XHJcbiAgICAgICAgb25EYXRhUmVjZWl2ZWQ6IGplc3QuZm4oKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcHJvY2Vzc29yID0gbmV3IERhdGFTdHJlYW1Qcm9jZXNzb3Ioe30sIG1vY2tFdmVudHMpO1xyXG4gICAgICBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICAgIHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzID0gW1xyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMCwgJ0NIMCcpLFxyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMSwgJ0NIMScpLFxyXG4gICAgICAgIG5ldyBBbmFseXplckNoYW5uZWwoMiwgJ0NIMicpXHJcbiAgICAgIF07XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruaPkOWPlumAmumBk+agt+acrCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmF3UGFja2V0OiBSYXdEYXRhUGFja2V0ID0ge1xyXG4gICAgICAgIGxlbmd0aDogNCxcclxuICAgICAgICBzYW1wbGVzOiBuZXcgVWludDMyQXJyYXkoW1xyXG4gICAgICAgICAgMGIwMDEsIC8vIENIMD0xXHJcbiAgICAgICAgICAwYjAxMCwgLy8gQ0gxPTFcclxuICAgICAgICAgIDBiMTAwLCAvLyBDSDI9MVxyXG4gICAgICAgICAgMGIxMTEgIC8vIENIMD0xLCBDSDE9MSwgQ0gyPTFcclxuICAgICAgICBdKSxcclxuICAgICAgICB0aW1lc3RhbXBzOiBuZXcgQmlnVWludDY0QXJyYXkoMCksXHJcbiAgICAgICAgbW9kZTogQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnByb2Nlc3NTYW1wbGVEYXRhKHNlc3Npb24sIHJhd1BhY2tldCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4FDSDDmoLfmnKxcclxuICAgICAgZXhwZWN0KHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzWzBdLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzEsIDAsIDAsIDFdKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4FDSDHmoLfmnKxcclxuICAgICAgZXhwZWN0KHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzWzFdLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzAsIDEsIDAsIDFdKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4FDSDLmoLfmnKxcclxuICAgICAgZXhwZWN0KHNlc3Npb24uY2FwdHVyZUNoYW5uZWxzWzJdLnNhbXBsZXMpLnRvRXF1YWwobmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDEsIDFdKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4Hkuovku7booqvop6blj5FcclxuICAgICAgZXhwZWN0KG1vY2tFdmVudHMub25EYXRhUmVjZWl2ZWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHJhd1BhY2tldCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruWkhOeQhuepuuagt+acrOaVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmF3UGFja2V0OiBSYXdEYXRhUGFja2V0ID0ge1xyXG4gICAgICAgIGxlbmd0aDogMCxcclxuICAgICAgICBzYW1wbGVzOiBuZXcgVWludDMyQXJyYXkoMCksXHJcbiAgICAgICAgdGltZXN0YW1wczogbmV3IEJpZ1VpbnQ2NEFycmF5KDApLFxyXG4gICAgICAgIG1vZGU6IENhcHR1cmVNb2RlLkNoYW5uZWxzXzhcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IChwcm9jZXNzb3IgYXMgYW55KS5wcm9jZXNzU2FtcGxlRGF0YShzZXNzaW9uLCByYXdQYWNrZXQpO1xyXG4gICAgICBcclxuICAgICAgc2Vzc2lvbi5jYXB0dXJlQ2hhbm5lbHMuZm9yRWFjaChjaGFubmVsID0+IHtcclxuICAgICAgICBleHBlY3QoY2hhbm5lbC5zYW1wbGVzKS50b0VxdWFsKG5ldyBVaW50OEFycmF5KDApKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBcclxuICBkZXNjcmliZSgn56qB5Y+R5pWw5o2u5aSE55CG5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgbGV0IHByb2Nlc3NvcjogRGF0YVN0cmVhbVByb2Nlc3NvcjtcclxuICAgIGxldCBzZXNzaW9uOiBDYXB0dXJlU2Vzc2lvbjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIHByb2Nlc3NvciA9IG5ldyBEYXRhU3RyZWFtUHJvY2Vzc29yKCk7XHJcbiAgICAgIHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5mcmVxdWVuY3kgPSAxMDAwMDAwOyAvLyAxTUh6XHJcbiAgICAgIHNlc3Npb24ucHJlVHJpZ2dlclNhbXBsZXMgPSAxMDA7XHJcbiAgICAgIHNlc3Npb24ucG9zdFRyaWdnZXJTYW1wbGVzID0gOTAwO1xyXG4gICAgICBzZXNzaW9uLmxvb3BDb3VudCA9IDI7XHJcbiAgICAgIHNlc3Npb24ubWVhc3VyZUJ1cnN0cyA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruWkhOeQhueqgeWPkeaVsOaNricsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmF3UGFja2V0OiBSYXdEYXRhUGFja2V0ID0ge1xyXG4gICAgICAgIGxlbmd0aDogMzAwMCxcclxuICAgICAgICBzYW1wbGVzOiBuZXcgVWludDMyQXJyYXkoMzAwMCksXHJcbiAgICAgICAgdGltZXN0YW1wczogbmV3IEJpZ1VpbnQ2NEFycmF5KFtcclxuICAgICAgICAgIEJpZ0ludCgweDEwMDApLFxyXG4gICAgICAgICAgQmlnSW50KDB4MjAwMCksXHJcbiAgICAgICAgICBCaWdJbnQoMHgzMDAwKSxcclxuICAgICAgICAgIEJpZ0ludCgweDQwMDApXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgbW9kZTogQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnByb2Nlc3NCdXJzdERhdGEoc2Vzc2lvbiwgcmF3UGFja2V0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzZXNzaW9uLmJ1cnN0cykudG9IYXZlTGVuZ3RoKDMpOyAvLyBsb29wQ291bnQgKyAxXHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4HnrKzkuIDkuKrnqoHlj5FcclxuICAgICAgY29uc3QgZmlyc3RCdXJzdCA9IHNlc3Npb24uYnVyc3RzIVswXTtcclxuICAgICAgZXhwZWN0KGZpcnN0QnVyc3QuYnVyc3RTYW1wbGVTdGFydCkudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KGZpcnN0QnVyc3QuYnVyc3RTYW1wbGVFbmQpLnRvQmUoMTAwMCk7IC8vIHByZVRyaWdnZXJTYW1wbGVzICsgcG9zdFRyaWdnZXJTYW1wbGVzXHJcbiAgICAgIGV4cGVjdChmaXJzdEJ1cnN0LmJ1cnN0U2FtcGxlR2FwKS50b0JlKDApO1xyXG4gICAgICBleHBlY3QoZmlyc3RCdXJzdC5idXJzdFRpbWVHYXApLnRvQmUoMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDpqozor4HnrKzkuozkuKrnqoHlj5FcclxuICAgICAgY29uc3Qgc2Vjb25kQnVyc3QgPSBzZXNzaW9uLmJ1cnN0cyFbMV07XHJcbiAgICAgIGV4cGVjdChzZWNvbmRCdXJzdC5idXJzdFNhbXBsZVN0YXJ0KS50b0JlKDEwMCk7IC8vIHByZVRyaWdnZXJTYW1wbGVzXHJcbiAgICAgIGV4cGVjdChzZWNvbmRCdXJzdC5idXJzdFNhbXBsZUVuZCkudG9CZSgxMDAwKTsgLy8gcHJlVHJpZ2dlclNhbXBsZXMgKyBwb3N0VHJpZ2dlclNhbXBsZXNcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6LCD5pW05pe26Ze05oizJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByYXdQYWNrZXQ6IFJhd0RhdGFQYWNrZXQgPSB7XHJcbiAgICAgICAgbGVuZ3RoOiAxMDAwLFxyXG4gICAgICAgIHNhbXBsZXM6IG5ldyBVaW50MzJBcnJheSgxMDAwKSxcclxuICAgICAgICB0aW1lc3RhbXBzOiBuZXcgQmlnVWludDY0QXJyYXkoW1xyXG4gICAgICAgICAgQmlnSW50KDB4RkYxMjM0NTYpLCAvLyDpnIDopoHosIPmlbTkvY4yNOS9jVxyXG4gICAgICAgICAgQmlnSW50KDB4RkU2NTQzMjEpXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgbW9kZTogQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnByb2Nlc3NCdXJzdERhdGEoc2Vzc2lvbiwgcmF3UGFja2V0KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOaXtumXtOaIs+iwg+aVtOmAu+i+keW3suWcqHByb2Nlc3NCdXJzdERhdGHkuK3lrp7njrBcclxuICAgICAgLy8g6L+Z6YeM5Li76KaB6aqM6K+B5LiN5Lya5oqb5Ye66ZSZ6K+v5LiU55Sf5oiQ5LqG5q2j56Gu5pWw6YeP55qE56qB5Y+RXHJcbiAgICAgIGV4cGVjdChzZXNzaW9uLmJ1cnN0cykudG9IYXZlTGVuZ3RoKDMpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGl0KCflupTor6XlpITnkIbnqbrml7bpl7TmiLPmlbDmja4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhd1BhY2tldDogUmF3RGF0YVBhY2tldCA9IHtcclxuICAgICAgICBsZW5ndGg6IDEwMDAsXHJcbiAgICAgICAgc2FtcGxlczogbmV3IFVpbnQzMkFycmF5KDEwMDApLFxyXG4gICAgICAgIHRpbWVzdGFtcHM6IG5ldyBCaWdVaW50NjRBcnJheSgwKSwgLy8g56m65pe26Ze05oizXHJcbiAgICAgICAgbW9kZTogQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfOFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgKHByb2Nlc3NvciBhcyBhbnkpLnByb2Nlc3NCdXJzdERhdGEoc2Vzc2lvbiwgcmF3UGFja2V0KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOW6lOivpeebtOaOpei/lOWbnu+8jOS4jeWkhOeQhueqgeWPkeaVsOaNrlxyXG4gICAgICBleHBlY3Qoc2Vzc2lvbi5idXJzdHMpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGRlc2NyaWJlKCfov5vluqbmiqXlkYrmtYvor5UnLCAoKSA9PiB7XHJcbiAgICBsZXQgcHJvY2Vzc29yOiBEYXRhU3RyZWFtUHJvY2Vzc29yO1xyXG4gICAgbGV0IG1vY2tFdmVudHM6IFBhcnRpYWw8RGF0YVN0cmVhbUV2ZW50cz47XHJcbiAgICBcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICBtb2NrRXZlbnRzID0ge1xyXG4gICAgICAgIG9uUHJvZ3Jlc3M6IGplc3QuZm4oKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgcHJvY2Vzc29yID0gbmV3IERhdGFTdHJlYW1Qcm9jZXNzb3Ioe30sIG1vY2tFdmVudHMpO1xyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkuc3RhcnRUaW1lID0gRGF0ZS5ub3coKSAtIDEwMDA7IC8vIDHnp5LliY3lvIDlp4tcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5q2j56Gu6K6h566X5ZKM5oql5ZGK6L+b5bqmJywgKCkgPT4ge1xyXG4gICAgICAocHJvY2Vzc29yIGFzIGFueSkucmVwb3J0UHJvZ3Jlc3MoNTAwLCAxMDAwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrRXZlbnRzLm9uUHJvZ3Jlc3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIGJ5dGVzUmVhZDogNTAwLFxyXG4gICAgICAgICAgdG90YWxCeXRlczogMTAwMCxcclxuICAgICAgICAgIHByb2dyZXNzOiA1MCxcclxuICAgICAgICAgIHNhbXBsZXNSZWFkOiAxMjUsIC8vIDUwMCAvIDRcclxuICAgICAgICAgIHRvdGFsU2FtcGxlczogMjUwLCAvLyAxMDAwIC8gNFxyXG4gICAgICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZzogZXhwZWN0LmFueShOdW1iZXIpXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5bCG6L+b5bqm6ZmQ5Yi25ZyoMTAwJeS7peWGhScsICgpID0+IHtcclxuICAgICAgKHByb2Nlc3NvciBhcyBhbnkpLnJlcG9ydFByb2dyZXNzKDE1MDAsIDEwMDApOyAvLyDotoXov4fmgLvlrZfoioLmlbBcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHByb2dyZXNzQ2FsbCA9IChtb2NrRXZlbnRzLm9uUHJvZ3Jlc3MgYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzWzBdWzBdO1xyXG4gICAgICBleHBlY3QocHJvZ3Jlc3NDYWxsLnByb2dyZXNzKS50b0JlKDEwMCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeato+ehruiuoeeul+WJqeS9meaXtumXtCcsICgpID0+IHtcclxuICAgICAgKHByb2Nlc3NvciBhcyBhbnkpLnJlcG9ydFByb2dyZXNzKDI1MCwgMTAwMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcm9ncmVzc0NhbGwgPSAobW9ja0V2ZW50cy5vblByb2dyZXNzIGFzIGplc3QuTW9jaykubW9jay5jYWxsc1swXVswXTtcclxuICAgICAgZXhwZWN0KHByb2dyZXNzQ2FsbC5lc3RpbWF0ZWRUaW1lUmVtYWluaW5nKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgZGVzY3JpYmUoJ+WujOaVtOaVsOaNrua1geWkhOeQhua1i+ivlScsICgpID0+IHtcclxuICAgIGxldCBwcm9jZXNzb3I6IERhdGFTdHJlYW1Qcm9jZXNzb3I7XHJcbiAgICBsZXQgc2Vzc2lvbjogQ2FwdHVyZVNlc3Npb247XHJcbiAgICBsZXQgbW9ja0V2ZW50czogUGFydGlhbDxEYXRhU3RyZWFtRXZlbnRzPjtcclxuICAgIFxyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIG1vY2tFdmVudHMgPSB7XHJcbiAgICAgICAgb25Qcm9ncmVzczogamVzdC5mbigpLFxyXG4gICAgICAgIG9uRGF0YVJlY2VpdmVkOiBqZXN0LmZuKCksXHJcbiAgICAgICAgb25Db21wbGV0ZWQ6IGplc3QuZm4oKSxcclxuICAgICAgICBvbkVycm9yOiBqZXN0LmZuKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHByb2Nlc3NvciA9IG5ldyBEYXRhU3RyZWFtUHJvY2Vzc29yKHtcclxuICAgICAgICBlbmFibGVQcm9ncmVzczogdHJ1ZVxyXG4gICAgICB9LCBtb2NrRXZlbnRzKTtcclxuICAgICAgXHJcbiAgICAgIHNlc3Npb24gPSBuZXcgQ2FwdHVyZVNlc3Npb24oKTtcclxuICAgICAgc2Vzc2lvbi5mcmVxdWVuY3kgPSAxMDAwMDAwO1xyXG4gICAgICBzZXNzaW9uLnByZVRyaWdnZXJTYW1wbGVzID0gMTAwO1xyXG4gICAgICBzZXNzaW9uLnBvc3RUcmlnZ2VyU2FtcGxlcyA9IDkwMDtcclxuICAgICAgc2Vzc2lvbi5jYXB0dXJlQ2hhbm5lbHMgPSBbXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgwLCAnQ0gwJyksXHJcbiAgICAgICAgbmV3IEFuYWx5emVyQ2hhbm5lbCgxLCAnQ0gxJylcclxuICAgICAgXTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpdCgn5bqU6K+l5a6M5oiQ5a6M5pW055qE5pWw5o2u5rWB5aSE55CG5bel5L2c5rWBJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyDmnoTpgKDlrozmlbTnmoTmtYvor5XmlbDmja5cclxuICAgICAgY29uc3QgZXhwZWN0ZWRTYW1wbGVzID0gMTAwMDtcclxuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTAwNSk7IC8vIDQgKyAxMDAwICsgMVxyXG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgZXhwZWN0ZWRTYW1wbGVzLCB0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOWhq+WFheagt+acrOaVsOaNrlxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cGVjdGVkU2FtcGxlczsgaSsrKSB7XHJcbiAgICAgICAgdmlldy5zZXRVaW50OCg0ICsgaSwgaSAlIDQpOyAvLyDlvqrnjq/mqKHlvI9cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50OCgxMDA0LCAwKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdHJlYW0gPSBEYXRhU3RyZWFtRmFjdG9yeS5jcmVhdGVCdWZmZXJTdHJlYW0oYnVmZmVyKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5yZWFkQ2FwdHVyZURhdGEoc3RyZWFtLCBzZXNzaW9uLCBleHBlY3RlZFNhbXBsZXMsIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+B57uT5p6cXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoc2Vzc2lvbik7XHJcbiAgICAgIGV4cGVjdChwcm9jZXNzb3IuZ2V0U3RhdGUoKSkudG9CZShEYXRhU3RyZWFtU3RhdGUuQ29tcGxldGVkKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOmqjOivgemAmumBk+aVsOaNrlxyXG4gICAgICBleHBlY3Qoc2Vzc2lvbi5jYXB0dXJlQ2hhbm5lbHNbMF0uc2FtcGxlcykudG9IYXZlTGVuZ3RoKGV4cGVjdGVkU2FtcGxlcyk7XHJcbiAgICAgIGV4cGVjdChzZXNzaW9uLmNhcHR1cmVDaGFubmVsc1sxXS5zYW1wbGVzKS50b0hhdmVMZW5ndGgoZXhwZWN0ZWRTYW1wbGVzKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOmqjOivgeS6i+S7tuiiq+iwg+eUqFxyXG4gICAgICBleHBlY3QobW9ja0V2ZW50cy5vbkNvbXBsZXRlZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoc2Vzc2lvbik7XHJcbiAgICAgIGV4cGVjdChtb2NrRXZlbnRzLm9uRGF0YVJlY2VpdmVkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhuaVsOaNrua1gemUmeivrycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZXJyb3JTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xyXG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IobmV3IEVycm9yKCdTdHJlYW0gZXJyb3InKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzb3IucmVhZENhcHR1cmVEYXRhKGVycm9yU3RyZWFtLCBzZXNzaW9uLCAxMDAwLCBDYXB0dXJlTW9kZS5DaGFubmVsc184KSlcclxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdTdHJlYW0gZXJyb3InKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChwcm9jZXNzb3IuZ2V0U3RhdGUoKSkudG9CZShEYXRhU3RyZWFtU3RhdGUuRXJyb3IpO1xyXG4gICAgICBleHBlY3QobW9ja0V2ZW50cy5vbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaXQoJ+W6lOivpeWkhOeQhuW4pueqgeWPkeaooeW8j+eahOWujOaVtOW3peS9nOa1gScsIGFzeW5jICgpID0+IHtcclxuICAgICAgc2Vzc2lvbi5sb29wQ291bnQgPSAxO1xyXG4gICAgICBzZXNzaW9uLm1lYXN1cmVCdXJzdHMgPSB0cnVlO1xyXG4gICAgICBcclxuICAgICAgLy8g5p6E6YCg5bim5pe26Ze05oiz55qE5rWL6K+V5pWw5o2uXHJcbiAgICAgIGNvbnN0IGV4cGVjdGVkU2FtcGxlcyA9IDEwMDA7XHJcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEwMTcpOyAvLyA0ICsgMTAwMCArIDEgKyAxMiAoM+S4quaXtumXtOaIsyo05a2X6IqCKVxyXG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xyXG4gICAgICBcclxuICAgICAgdmlldy5zZXRVaW50MzIoMCwgZXhwZWN0ZWRTYW1wbGVzLCB0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIOWhq+WFheagt+acrOaVsOaNrlxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cGVjdGVkU2FtcGxlczsgaSsrKSB7XHJcbiAgICAgICAgdmlldy5zZXRVaW50OCg0ICsgaSwgaSAlIDIpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB2aWV3LnNldFVpbnQ4KDEwMDQsIDEyKTsgLy8g5pe26Ze05oiz6ZW/5bqmXHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDEwMDUsIDB4MTAwMCwgdHJ1ZSk7XHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDEwMDksIDB4MjAwMCwgdHJ1ZSk7XHJcbiAgICAgIHZpZXcuc2V0VWludDMyKDEwMTMsIDB4MzAwMCwgdHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdHJlYW0gPSBEYXRhU3RyZWFtRmFjdG9yeS5jcmVhdGVCdWZmZXJTdHJlYW0oYnVmZmVyKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3Nvci5yZWFkQ2FwdHVyZURhdGEoc3RyZWFtLCBzZXNzaW9uLCBleHBlY3RlZFNhbXBsZXMsIENhcHR1cmVNb2RlLkNoYW5uZWxzXzgpO1xyXG4gICAgICBcclxuICAgICAgLy8g6aqM6K+B56qB5Y+R5pWw5o2u6KKr5aSE55CGXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuYnVyc3RzKS50b0hhdmVMZW5ndGgoMik7IC8vIGxvb3BDb3VudCArIDFcclxuICAgICAgZXhwZWN0KG1vY2tFdmVudHMub25Db21wbGV0ZWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHNlc3Npb24pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0RhdGFTdHJlYW1GYWN0b3J5IOW3peWOguexu+a1i+ivlScsICgpID0+IHtcclxuICBcclxuICBpdCgn5bqU6K+l5Yib5bu6QnVmZmVy5rWBJywgKCkgPT4ge1xyXG4gICAgY29uc3QgdGVzdEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzLCA0LCA1XSk7XHJcbiAgICBjb25zdCBzdHJlYW0gPSBEYXRhU3RyZWFtRmFjdG9yeS5jcmVhdGVCdWZmZXJTdHJlYW0odGVzdEJ1ZmZlcik7XHJcbiAgICBcclxuICAgIGV4cGVjdChzdHJlYW0pLnRvQmVJbnN0YW5jZU9mKFJlYWRhYmxlU3RyZWFtKTtcclxuICB9KTtcclxuICBcclxuICBpdCgnQnVmZmVy5rWB5bqU6K+l5q2j56Gu5o+Q5L6b5pWw5o2uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdGVzdEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KFsxLCAyLCAzLCA0LCA1XSk7XHJcbiAgICBjb25zdCBzdHJlYW0gPSBEYXRhU3RyZWFtRmFjdG9yeS5jcmVhdGVCdWZmZXJTdHJlYW0odGVzdEJ1ZmZlcik7XHJcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChkb25lKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdCh2YWx1ZSkudG9FcXVhbCh0ZXN0QnVmZmVyKTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBkb25lOiBkb25lMiB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcclxuICAgIGV4cGVjdChkb25lMikudG9CZSh0cnVlKTtcclxuICAgIFxyXG4gICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeWIm+W7uue9kee7nOa1gScsICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tTb2NrZXQgPSB7XHJcbiAgICAgIG9uOiBqZXN0LmZuKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHN0cmVhbSA9IERhdGFTdHJlYW1GYWN0b3J5LmNyZWF0ZU5ldHdvcmtTdHJlYW0obW9ja1NvY2tldCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChzdHJlYW0pLnRvQmVJbnN0YW5jZU9mKFJlYWRhYmxlU3RyZWFtKTtcclxuICAgIGV4cGVjdChtb2NrU29ja2V0Lm9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZGF0YScsIGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcclxuICAgIGV4cGVjdChtb2NrU29ja2V0Lm9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZW5kJywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xyXG4gICAgZXhwZWN0KG1vY2tTb2NrZXQub24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdlcnJvcicsIGV4cGVjdC5hbnkoRnVuY3Rpb24pKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5Yib5bu65Liy5Y+j5rWBJywgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1BvcnQgPSB7fTtcclxuICAgIGNvbnN0IHN0cmVhbSA9IERhdGFTdHJlYW1GYWN0b3J5LmNyZWF0ZVNlcmlhbFN0cmVhbShtb2NrUG9ydCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChzdHJlYW0pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodHlwZW9mIHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCfkuLLlj6PmtYHlupTor6XmraPnoa7lpITnkIbmlbDmja4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB0ZXN0RGF0YSA9IFtuZXcgVWludDhBcnJheShbMSwgMiwgM10pLCBuZXcgVWludDhBcnJheShbNCwgNSwgNl0pXTtcclxuICAgIGNvbnN0IG1vY2tQb3J0ID0ge1xyXG4gICAgICAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgdGVzdERhdGEpIHtcclxuICAgICAgICAgIHlpZWxkIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBzdHJlYW0gPSBEYXRhU3RyZWFtRmFjdG9yeS5jcmVhdGVTZXJpYWxTdHJlYW0obW9ja1BvcnQpO1xyXG4gICAgY29uc3QgcmVzdWx0czogVWludDhBcnJheVtdID0gW107XHJcbiAgICBcclxuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XHJcbiAgICAgIHJlc3VsdHMucHVzaChjaHVuayk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICBleHBlY3QocmVzdWx0c1swXSkudG9FcXVhbCh0ZXN0RGF0YVswXSk7XHJcbiAgICBleHBlY3QocmVzdWx0c1sxXSkudG9FcXVhbCh0ZXN0RGF0YVsxXSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCfnvZHnu5zmtYHlupTor6XmraPnoa7lpITnkIbmlbDmja7lkoznu5PmnZ/kuovku7YnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgZGF0YUNhbGxiYWNrOiBGdW5jdGlvbjtcclxuICAgIGxldCBlbmRDYWxsYmFjazogRnVuY3Rpb247XHJcbiAgICBcclxuICAgIGNvbnN0IG1vY2tTb2NrZXQgPSB7XHJcbiAgICAgIG9uOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChldmVudCwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQgPT09ICdkYXRhJykge1xyXG4gICAgICAgICAgZGF0YUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcclxuICAgICAgICAgIGVuZENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3Qgc3RyZWFtID0gRGF0YVN0cmVhbUZhY3RvcnkuY3JlYXRlTmV0d29ya1N0cmVhbShtb2NrU29ja2V0KTtcclxuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcclxuICAgIFxyXG4gICAgLy8g5qih5ouf5o6l5pS25pWw5o2uXHJcbiAgICBjb25zdCB0ZXN0QnVmZmVyID0gQnVmZmVyLmZyb20oWzEsIDIsIDMsIDRdKTtcclxuICAgIGRhdGFDYWxsYmFjayEodGVzdEJ1ZmZlcik7XHJcbiAgICBcclxuICAgIC8vIOmqjOivgeaVsOaNrlxyXG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcclxuICAgIGV4cGVjdChkb25lKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdCh2YWx1ZSkudG9FcXVhbChuZXcgVWludDhBcnJheShbMSwgMiwgMywgNF0pKTtcclxuICAgIFxyXG4gICAgLy8g57uT5p2f5rWBXHJcbiAgICBlbmRDYWxsYmFjayEoKTtcclxuICAgIFxyXG4gICAgLy8g6aqM6K+B5rWB57uT5p2fXHJcbiAgICBjb25zdCB7IGRvbmU6IGRvbmUyIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xyXG4gICAgZXhwZWN0KGRvbmUyKS50b0JlKHRydWUpO1xyXG4gICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0RhdGFTdHJlYW1Nb25pdG9yIOebkeaOp+WZqOa1i+ivlScsICgpID0+IHtcclxuICBsZXQgbW9uaXRvcjogRGF0YVN0cmVhbU1vbml0b3I7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBtb25pdG9yID0gbmV3IERhdGFTdHJlYW1Nb25pdG9yKCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeato+ehruWIneWni+WMluebkeaOp+WZqCcsICgpID0+IHtcclxuICAgIGNvbnN0IHN0YXRzID0gbW9uaXRvci5nZXRTdGF0aXN0aWNzKCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChzdGF0cy5lbGFwc2VkVGltZSkudG9CZSgwKTtcclxuICAgIGV4cGVjdChzdGF0cy5ieXRlc1BlclNlY29uZCkudG9CZSgwKTtcclxuICAgIGV4cGVjdChzdGF0cy5zYW1wbGVzUGVyU2Vjb25kKS50b0JlKDApO1xyXG4gICAgZXhwZWN0KHN0YXRzLmVmZmljaWVuY3kpLnRvQmUoMCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeato+ehruWQr+WKqOebkeaOpycsICgpID0+IHtcclxuICAgIGNvbnN0IGJlZm9yZVN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgIG1vbml0b3Iuc3RhcnQoKTtcclxuICAgIGNvbnN0IGFmdGVyU3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzdGF0cyA9IG1vbml0b3IuZ2V0U3RhdGlzdGljcygpO1xyXG4gICAgZXhwZWN0KHN0YXRzLmVsYXBzZWRUaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgZXhwZWN0KHN0YXRzLmVsYXBzZWRUaW1lKS50b0JlTGVzc1RoYW4oYWZ0ZXJTdGFydCAtIGJlZm9yZVN0YXJ0ICsgMTAwKTsgLy8g5YWB6K645LiA5Lqb6K+v5beuXHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeato+ehruabtOaWsOebkeaOp+aVsOaNricsIChkb25lKSA9PiB7XHJcbiAgICBtb25pdG9yLnN0YXJ0KCk7XHJcbiAgICBtb25pdG9yLnVwZGF0ZSgxMDAwLCAyNTApO1xyXG4gICAgXHJcbiAgICAvLyDnrYnlvoXkuIDlsI/mrrXml7bpl7Tku6XojrflvpfmnInmhI/kuYnnmoTnu5/orqFcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGF0cyA9IG1vbml0b3IuZ2V0U3RhdGlzdGljcygpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHN0YXRzLmVsYXBzZWRUaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy5ieXRlc1BlclNlY29uZCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuc2FtcGxlc1BlclNlY29uZCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHMuZWZmaWNpZW5jeSkudG9CZSg0KTsgLy8gMTAwMCBieXRlcyAvIDI1MCBzYW1wbGVzID0gNFxyXG4gICAgICBkb25lKCk7XHJcbiAgICB9LCAxMCk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgaXQoJ+W6lOivpeato+ehruiuoeeul+aAp+iDvee7n+iuoScsICgpID0+IHtcclxuICAgIGNvbnN0IG9yaWdpbmFsTm93ID0gRGF0ZS5ub3c7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSAxMDAwMDAwMDAwOyAvLyDlm7rlrprnmoTlvIDlp4vml7bpl7RcclxuICAgIFxyXG4gICAgLy8gTW9jayBEYXRlLm5vdyDov5Tlm57lm7rlrprnmoTlvIDlp4vml7bpl7RcclxuICAgIERhdGUubm93ID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShzdGFydFRpbWUpO1xyXG4gICAgbW9uaXRvci5zdGFydCgpO1xyXG4gICAgXHJcbiAgICAvLyBNb2NrIERhdGUubm93IOi/lOWbnjHnp5LlkI7nmoTml7bpl7RcclxuICAgIERhdGUubm93ID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShzdGFydFRpbWUgKyAxMDAwKTtcclxuICAgIG1vbml0b3IudXBkYXRlKDIwMDAsIDUwMCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHN0YXRzID0gbW9uaXRvci5nZXRTdGF0aXN0aWNzKCk7XHJcbiAgICBcclxuICAgIGV4cGVjdChzdGF0cy5lbGFwc2VkVGltZSkudG9CZSgxMDAwKTtcclxuICAgIGV4cGVjdChzdGF0cy5ieXRlc1BlclNlY29uZCkudG9CZSgyMDAwKTsgLy8gMjAwMCBieXRlcyAvIDEgc2Vjb25kXHJcbiAgICBleHBlY3Qoc3RhdHMuc2FtcGxlc1BlclNlY29uZCkudG9CZSg1MDApOyAvLyA1MDAgc2FtcGxlcyAvIDEgc2Vjb25kXHJcbiAgICBleHBlY3Qoc3RhdHMuZWZmaWNpZW5jeSkudG9CZSg0KTsgLy8gMjAwMCAvIDUwMFxyXG4gICAgXHJcbiAgICBEYXRlLm5vdyA9IG9yaWdpbmFsTm93O1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCflupTor6XlpITnkIbpm7bpmaTmg4XlhrUnLCAoKSA9PiB7XHJcbiAgICBtb25pdG9yLnN0YXJ0KCk7XHJcbiAgICBtb25pdG9yLnVwZGF0ZSgwLCAwKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc3RhdHMgPSBtb25pdG9yLmdldFN0YXRpc3RpY3MoKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHN0YXRzLmJ5dGVzUGVyU2Vjb25kKS50b0JlKDApO1xyXG4gICAgZXhwZWN0KHN0YXRzLnNhbXBsZXNQZXJTZWNvbmQpLnRvQmUoMCk7XHJcbiAgICBleHBlY3Qoc3RhdHMuZWZmaWNpZW5jeSkudG9CZSgwKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgn6L6555WM5p2h5Lu25ZKM6ZSZ6K+v5aSE55CG5rWL6K+VJywgKCkgPT4ge1xyXG4gIGxldCBwcm9jZXNzb3I6IERhdGFTdHJlYW1Qcm9jZXNzb3I7XHJcbiAgXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBwcm9jZXNzb3IgPSBuZXcgRGF0YVN0cmVhbVByb2Nlc3NvcigpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGl0KCflupTor6XlpITnkIbnqbrmlbDmja7mtYEnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBlbXB0eVN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcclxuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zdCBzZXNzaW9uID0gbmV3IENhcHR1cmVTZXNzaW9uKCk7XHJcbiAgICBzZXNzaW9uLmNhcHR1cmVDaGFubmVscyA9IFtdO1xyXG4gICAgXHJcbiAgICBhd2FpdCBleHBlY3QocHJvY2Vzc29yLnJlYWRDYXB0dXJlRGF0YShlbXB0eVN0cmVhbSwgc2Vzc2lvbiwgMTAwLCBDYXB0dXJlTW9kZS5DaGFubmVsc184KSlcclxuICAgICAgLnJlamVjdHMudG9UaHJvdygnUHJlbWF0dXJlIGVuZCBvZiBzdHJlYW0nKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG5peg5pWI55qE6YeH6ZuG5qih5byPJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoOSk7XHJcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xyXG4gICAgdmlldy5zZXRVaW50MzIoMCwgMSwgdHJ1ZSk7XHJcbiAgICB2aWV3LnNldFVpbnQ4KDQsIDB4MDEpO1xyXG4gICAgdmlldy5zZXRVaW50OCg1LCAwKTtcclxuICAgIFxyXG4gICAgKHByb2Nlc3NvciBhcyBhbnkpLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgIFxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBDYXB0dXJlU2Vzc2lvbigpO1xyXG4gICAgXHJcbiAgICAvLyDkvb/nlKjml6DmlYjnmoTph4fpm4bmqKHlvI9cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChwcm9jZXNzb3IgYXMgYW55KS5wYXJzZVJhd0RhdGEoc2Vzc2lvbiwgMSwgOTk5IGFzIENhcHR1cmVNb2RlKTtcclxuICAgIFxyXG4gICAgLy8g5bqU6K+l6IO95aSE55CG6ICM5LiN5bSp5rqDXHJcbiAgICBleHBlY3QocmVzdWx0Lmxlbmd0aCkudG9CZSgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuc2FtcGxlcykudG9CZURlZmluZWQoKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG6LaF5aSn55qE57yT5Yay5Yy66ZW/5bqmJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBDYXB0dXJlU2Vzc2lvbigpO1xyXG4gICAgc2Vzc2lvbi5sb29wQ291bnQgPSAxMDAwMDAwOyAvLyDpnZ7luLjlpKfnmoTlvqrnjq/orqHmlbBcclxuICAgIHNlc3Npb24ubWVhc3VyZUJ1cnN0cyA9IHRydWU7XHJcbiAgICBcclxuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IChwcm9jZXNzb3IgYXMgYW55KS5jYWxjdWxhdGVCdWZmZXJMZW5ndGgoMTAwMDAwMCwgQ2FwdHVyZU1vZGUuQ2hhbm5lbHNfMjQsIHNlc3Npb24pO1xyXG4gICAgXHJcbiAgICAvLyDlupTor6XorqHnrpflh7rlkIjnkIbnmoTnvJPlhrLljLrplb/luqbogIzkuI3ltKnmuoNcclxuICAgIGV4cGVjdChidWZmZXJMZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIGV4cGVjdCh0eXBlb2YgYnVmZmVyTGVuZ3RoKS50b0JlKCdudW1iZXInKTtcclxuICB9KTtcclxuICBcclxuICBpdCgn5bqU6K+l5aSE55CG572R57uc5rWB55qE6ZSZ6K+v5LqL5Lu2JywgKCkgPT4ge1xyXG4gICAgbGV0IGVycm9yQ2FsbGJhY2s6IEZ1bmN0aW9uO1xyXG4gICAgY29uc3QgbW9ja1NvY2tldCA9IHtcclxuICAgICAgb246IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKGV2ZW50LCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgICAgZXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHN0cmVhbSA9IERhdGFTdHJlYW1GYWN0b3J5LmNyZWF0ZU5ldHdvcmtTdHJlYW0obW9ja1NvY2tldCk7XHJcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XHJcbiAgICBcclxuICAgIC8vIOaooeaLn+e9kee7nOmUmeivr1xyXG4gICAgY29uc3QgdGVzdEVycm9yID0gbmV3IEVycm9yKCdOZXR3b3JrIGNvbm5lY3Rpb24gbG9zdCcpO1xyXG4gICAgZXJyb3JDYWxsYmFjayEodGVzdEVycm9yKTtcclxuICAgIFxyXG4gICAgLy8g6aqM6K+B5rWB6ZSZ6K+v5aSE55CGXHJcbiAgICBleHBlY3QobW9ja1NvY2tldC5vbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Vycm9yJywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xyXG4gICAgXHJcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcclxuICB9KTtcclxufSk7Il0sInZlcnNpb24iOjN9