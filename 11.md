# plan
@logicanalyzer/Software 是一个pico 版本的逻辑分析器软件，现在我需要你根据 @logicanalyzer/Software 源代码，实现一个基于VScode的调试插件，实现功能需要和 @logicanalyzer/Software 保持完全一致。

包括分析 @logicanalyzer/Software 插件中的协议解析功能。

前端页面使用 vue3 + element plus 实现。

深度思考，读取所有代码，分析 @logicanalyzer/Software 的结构和功能，你先按照这个要求整理一份完整的项目技术方案书，要求细致，深入，详细，包括技术架构，实现细节，分布实现步骤等等细节。

技术方案书以 markdown 格式输出到 @vscode-logicanalyzer\plan.md 位置。

##
现在我打算进入开发阶段，但是我发现 @plan.md 文件已经有3000页了，文件太大了，不方便我们后续阅读，我想把这个文件在当前的基础上做拆分， @plan.md 专注规划，把分阶段实施步骤拆分出来，放到 @todo_list.md 中去。

## 
你现在再次深度思考，读取 @logicanalyzer/Software 下的所有代码和 @logicanalyzer 目录下其他有用的文件，分析比对我们的技术规划和计划 @docs/plan.md 和 @docs/todo_list.md 的具体实施步骤，详细比较，看下 @docs 下的文档是否还需要进一步优化和更新。

特别注意，我们的系统具有可扩展性和可维护性，不能使用 python 类的其他任何语言语言，只能使用纯净的 TS 语言来开发。

分析要细致、深入、全面，如果有需要更新的地方，那么更新。

如果更新了 @docs/plan.md 必须同步更新 @docs/todo_list.md 保持统一。

-------------------------------------------------
> 大模型会偷懒，需要不断的多次分析，上面的话多分析几次。


##
根据 @docs/plan.md  @docs/todo_list.md，完成  @vscode-logicanalyzer 项目的 CLAUDE.md 文件，这个文件对你来说很重要，特别是架构方面的约束。

# star

现在请你根据 @docs/todo_list.md，开发实现代码，完成 第八阶段：测试和优化 (第25-26周) 工作.
1. 开发过程中参照 @docs/plan.md 
2. 开发过程中不可以使用如 python c++ c java 等其他任何语言。
3. 开发过程中必须严格按照 @logicanalyzer/Software 中原有的功能思路进行开发，深度思考，深度思考，阅读和比对代码中所有的结构、设计、代码、功能。不能随意发挥，逻辑和流程必须完全保持高度一致。
4. 开发过程中需要查看相关官方文档的地方必须使用 @context7。
5. 完成一个阶段后需要完成自测，保证这一个阶段的功能正确运行，确保可以正常实现。
6. 完成一个步骤之后就将这个已经完成的步骤 ☑️ 表示已经完成，更新  @docs/todo_list.md。


## check

现在我们的项目大概框架已经完成第一阶段开发，开发的文档都在 @docs/ 目录下有 @docs/plan.md 和 @docs/todo_list.md 。

现在我需要你深度思考，参考  @docs/plan.md 和 @docs/todo_list.md ，再次 细致深入的分析 @logicanalyzer ，列出所有该软件的功能点，以及该功能点的细节实现细节，我需要的是所有功能，要深入，细致，全面的分析。


然后看下  @docs/logicanalyzer 目录下之前整理的分析文档，是否需要进一步补充优化。用于后续 和我们项目功能做详细的对比，文档按照功能模块分文档管理，分析要非常详细，细致。

完成后整理成md文档，放到 @docs/logicanalyzer 目录下，用于后续 和我们项目功能做详细的对比，文档按照功能模块分文档管理，分析要非常详细，细致。  


之前已经完成了一部分工作，继续根据 docs/logicanalyzer/README.md 文档里面的未完成的内容，完成相关条目的工作。

### comparison

之前我让你细致深入的分析 @logicanalyzer ，列出所有该软件的功能点，以及该功能点的细节实现细节，整理成md文档，放到 @docs/logicanalyzer 目录下。

现在我需要你参考  @docs/logicanalyzer 目录下的文档，读取我们项目中的所有源代码，参考 @docs/plan.md 和 @docs/todo_list.md ，深入，细致，全面的分析当前 vscode 插件项目的所有功能，目前与  @logicanalyzer 和 @docs/logicanalyzer 目录下 文档的差异，

深度思考，全力以赴，将目前的功能完成情况和 差异点 整理成 md 文档，放到 @docs/vscode-externsion 目录下，要求按照功能点拆分多个md文档。


###
接下来你深度思考，帮我整理一下 @src 下目录的目录结构和作用的介绍文档，md 格式，放到 @docs 下




## 单元测试

现在你需要深度思考完成以下工作：

当前项目是一个基于 @logicanalyzer 实现的一个串口可视化 VSCode 插件，现在你需要先阅读 @docs/plan.md 下的项目技术架构，然后整理一个完整、系统、全面的单元测试方案，来测试所有功能。

目前功能开发接近尾声，需要对整个项目的代码进行完整的单元测试方案规划。

测试方案整理成 md 格式，放到 @docs/utest 目录中。

要求细致，深入，详细，包括单元测试覆盖率和覆盖率要求，单元测试功能模块划分以及每个单元测试代码实现等等。

## 
现在你需要深度思考完成以下工作：

根据 @docs/utest 这个测试方案，然后开始编写测试用例。

完成所有测试用例编写与实现，单元测试代码实现放在 @utest/ 满足单元测试覆盖度要求，保证单元测试质量。

完成一个单元测试用例编写，就完成运行，测试，如果发现问题就修复源代码中的问题，暗沉一个模块测试，需要总结编写当前用例测试情况的汇总报告，测试报告放到 @utest/docs 目录下。

先整理一个 单元测试用例子编写和测试计划文档，整理成md格式，放到 @utest/docs 目录下，然后依照计划依次执行，完成一个就更新计划文档。



## utest

现在你需要深度思考完成以下工作：

根据 @utest/docs/unit-test-implementation-plan.md 中的计划 和 @utest/docs/unit-test-progress-report.md 中的进度，依次完成单元测试用例编写，然后使用该用例测试 src对应的项目文件，完成单元测试。

完成一个单元测试用例编写，就完成运行，测试，如果发现问题就修复源代码中的问题，暗沉一个模块测试，需要总结编写当前用例测试情况的汇总报告，测试报告放到 @utest/docs 目录下。




##
现在你需要深度思考完成以下工作：

检查 @utest/docs 目录下文档 和 @utest/docs/unit-test-progress-report.md 中的进度，与 src 源码文件中内容进行一致性校验，完成加些来的工作。

再次运行单元测试，确保单元测试的有效性和覆盖率真是有效。

检查要深入、细致、全面，完成所有 src 目录下源代码模块的复查，如果有问题，修复对应的问题，然后再次更新 @utest/docs/unit-test-progress-report.md 文档。

##
现在你需要深度思考完成以下工作：

根据 @utest/docs/unit-test-implementation-plan.md 中的计划，然后根据 @utest/docs/unit-test-final-completion-report.md 进度情况，依次完成单元测试用例编写，然后使用该用例测试 src对应的项目文件，完成单元测试。

完成一个单元测试用例编写，就完成运行，测试，如果发现问题就修复源代码中的问题。

完成一个模块测试，需要总结编写当前用例测试情况的汇总报告，更新 @utest/docs/unit-test-final-completion-report.md 进度情况，每个模块的进度单独管理，需要汇总到一个单独的总进度文件里面。


## 

现在你需要深度思考完成以下工作：

根据 @utest/docs/unit-test-implementation-plan.md 中的计划，查看 @src 下的代码和 @src/tests 下的测试用例，对照  @utest/docs 的文档，梳理
1. 每个功能测试用例和测试覆盖率与代码是否一致
2. 每个功能测试用例文档是否正确，覆盖度是否正确
3.  @utest/docs 下进度情况与实际情况是否完全一致

以上内容有不一致的请修改，并将 @utest/docs 进度总况文档搞成一份，通过文档内连接的方式，进行文档导航。

重复的文档要合并到一份里面，然后检查每个功能的进度情况。

每个功能的测试文档要保存在一个子目录下，清晰，方便后续管理。


现在你需要深度思考完成以下工作：
1. 分析 @tests 下的文件是否还有价值，有价值保留，没有价值删除
2. 根目录下 debug_ 和 test_开头的文件是否还有价值，有价值的统一到 @tests 目录，没有价值删除


## 
现在你需要深度思考完成以下工作：

1. @utest/docs 目录下有好多个进度文件 
 @utest/docs/current-status-report.md
 @utest/docs/master-progress-summary.md
 @utest/docs/performance-testing-plan.md
 @utest/docs/REORGANIZATION_SUMMARY.md
 @utest/docs/test-configuration-and-tools.md
 @utest/docs/test-implementation-examples.md

我都搞不清楚当前状态了，你需要重新帮我整理一个总的测试进度的入口文件，合并到 @utest/docs/todo.md 文件。上面有用的关于子功能模块测试的文档，可以放到 @utest/docs/reports 目录下统一管理。

2. @utest/docs/todo.md 记录的是单元测试项目分解后的工作项目，比如 WEEK1 WEEK2，每个工作分解项完成后就可以打勾处理，这样就很清楚了。


##
现在你需要深度思考完成以下工作：

1. 请参照 @utest/docs/unit-test-implementation-plan.md 中的计划，以及 @utest/docs/todo.md 中的工作列表，按照顺序，依次完成每个功能模块的单元测试。
2. 运行 @utest/unit 下的单元测试用例，完成 src 对应的项目文件对应功能模块的单元测试，如果发现 src 代码有问题必须要修复。
2. 每完成一个功能模块测试，必须更新对应的 @utest/docs 下对应功能模块的文档，没有就创建，存在就更新，
3. 我特别关注单元测试覆盖率，必须根据每次测试执行后，运行覆盖率报告。
4. 每完成一个功能模块测试，必须更新对应的 @utest/docs/todo.md 中的该项，必须严格执行。

特别关注单元测试覆盖率低，需要重构的部分，完成优化后，测试 src 对应的功能模块，完成高优先级，完成后必须更新 @utest/docs/todo.md 进度


## check
现在你需要再次深度思考，完成以下工作：
1. 读取全部 @logicanalyzer 相关代码，全面、深入、细致的核对 @logicanalyzer 和 src 下的源码功能是否完全匹配
2. 将上面核对后的结果，更新进 @plan2/功能匹配度深度分析报告.md 文档。

文档要详细，记录当前存在的问题，接下来应该怎么做，哪里做的好，哪里做的不好，优先级是怎么样的

###
现在你需要深度思考完成以下工作：
 1. 全面、深入、细致的核对 @docs/plan.md 和 src 下的源码是否完全匹配
 2. 全面、深入、细致的核对 @utest/docs/unit-test-implementation-plan.md 中的单元测试计划 和 @docs/plan.md 是否完全匹配
 3. 全面、深入、细致的核对 @utest 下的单元测试用例覆盖程度是否与 @utest/docs/todo.md 是否完全匹配
 4. 将上面核对后的结果，写入一个 md 文档，存到根目录下。

文档要详细，记录当前存在的问题，接下来应该怎么做，哪里做的好，哪里做的不好，优先级是怎么样的


###
深度思考，分析当前 @utest 下的单元测试用例，系统、深入，细致的更新 @utest/docs/todo.md 完成测试用例数量和覆盖率，通过率等情况，方便后续继续优化提供指引。

优化 @utest/docs/todo.md 去掉历史信息，只保留当前版本的最新状态   


##
现在你需要深度思考完成以下工作：

1. 读取 @plan2/plan2.md 中的 深度分析报告，结合 @plan2/todo.md 行动计划
2. 深入查看并参考 @logicanalyzer 下的对应模块的代码，完善 @src 
3. 完成  Week 14: 测量工具实现 (P2 - 中优先级)
4. 代码修复工作要细致，全面，深入，并保证不影响当前现有功能
5. 完成当前阶段工作后，必须要将当前工作状态写入 @plan2/todo.md，在该项目上打 ☑️ 确认
6. 不要着急完成所有工作，一次完成 1 个 WEEK，但是必须要保证这个 WEEK 的工作是 100% 完成。



5. 完成  Week 15: 用户界面优化 (P2 - 中优先级)
6. 完成  Week 16: 集成测试和文档 (P1 - 高优先级)


##
现在你需要深度思考完成以下工作：

1. 读取 @plan2/plan2.md 中的 深度分析报告，结合 @plan2/todo.md 行动计划
2. 深入读取和查看 @src 下的代码
3. 比对 @utest 下单元测试的对应是否覆盖，补足新增功能的单元测试，完善单元测试用例，提升单元覆盖率
4. 根据以上比对 @plan2/todo.md 已经完成的 新增的内容，全面梳理并更新 @utest/docs 和 @utest/docs/todo.md
5. 先整理计划，优化  @utest/docs 和 @utest/docs/todo.md
6. todo.md 要按照月为单位梳理，然后拆分为 WEEK，todo list 要深入，细致，全面，可行性高 不求速度，需要质量，稳步推进

##
现在你需要深度思考完成以下工作：

1. 根据 @utest/docs/todo.md 中的计划，完成单元测试用例编写，
2. 使用该用例测试 src 对应的项目文件，必须完成单元测试，验证 src 对应功能是否正确，覆盖率是多少。
3. 深度思考是否还可以提升覆盖率，如果可以提升覆盖率就完善测试用例，并进行单元测试。
4. 完成一个单元测试用例编写，完成运行，测试，如果发现问题就修复源代码中的问题，
5. 完成一个模块测试，必须总结编写当前用例测试情况的汇总报告，测试报告放到 @utest/docs/reports 目录下。
6. 完成以上模块测试后，必须同步更新 @utest/docs/todo.md 中的计划，在已经完成的项目中 勾选✔️即可

特别关注单元测试覆盖率低，需要重构的部分，完成优化后，测试 src 对应的功能模块，完成高优先级，完成后必须更新 @utest/docs/todo.md 进度

现在完善 @utest/docs/todo.md 中 高优先级 的单元测试


## 
现在你需要深度思考完成以下工作：

目前发现 @tests/ 和 utest/ 两套测试体系并存，需要进行一次彻底检查，合并成一套测试代码体系，单元测试统一放到 @utest 目录，现在需要全面检查 @tests 目录下的代码，比对 @utest 下对应的代码，比对是否一致，
@utest 下没有的功能需要从 @tests 代码下同步过来。

完成全部同步后 @tests 的代码废弃掉，删除。


深度思考，是否可以让 utest 目录下的文件不参与编译，这样在正常编译的时候就不会有警告了啊



###
深度思考，分析当前 @utest 下的单元测试用例，系统、深入，细致的更新 @utest/docs/todo.md 完成测试用例数量和覆盖率，通过率等情况，方便后续继续优化提供指引。

优化 @utest/docs/todo.md 去掉历史信息，只保留当前版本的最新状态   


##
我怀疑你单元测试的有效性，

现在你需要深度思考完成以下工作：

1. 依次运行 @utest 下的 TOOLS 单元测试用例，验证 @src 该下模块是否正确，修改所有出现问题的 @src 下的模块
2. 单元测试完成，并修复 @src 下代码错误后，整理运行结果报告放到 @docs/utest/README.md 的同名目录
3. 确认当前状态与 @docs/utest/README.md 中的运行情况是否一致，不一致的话需要再次运行单元测试，直到状态完全一致，更新 @docs/utest/README.md 下的单元测试结果
4. 在 @docs/utest/README.md 下的增加该模块单元测试覆盖率
5. 每次都只测试，修复一个模块，直到该模块单元测试通过，单元测试覆盖率必须要达到 95% 以上，测试通过率必须要达到 100% 要求，


##
深度思考 根据 @docs/utest/todo.md 中 DECODERS 模块 (优先级: 高) 中的待办事项，达到和 UTILS 模块类似的 100% 单元测试通过率，95% 以上的单元测试覆盖率，完成工作后更新 @docs/utest/todo.md 中对应事项，文档更新参照 UTILS


##
深度思考完成以下工作：

1. 重新依次运行 @utest 下每一个单元模块的单元测试用例，真实测试 @src 下的代码，依次统计每个模块的真实的覆盖率和通过率，然后将最新状态更新至 @docs/utest/README.md
 
2. 我的要求是统计完成一个，就更新 @docs/utest/README.md，而不是所有都运行完了再统计


##
根据 @docs/utest/README.md 最新统计的 @utest 下单元测试覆盖率和通过率，我感觉我们的任务还很重很重，现在我要去你深度思考实现一下任务
1. 一个一个来提升覆盖率，我们先提升 UTILS 模块，  
2. 你先整理提升覆盖率 95% 以上，通过率100% 的任务拆分计划，放到根目录下 utest-step 目录下，以模块名字命名，md格式
3. 不要着急，一点一点提升，这样肯定是可以达到目标的，不要一下就想达到最终目标，
4. 拆分好任务后，严格按照上面的文件计划一步一步执行，提升，实现最终目录
5. 没实现一步，就修改上诉文档中对应项，打勾，并填写当前的覆盖率和通过率。


## 复核
深度思考，再次运行 @utest 下单元测试覆盖率和通过率 UTILS 模块，测试对应 @src 下模块，文件覆盖率，文件内的覆盖率，通过率，然后与 @utest-step/UTILS.md 对比是否正确，如果有差异就修改 @utest-step/UTILS.md 。测试细致，深入，全面


##
深度思考，我想你看一下 utest 里面的单元测试方案架构是否可行，是否真实测试 @src 覆盖率多少，通过率多少，接下来需要怎么做才可以提高覆盖率和通过率，发现更多 @src 问题。整理成 md文档，放到 docs/utest 下，可以对比一下当前的 docs/utest 下的文档，看下文档是否正确，是否需要进一步优化


##
现在要你深度思考，不看任何已经有的文档，重新阅读所有 @utest 下的测试，我需要真实验证 @src 下的源码下的真实通过率和覆盖率，检验当前单元测试方案的可行性，放到根目录下的 @utest2-docs/utest-check.md

###
@utest2-docs/utest-check.md 是之前你分析的当前单元测试存在的问题，你是否可以帮我拆分一下接下来要优化文档里面提到的单元测试问题的计划，整理到 @utest2-docs/todo.md 里面，计划要详细细致全面，同时每个步骤单独整理一个文档，通过总文件链接。要求深度思考，一步一步提升，我要的是解决问题，而不是快

###

@utest2-docs/utest-check.md 是之前你分析的当前单元测试存在的问题, @utest2-docs/todo.md 和 @utest2-docs/plan 是单元测试修复计划，现在我要求你深度思考，读取 @utest 下的代码，检查当前修复单元测试问题的进度，整理到 @utest2-docs/step.md